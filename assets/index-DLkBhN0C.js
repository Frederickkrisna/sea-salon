var UI=Object.defineProperty;var BI=(t,e,n)=>e in t?UI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>BI(t,typeof e!="symbol"?e+"":e,n);function WI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hS={exports:{}},Jd={},fS={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),zI=Symbol.for("react.portal"),HI=Symbol.for("react.fragment"),$I=Symbol.for("react.strict_mode"),YI=Symbol.for("react.profiler"),KI=Symbol.for("react.provider"),qI=Symbol.for("react.context"),QI=Symbol.for("react.forward_ref"),GI=Symbol.for("react.suspense"),XI=Symbol.for("react.memo"),JI=Symbol.for("react.lazy"),z0=Symbol.iterator;function ZI(t){return t===null||typeof t!="object"?null:(t=z0&&t[z0]||t["@@iterator"],typeof t=="function"?t:null)}var pS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mS=Object.assign,gS={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=gS,this.updater=n||pS}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yS(){}yS.prototype=Wo.prototype;function wg(t,e,n){this.props=t,this.context=e,this.refs=gS,this.updater=n||pS}var Eg=wg.prototype=new yS;Eg.constructor=wg;mS(Eg,Wo.prototype);Eg.isPureReactComponent=!0;var H0=Array.isArray,vS=Object.prototype.hasOwnProperty,Tg={current:null},_S={key:!0,ref:!0,__self:!0,__source:!0};function wS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vS.call(e,r)&&!_S.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zl,type:t,key:s,ref:o,props:i,_owner:Tg.current}}function eb(t,e){return{$$typeof:zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===zl}function tb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $0=/\/+/g;function Ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tb(""+t.key):e.toString(36)}function dc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zl:case zI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ef(o,0):r,H0(i)?(n="",t!=null&&(n=t.replace($0,"$&/")+"/"),dc(i,e,n,"",function(c){return c})):i!=null&&(Sg(i)&&(i=eb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",H0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ef(s,a);o+=dc(s,e,n,l,i)}else if(l=ZI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ef(s,a++),o+=dc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Au(t,e,n){if(t==null)return t;var r=[],i=0;return dc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},hc={transition:null},rb={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:hc,ReactCurrentOwner:Tg};function ES(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Au,forEach:function(t,e,n){Au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Au(t,function(){e++}),e},toArray:function(t){return Au(t,function(e){return e})||[]},only:function(t){if(!Sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Wo;ue.Fragment=HI;ue.Profiler=YI;ue.PureComponent=wg;ue.StrictMode=$I;ue.Suspense=GI;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb;ue.act=ES;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vS.call(e,l)&&!_S.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zl,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:qI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KI,_context:t},t.Consumer=t};ue.createElement=wS;ue.createFactory=function(t){var e=wS.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:QI,render:t}};ue.isValidElement=Sg;ue.lazy=function(t){return{$$typeof:JI,_payload:{_status:-1,_result:t},_init:nb}};ue.memo=function(t,e){return{$$typeof:XI,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=hc.transition;hc.transition={};try{t()}finally{hc.transition=e}};ue.unstable_act=ES;ue.useCallback=function(t,e){return jt.current.useCallback(t,e)};ue.useContext=function(t){return jt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return jt.current.useEffect(t,e)};ue.useId=function(){return jt.current.useId()};ue.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return jt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};ue.useRef=function(t){return jt.current.useRef(t)};ue.useState=function(t){return jt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return jt.current.useTransition()};ue.version="18.3.1";fS.exports=ue;var b=fS.exports;const F=_g(b),TS=WI({__proto__:null,default:F},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=b,sb=Symbol.for("react.element"),ob=Symbol.for("react.fragment"),ab=Object.prototype.hasOwnProperty,lb=ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ub={key:!0,ref:!0,__self:!0,__source:!0};function SS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ab.call(e,r)&&!ub.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sb,type:t,key:s,ref:o,props:i,_owner:lb.current}}Jd.Fragment=ob;Jd.jsx=SS;Jd.jsxs=SS;hS.exports=Jd;var C=hS.exports,bp={},xS={exports:{}},sn={},PS={exports:{}},kS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,H){var oe=W.length;W.push(H);e:for(;0<oe;){var Ne=oe-1>>>1,xe=W[Ne];if(0<i(xe,H))W[Ne]=H,W[oe]=xe,oe=Ne;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var H=W[0],oe=W.pop();if(oe!==H){W[0]=oe;e:for(var Ne=0,xe=W.length,He=xe>>>1;Ne<He;){var Gn=2*(Ne+1)-1,Xn=W[Gn],Jn=Gn+1,Zn=W[Jn];if(0>i(Xn,oe))Jn<xe&&0>i(Zn,Xn)?(W[Ne]=Zn,W[Jn]=oe,Ne=Jn):(W[Ne]=Xn,W[Gn]=oe,Ne=Gn);else if(Jn<xe&&0>i(Zn,oe))W[Ne]=Zn,W[Jn]=oe,Ne=Jn;else break e}}return H}function i(W,H){var oe=W.sortIndex-H.sortIndex;return oe!==0?oe:W.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,E=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=W)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function A(W){if(_=!1,T(W),!E)if(n(l)!==null)E=!0,Z(M);else{var H=n(c);H!==null&&J(A,H.startTime-W)}}function M(W,H){E=!1,_&&(_=!1,y(w),w=-1),g=!0;var oe=f;try{for(T(H),h=n(l);h!==null&&(!(h.expirationTime>H)||W&&!R());){var Ne=h.callback;if(typeof Ne=="function"){h.callback=null,f=h.priorityLevel;var xe=Ne(h.expirationTime<=H);H=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),T(H)}else r(l);h=n(l)}if(h!==null)var He=!0;else{var Gn=n(c);Gn!==null&&J(A,Gn.startTime-H),He=!1}return He}finally{h=null,f=oe,g=!1}}var V=!1,P=null,w=-1,k=5,D=-1;function R(){return!(t.unstable_now()-D<k)}function N(){if(P!==null){var W=t.unstable_now();D=W;var H=!0;try{H=P(!0,W)}finally{H?I():(V=!1,P=null)}}else V=!1}var I;if(typeof v=="function")I=function(){v(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=N,I=function(){Q.postMessage(null)}}else I=function(){S(N,0)};function Z(W){P=W,V||(V=!0,I())}function J(W,H){w=S(function(){W(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,Z(M))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var oe=f;f=H;try{return W()}finally{f=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=f;f=W;try{return H()}finally{f=oe}},t.unstable_scheduleCallback=function(W,H,oe){var Ne=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ne+oe:Ne):oe=Ne,W){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=oe+xe,W={id:d++,callback:H,priorityLevel:W,startTime:oe,expirationTime:xe,sortIndex:-1},oe>Ne?(W.sortIndex=oe,e(c,W),n(l)===null&&W===n(c)&&(_?(y(w),w=-1):_=!0,J(A,oe-Ne))):(W.sortIndex=xe,e(l,W),E||g||(E=!0,Z(M))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var H=f;return function(){var oe=f;f=H;try{return W.apply(this,arguments)}finally{f=oe}}}})(kS);PS.exports=kS;var cb=PS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=b,nn=cb;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CS=new Set,ol={};function Ss(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(ol[t]=e,t=0;t<e.length;t++)CS.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=Object.prototype.hasOwnProperty,hb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y0={},K0={};function fb(t){return Rp.call(K0,t)?!0:Rp.call(Y0,t)?!1:hb.test(t)?K0[t]=!0:(Y0[t]=!0,!1)}function pb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mb(t,e,n,r){if(e===null||typeof e>"u"||pb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var xg=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xg,Pg);gt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xg,Pg);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xg,Pg);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mb(e,n,i,r)&&(n=null),r||i===null?fb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),bS=Symbol.for("react.offscreen"),q0=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Tf;function Ia(t){if(Tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var Sf=!1;function xf(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ia(t):""}function gb(t){switch(t.tag){case 5:return Ia(t.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return t=xf(t.type,!1),t;case 11:return t=xf(t.type.render,!1),t;case 1:return t=xf(t.type,!0),t;default:return""}}function Op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Ws:return"Portal";case Ap:return"Profiler";case Cg:return"StrictMode";case Np:return"Suspense";case Mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IS:return(t.displayName||"Context")+".Consumer";case DS:return(t._context.displayName||"Context")+".Provider";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ig:return e=t.displayName||null,e!==null?e:Op(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return Op(t(e))}catch{}}return null}function yb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(e);case 8:return e===Cg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vb(t){var e=RS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mu(t){t._valueTracker||(t._valueTracker=vb(t))}function AS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lp(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NS(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Vp(t,e){NS(t,e);var n=vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fp(t,e.type,vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fp(t,e,n){(e!=="number"||Uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ba(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vi(n)}}function MS(t,e){var n=vi(e.value),r=vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function J0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,LS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_b=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){_b.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function VS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function FS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wb=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(t,e){if(e){if(wb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function bg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hp=null,oo=null,ao=null;function Z0(t){if(t=Yl(t)){if(typeof Hp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=rh(e),Hp(t.stateNode,t.type,e))}}function jS(t){oo?ao?ao.push(t):ao=[t]:oo=t}function US(){if(oo){var t=oo,e=ao;if(ao=oo=null,Z0(t),e)for(t=0;t<e.length;t++)Z0(e[t])}}function BS(t,e){return t(e)}function WS(){}var Pf=!1;function zS(t,e,n){if(Pf)return t(e,n);Pf=!0;try{return BS(t,e,n)}finally{Pf=!1,(oo!==null||ao!==null)&&(WS(),US())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var r=rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var $p=!1;if(_r)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){$p=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{$p=!1}function Eb(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Wa=!1,Bc=null,Wc=!1,Yp=null,Tb={onError:function(t){Wa=!0,Bc=t}};function Sb(t,e,n,r,i,s,o,a,l){Wa=!1,Bc=null,Eb.apply(Tb,arguments)}function xb(t,e,n,r,i,s,o,a,l){if(Sb.apply(this,arguments),Wa){if(Wa){var c=Bc;Wa=!1,Bc=null}else throw Error(B(198));Wc||(Wc=!0,Yp=c)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function e_(t){if(xs(t)!==t)throw Error(B(188))}function Pb(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e_(i),t;if(s===r)return e_(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function $S(t){return t=Pb(t),t!==null?YS(t):null}function YS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YS(t);if(e!==null)return e;t=t.sibling}return null}var KS=nn.unstable_scheduleCallback,t_=nn.unstable_cancelCallback,kb=nn.unstable_shouldYield,Cb=nn.unstable_requestPaint,Ye=nn.unstable_now,Db=nn.unstable_getCurrentPriorityLevel,Rg=nn.unstable_ImmediatePriority,qS=nn.unstable_UserBlockingPriority,zc=nn.unstable_NormalPriority,Ib=nn.unstable_LowPriority,QS=nn.unstable_IdlePriority,Zd=null,Vn=null;function bb(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Zd,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Nb,Rb=Math.log,Ab=Math.LN2;function Nb(t){return t>>>=0,t===0?32:31-(Rb(t)/Ab|0)|0}var Lu=64,Vu=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ra(a):(s&=o,s!==0&&(r=Ra(s)))}else o=n&~i,o!==0?r=Ra(o):s!==0&&(r=Ra(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function Mb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ob(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Mb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GS(){var t=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function Lb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ag(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function XS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JS,Ng,ZS,ex,tx,qp=!1,Fu=[],ni=null,ri=null,ii=null,ul=new Map,cl=new Map,Hr=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n_(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(e.pointerId)}}function ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&Ng(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fb(t,e,n,r,i){switch(e){case"focusin":return ni=ya(ni,t,e,n,r,i),!0;case"dragenter":return ri=ya(ri,t,e,n,r,i),!0;case"mouseover":return ii=ya(ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ul.set(s,ya(ul.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cl.set(s,ya(cl.get(s)||null,t,e,n,r,i)),!0}return!1}function nx(t){var e=Ki(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=HS(n),e!==null){t.blockedOn=e,tx(t.priority,function(){ZS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zp=r,n.target.dispatchEvent(r),zp=null}else return e=Yl(n),e!==null&&Ng(e),t.blockedOn=n,!1;e.shift()}return!0}function r_(t,e,n){fc(t)&&n.delete(e)}function jb(){qp=!1,ni!==null&&fc(ni)&&(ni=null),ri!==null&&fc(ri)&&(ri=null),ii!==null&&fc(ii)&&(ii=null),ul.forEach(r_),cl.forEach(r_)}function va(t,e){t.blockedOn===e&&(t.blockedOn=null,qp||(qp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,jb)))}function dl(t){function e(i){return va(i,t)}if(0<Fu.length){va(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&va(ni,t),ri!==null&&va(ri,t),ii!==null&&va(ii,t),ul.forEach(e),cl.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)nx(n),n.blockedOn===null&&Hr.shift()}var lo=br.ReactCurrentBatchConfig,$c=!0;function Ub(t,e,n,r){var i=Se,s=lo.transition;lo.transition=null;try{Se=1,Mg(t,e,n,r)}finally{Se=i,lo.transition=s}}function Bb(t,e,n,r){var i=Se,s=lo.transition;lo.transition=null;try{Se=4,Mg(t,e,n,r)}finally{Se=i,lo.transition=s}}function Mg(t,e,n,r){if($c){var i=Qp(t,e,n,r);if(i===null)Lf(t,e,r,Yc,n),n_(t,r);else if(Fb(i,t,e,n,r))r.stopPropagation();else if(n_(t,r),e&4&&-1<Vb.indexOf(t)){for(;i!==null;){var s=Yl(i);if(s!==null&&JS(s),s=Qp(t,e,n,r),s===null&&Lf(t,e,r,Yc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lf(t,e,r,null,n)}}var Yc=null;function Qp(t,e,n,r){if(Yc=null,t=bg(r),t=Ki(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function rx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Db()){case Rg:return 1;case qS:return 4;case zc:case Ib:return 16;case QS:return 536870912;default:return 16}default:return 16}}var Gr=null,Og=null,pc=null;function ix(){if(pc)return pc;var t,e=Og,n=e.length,r,i="value"in Gr?Gr.value:Gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pc=i.slice(t,1<r?1-r:void 0)}function mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function i_(){return!1}function on(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ju:i_,this.isPropagationStopped=i_,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lg=on(zo),$l=Fe({},zo,{view:0,detail:0}),Wb=on($l),Cf,Df,_a,eh=Fe({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Cf=t.screenX-_a.screenX,Df=t.screenY-_a.screenY):Df=Cf=0,_a=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),s_=on(eh),zb=Fe({},eh,{dataTransfer:0}),Hb=on(zb),$b=Fe({},$l,{relatedTarget:0}),If=on($b),Yb=Fe({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),Kb=on(Yb),qb=Fe({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qb=on(qb),Gb=Fe({},zo,{data:0}),o_=on(Gb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zb[t])?!!e[t]:!1}function Vg(){return eR}var tR=Fe({},$l,{key:function(t){if(t.key){var e=Xb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vg,charCode:function(t){return t.type==="keypress"?mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nR=on(tR),rR=Fe({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a_=on(rR),iR=Fe({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vg}),sR=on(iR),oR=Fe({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),aR=on(oR),lR=Fe({},eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uR=on(lR),cR=[9,13,27,32],Fg=_r&&"CompositionEvent"in window,za=null;_r&&"documentMode"in document&&(za=document.documentMode);var dR=_r&&"TextEvent"in window&&!za,sx=_r&&(!Fg||za&&8<za&&11>=za),l_=" ",u_=!1;function ox(t,e){switch(t){case"keyup":return cR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function hR(t,e){switch(t){case"compositionend":return ax(e);case"keypress":return e.which!==32?null:(u_=!0,l_);case"textInput":return t=e.data,t===l_&&u_?null:t;default:return null}}function fR(t,e){if(Hs)return t==="compositionend"||!Fg&&ox(t,e)?(t=ix(),pc=Og=Gr=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sx&&e.locale!=="ko"?null:e.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pR[t.type]:e==="textarea"}function lx(t,e,n,r){jS(r),e=Kc(e,"onChange"),0<e.length&&(n=new Lg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ha=null,hl=null;function mR(t){_x(t,0)}function th(t){var e=Ks(t);if(AS(e))return t}function gR(t,e){if(t==="change")return e}var ux=!1;if(_r){var bf;if(_r){var Rf="oninput"in document;if(!Rf){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),Rf=typeof d_.oninput=="function"}bf=Rf}else bf=!1;ux=bf&&(!document.documentMode||9<document.documentMode)}function h_(){Ha&&(Ha.detachEvent("onpropertychange",cx),hl=Ha=null)}function cx(t){if(t.propertyName==="value"&&th(hl)){var e=[];lx(e,hl,t,bg(t)),zS(mR,e)}}function yR(t,e,n){t==="focusin"?(h_(),Ha=e,hl=n,Ha.attachEvent("onpropertychange",cx)):t==="focusout"&&h_()}function vR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return th(hl)}function _R(t,e){if(t==="click")return th(e)}function wR(t,e){if(t==="input"||t==="change")return th(e)}function ER(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:ER;function fl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rp.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function f_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p_(t,e){var n=f_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f_(n)}}function dx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hx(){for(var t=window,e=Uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uc(t.document)}return e}function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TR(t){var e=hx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dx(n.ownerDocument.documentElement,n)){if(r!==null&&jg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=p_(n,s);var o=p_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SR=_r&&"documentMode"in document&&11>=document.documentMode,$s=null,Gp=null,$a=null,Xp=!1;function m_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xp||$s==null||$s!==Uc(r)||(r=$s,"selectionStart"in r&&jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&fl($a,r)||($a=r,r=Kc(Gp,"onSelect"),0<r.length&&(e=new Lg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$s)))}function Uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},Af={},fx={};_r&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function nh(t){if(Af[t])return Af[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fx)return Af[t]=e[n];return t}var px=nh("animationend"),mx=nh("animationiteration"),gx=nh("animationstart"),yx=nh("transitionend"),vx=new Map,g_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){vx.set(t,e),Ss(e,[t])}for(var Nf=0;Nf<g_.length;Nf++){var Mf=g_[Nf],xR=Mf.toLowerCase(),PR=Mf[0].toUpperCase()+Mf.slice(1);Di(xR,"on"+PR)}Di(px,"onAnimationEnd");Di(mx,"onAnimationIteration");Di(gx,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(yx,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xb(r,e,void 0,t),t.currentTarget=null}function _x(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;y_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;y_(i,a,c),s=l}}}if(Wc)throw t=Yp,Wc=!1,Yp=null,t}function Ie(t,e){var n=e[nm];n===void 0&&(n=e[nm]=new Set);var r=t+"__bubble";n.has(r)||(wx(e,t,2,!1),n.add(r))}function Of(t,e,n){var r=0;e&&(r|=4),wx(n,t,r,e)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[Bu]){t[Bu]=!0,CS.forEach(function(n){n!=="selectionchange"&&(kR.has(n)||Of(n,!1,t),Of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bu]||(e[Bu]=!0,Of("selectionchange",!1,e))}}function wx(t,e,n,r){switch(rx(e)){case 1:var i=Ub;break;case 4:i=Bb;break;default:i=Mg}n=i.bind(null,e,n,t),i=void 0,!$p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zS(function(){var c=s,d=bg(n),h=[];e:{var f=vx.get(t);if(f!==void 0){var g=Lg,E=t;switch(t){case"keypress":if(mc(n)===0)break e;case"keydown":case"keyup":g=nR;break;case"focusin":E="focus",g=If;break;case"focusout":E="blur",g=If;break;case"beforeblur":case"afterblur":g=If;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=s_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=sR;break;case px:case mx:case gx:g=Kb;break;case yx:g=aR;break;case"scroll":g=Wb;break;case"wheel":g=uR;break;case"copy":case"cut":case"paste":g=Qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=a_}var _=(e&4)!==0,S=!_&&t==="scroll",y=_?f!==null?f+"Capture":null:f;_=[];for(var v=c,T;v!==null;){T=v;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,y!==null&&(A=ll(v,y),A!=null&&_.push(ml(v,A,T)))),S)break;v=v.return}0<_.length&&(f=new g(f,E,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==zp&&(E=n.relatedTarget||n.fromElement)&&(Ki(E)||E[wr]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?Ki(E):null,E!==null&&(S=xs(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(_=s_,A="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=a_,A="onPointerLeave",y="onPointerEnter",v="pointer"),S=g==null?f:Ks(g),T=E==null?f:Ks(E),f=new _(A,v+"leave",g,n,d),f.target=S,f.relatedTarget=T,A=null,Ki(d)===c&&(_=new _(y,v+"enter",E,n,d),_.target=T,_.relatedTarget=S,A=_),S=A,g&&E)t:{for(_=g,y=E,v=0,T=_;T;T=Ls(T))v++;for(T=0,A=y;A;A=Ls(A))T++;for(;0<v-T;)_=Ls(_),v--;for(;0<T-v;)y=Ls(y),T--;for(;v--;){if(_===y||y!==null&&_===y.alternate)break t;_=Ls(_),y=Ls(y)}_=null}else _=null;g!==null&&v_(h,f,g,_,!1),E!==null&&S!==null&&v_(h,S,E,_,!0)}}e:{if(f=c?Ks(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var M=gR;else if(c_(f))if(ux)M=wR;else{M=vR;var V=yR}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=_R);if(M&&(M=M(t,c))){lx(h,M,n,d);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Fp(f,"number",f.value)}switch(V=c?Ks(c):window,t){case"focusin":(c_(V)||V.contentEditable==="true")&&($s=V,Gp=c,$a=null);break;case"focusout":$a=Gp=$s=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,m_(h,n,d);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":m_(h,n,d)}var P;if(Fg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hs?ox(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(sx&&n.locale!=="ko"&&(Hs||w!=="onCompositionStart"?w==="onCompositionEnd"&&Hs&&(P=ix()):(Gr=d,Og="value"in Gr?Gr.value:Gr.textContent,Hs=!0)),V=Kc(c,w),0<V.length&&(w=new o_(w,t,null,n,d),h.push({event:w,listeners:V}),P?w.data=P:(P=ax(n),P!==null&&(w.data=P)))),(P=dR?hR(t,n):fR(t,n))&&(c=Kc(c,"onBeforeInput"),0<c.length&&(d=new o_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=P))}_x(h,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ll(t,n),s!=null&&r.unshift(ml(t,s,i)),s=ll(t,e),s!=null&&r.push(ml(t,s,i))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ll(n,s),l!=null&&o.unshift(ml(n,l,a))):i||(l=ll(n,s),l!=null&&o.push(ml(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(CR,`
`).replace(DR,"")}function Wu(t,e,n){if(e=__(e),__(t)!==e&&n)throw Error(B(425))}function qc(){}var Jp=null,Zp=null;function em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(RR)}:tm;function RR(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dl(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),An="__reactFiber$"+Ho,gl="__reactProps$"+Ho,wr="__reactContainer$"+Ho,nm="__reactEvents$"+Ho,AR="__reactListeners$"+Ho,NR="__reactHandles$"+Ho;function Ki(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E_(t);t!==null;){if(n=t[An])return n;t=E_(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[An]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function rh(t){return t[gl]||null}var rm=[],qs=-1;function Ii(t){return{current:t}}function be(t){0>qs||(t.current=rm[qs],rm[qs]=null,qs--)}function ke(t,e){qs++,rm[qs]=t.current,t.current=e}var _i={},bt=Ii(_i),$t=Ii(!1),as=_i;function wo(t,e){var n=t.type.contextTypes;if(!n)return _i;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Qc(){be($t),be(bt)}function T_(t,e,n){if(bt.current!==_i)throw Error(B(168));ke(bt,e),ke($t,n)}function Ex(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,yb(t)||"Unknown",i));return Fe({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_i,as=bt.current,ke(bt,t),ke($t,$t.current),!0}function S_(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Ex(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,be($t),be(bt),ke(bt,t)):be($t),ke($t,n)}var rr=null,ih=!1,Ff=!1;function Tx(t){rr===null?rr=[t]:rr.push(t)}function MR(t){ih=!0,Tx(t)}function bi(){if(!Ff&&rr!==null){Ff=!0;var t=0,e=Se;try{var n=rr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,ih=!1}catch(i){throw rr!==null&&(rr=rr.slice(t+1)),KS(Rg,bi),i}finally{Se=e,Ff=!1}}return null}var Qs=[],Gs=0,Xc=null,Jc=0,cn=[],dn=0,ls=null,sr=1,or="";function Bi(t,e){Qs[Gs++]=Jc,Qs[Gs++]=Xc,Xc=t,Jc=e}function Sx(t,e,n){cn[dn++]=sr,cn[dn++]=or,cn[dn++]=ls,ls=t;var r=sr;t=or;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,sr=1<<32-Sn(e)+i|n<<i|r,or=s+t}else sr=1<<s|n<<i|r,or=t}function Ug(t){t.return!==null&&(Bi(t,1),Sx(t,1,0))}function Bg(t){for(;t===Xc;)Xc=Qs[--Gs],Qs[Gs]=null,Jc=Qs[--Gs],Qs[Gs]=null;for(;t===ls;)ls=cn[--dn],cn[dn]=null,or=cn[--dn],cn[dn]=null,sr=cn[--dn],cn[dn]=null}var Zt=null,Xt=null,Ae=!1,Tn=null;function xx(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function x_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function im(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sm(t){if(Ae){var e=Xt;if(e){var n=e;if(!x_(t,e)){if(im(t))throw Error(B(418));e=si(n.nextSibling);var r=Zt;e&&x_(t,e)?xx(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Zt=t)}}else{if(im(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,Zt=t}}}function P_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function zu(t){if(t!==Zt)return!1;if(!Ae)return P_(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!em(t.type,t.memoizedProps)),e&&(e=Xt)){if(im(t))throw Px(),Error(B(418));for(;e;)xx(t,e),e=si(e.nextSibling)}if(P_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?si(t.stateNode.nextSibling):null;return!0}function Px(){for(var t=Xt;t;)t=si(t.nextSibling)}function Eo(){Xt=Zt=null,Ae=!1}function Wg(t){Tn===null?Tn=[t]:Tn.push(t)}var OR=br.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k_(t){var e=t._init;return e(t._payload)}function kx(t){function e(y,v){if(t){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ui(y,v),y.index=0,y.sibling=null,y}function s(y,v,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=2,v):T):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,T,A){return v===null||v.tag!==6?(v=$f(T,y.mode,A),v.return=y,v):(v=i(v,T),v.return=y,v)}function l(y,v,T,A){var M=T.type;return M===zs?d(y,v,T.props.children,A,T.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Br&&k_(M)===v.type)?(A=i(v,T.props),A.ref=wa(y,v,T),A.return=y,A):(A=Tc(T.type,T.key,T.props,null,y.mode,A),A.ref=wa(y,v,T),A.return=y,A)}function c(y,v,T,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Yf(T,y.mode,A),v.return=y,v):(v=i(v,T.children||[]),v.return=y,v)}function d(y,v,T,A,M){return v===null||v.tag!==7?(v=es(T,y.mode,A,M),v.return=y,v):(v=i(v,T),v.return=y,v)}function h(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$f(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nu:return T=Tc(v.type,v.key,v.props,null,y.mode,T),T.ref=wa(y,null,v),T.return=y,T;case Ws:return v=Yf(v,y.mode,T),v.return=y,v;case Br:var A=v._init;return h(y,A(v._payload),T)}if(ba(v)||ma(v))return v=es(v,y.mode,T,null),v.return=y,v;Hu(y,v)}return null}function f(y,v,T,A){var M=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(y,v,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:return T.key===M?l(y,v,T,A):null;case Ws:return T.key===M?c(y,v,T,A):null;case Br:return M=T._init,f(y,v,M(T._payload),A)}if(ba(T)||ma(T))return M!==null?null:d(y,v,T,A,null);Hu(y,T)}return null}function g(y,v,T,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(T)||null,a(v,y,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Nu:return y=y.get(A.key===null?T:A.key)||null,l(v,y,A,M);case Ws:return y=y.get(A.key===null?T:A.key)||null,c(v,y,A,M);case Br:var V=A._init;return g(y,v,T,V(A._payload),M)}if(ba(A)||ma(A))return y=y.get(T)||null,d(v,y,A,M,null);Hu(v,A)}return null}function E(y,v,T,A){for(var M=null,V=null,P=v,w=v=0,k=null;P!==null&&w<T.length;w++){P.index>w?(k=P,P=null):k=P.sibling;var D=f(y,P,T[w],A);if(D===null){P===null&&(P=k);break}t&&P&&D.alternate===null&&e(y,P),v=s(D,v,w),V===null?M=D:V.sibling=D,V=D,P=k}if(w===T.length)return n(y,P),Ae&&Bi(y,w),M;if(P===null){for(;w<T.length;w++)P=h(y,T[w],A),P!==null&&(v=s(P,v,w),V===null?M=P:V.sibling=P,V=P);return Ae&&Bi(y,w),M}for(P=r(y,P);w<T.length;w++)k=g(P,y,w,T[w],A),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?w:k.key),v=s(k,v,w),V===null?M=k:V.sibling=k,V=k);return t&&P.forEach(function(R){return e(y,R)}),Ae&&Bi(y,w),M}function _(y,v,T,A){var M=ma(T);if(typeof M!="function")throw Error(B(150));if(T=M.call(T),T==null)throw Error(B(151));for(var V=M=null,P=v,w=v=0,k=null,D=T.next();P!==null&&!D.done;w++,D=T.next()){P.index>w?(k=P,P=null):k=P.sibling;var R=f(y,P,D.value,A);if(R===null){P===null&&(P=k);break}t&&P&&R.alternate===null&&e(y,P),v=s(R,v,w),V===null?M=R:V.sibling=R,V=R,P=k}if(D.done)return n(y,P),Ae&&Bi(y,w),M;if(P===null){for(;!D.done;w++,D=T.next())D=h(y,D.value,A),D!==null&&(v=s(D,v,w),V===null?M=D:V.sibling=D,V=D);return Ae&&Bi(y,w),M}for(P=r(y,P);!D.done;w++,D=T.next())D=g(P,y,w,D.value,A),D!==null&&(t&&D.alternate!==null&&P.delete(D.key===null?w:D.key),v=s(D,v,w),V===null?M=D:V.sibling=D,V=D);return t&&P.forEach(function(N){return e(y,N)}),Ae&&Bi(y,w),M}function S(y,v,T,A){if(typeof T=="object"&&T!==null&&T.type===zs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:e:{for(var M=T.key,V=v;V!==null;){if(V.key===M){if(M=T.type,M===zs){if(V.tag===7){n(y,V.sibling),v=i(V,T.props.children),v.return=y,y=v;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Br&&k_(M)===V.type){n(y,V.sibling),v=i(V,T.props),v.ref=wa(y,V,T),v.return=y,y=v;break e}n(y,V);break}else e(y,V);V=V.sibling}T.type===zs?(v=es(T.props.children,y.mode,A,T.key),v.return=y,y=v):(A=Tc(T.type,T.key,T.props,null,y.mode,A),A.ref=wa(y,v,T),A.return=y,y=A)}return o(y);case Ws:e:{for(V=T.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(y,v.sibling),v=i(v,T.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Yf(T,y.mode,A),v.return=y,y=v}return o(y);case Br:return V=T._init,S(y,v,V(T._payload),A)}if(ba(T))return E(y,v,T,A);if(ma(T))return _(y,v,T,A);Hu(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,T),v.return=y,y=v):(n(y,v),v=$f(T,y.mode,A),v.return=y,y=v),o(y)):n(y,v)}return S}var To=kx(!0),Cx=kx(!1),Zc=Ii(null),ed=null,Xs=null,zg=null;function Hg(){zg=Xs=ed=null}function $g(t){var e=Zc.current;be(Zc),t._currentValue=e}function om(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){ed=t,zg=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(zg!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(ed===null)throw Error(B(308));Xs=t,ed.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var qi=null;function Yg(t){qi===null?qi=[t]:qi.push(t)}function Dx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Kg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ix(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Er(t,n)}return i=r.interleaved,i===null?(e.next=e,Yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Er(t,n)}function gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ag(t,n)}}function C_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function td(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,_=a;switch(f=e,g=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){h=E.call(g,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,f=typeof E=="function"?E.call(g,h,f):E,f==null)break e;h=Fe({},h,f);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cs|=o,t.lanes=o,t.memoizedState=h}}function D_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Kl={},Fn=Ii(Kl),yl=Ii(Kl),vl=Ii(Kl);function Qi(t){if(t===Kl)throw Error(B(174));return t}function qg(t,e){switch(ke(vl,e),ke(yl,t),ke(Fn,Kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Up(e,t)}be(Fn),ke(Fn,e)}function So(){be(Fn),be(yl),be(vl)}function bx(t){Qi(vl.current);var e=Qi(Fn.current),n=Up(e,t.type);e!==n&&(ke(yl,t),ke(Fn,n))}function Qg(t){yl.current===t&&(be(Fn),be(yl))}var Me=Ii(0);function nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jf=[];function Gg(){for(var t=0;t<jf.length;t++)jf[t]._workInProgressVersionPrimary=null;jf.length=0}var yc=br.ReactCurrentDispatcher,Uf=br.ReactCurrentBatchConfig,us=0,Ve=null,Je=null,it=null,rd=!1,Ya=!1,_l=0,LR=0;function Et(){throw Error(B(321))}function Xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Jg(t,e,n,r,i,s){if(us=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yc.current=t===null||t.memoizedState===null?UR:BR,t=n(r,i),Ya){s=0;do{if(Ya=!1,_l=0,25<=s)throw Error(B(301));s+=1,it=Je=null,e.updateQueue=null,yc.current=WR,t=n(r,i)}while(Ya)}if(yc.current=id,e=Je!==null&&Je.next!==null,us=0,it=Je=Ve=null,rd=!1,e)throw Error(B(300));return t}function Zg(){var t=_l!==0;return _l=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ve.memoizedState=it=t:it=it.next=t,it}function gn(){if(Je===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=it===null?Ve.memoizedState:it.next;if(e!==null)it=e,Je=t;else{if(t===null)throw Error(B(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},it===null?Ve.memoizedState=it=t:it=it.next=t}return it}function wl(t,e){return typeof e=="function"?e(t):e}function Bf(t){var e=gn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((us&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ve.lanes|=d,cs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Pn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wf(t){var e=gn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rx(){}function Ax(t,e){var n=Ve,r=gn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,ey(Ox.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,El(9,Mx.bind(null,n,r,i,e),void 0,null),ot===null)throw Error(B(349));us&30||Nx(n,e,i)}return i}function Nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mx(t,e,n,r){e.value=n,e.getSnapshot=r,Lx(e)&&Vx(t)}function Ox(t,e,n){return n(function(){Lx(e)&&Vx(t)})}function Lx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function Vx(t){var e=Er(t,1);e!==null&&xn(e,t,1,-1)}function I_(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:t},e.queue=t,t=t.dispatch=jR.bind(null,Ve,t),[e.memoizedState,t]}function El(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fx(){return gn().memoizedState}function vc(t,e,n,r){var i=In();Ve.flags|=t,i.memoizedState=El(1|e,n,void 0,r===void 0?null:r)}function sh(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&Xg(r,o.deps)){i.memoizedState=El(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=El(1|e,n,s,r)}function b_(t,e){return vc(8390656,8,t,e)}function ey(t,e){return sh(2048,8,t,e)}function jx(t,e){return sh(4,2,t,e)}function Ux(t,e){return sh(4,4,t,e)}function Bx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wx(t,e,n){return n=n!=null?n.concat([t]):null,sh(4,4,Bx.bind(null,e,t),n)}function ty(){}function zx(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hx(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $x(t,e,n){return us&21?(Pn(n,e)||(n=GS(),Ve.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function VR(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Uf.transition;Uf.transition={};try{t(!1),e()}finally{Se=n,Uf.transition=r}}function Yx(){return gn().memoizedState}function FR(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kx(t))qx(e,n);else if(n=Dx(t,e,n,r),n!==null){var i=Vt();xn(n,t,r,i),Qx(n,e,r)}}function jR(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kx(t))qx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(i.next=i,Yg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Dx(t,e,i,r),n!==null&&(i=Vt(),xn(n,t,r,i),Qx(n,e,r))}}function Kx(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function qx(t,e){Ya=rd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ag(t,n)}}var id={readContext:mn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},UR={readContext:mn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:b_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vc(4194308,4,Bx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FR.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:I_,useDebugValue:ty,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=I_(!1),e=t[0];return t=VR.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=In();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ot===null)throw Error(B(349));us&30||Nx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,b_(Ox.bind(null,r,s,t),[t]),r.flags|=2048,El(9,Mx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=In(),e=ot.identifierPrefix;if(Ae){var n=or,r=sr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BR={readContext:mn,useCallback:zx,useContext:mn,useEffect:ey,useImperativeHandle:Wx,useInsertionEffect:jx,useLayoutEffect:Ux,useMemo:Hx,useReducer:Bf,useRef:Fx,useState:function(){return Bf(wl)},useDebugValue:ty,useDeferredValue:function(t){var e=gn();return $x(e,Je.memoizedState,t)},useTransition:function(){var t=Bf(wl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Ax,useId:Yx,unstable_isNewReconciler:!1},WR={readContext:mn,useCallback:zx,useContext:mn,useEffect:ey,useImperativeHandle:Wx,useInsertionEffect:jx,useLayoutEffect:Ux,useMemo:Hx,useReducer:Wf,useRef:Fx,useState:function(){return Wf(wl)},useDebugValue:ty,useDeferredValue:function(t){var e=gn();return Je===null?e.memoizedState=t:$x(e,Je.memoizedState,t)},useTransition:function(){var t=Wf(wl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Ax,useId:Yx,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oh={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=li(t),s=dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(xn(e,t,i,r),gc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=li(t),s=dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(xn(e,t,i,r),gc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=li(t),i=dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,r),e!==null&&(xn(e,t,r,n),gc(e,t,r))}};function R_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fl(n,r)||!fl(i,s):!0}function Gx(t,e,n){var r=!1,i=_i,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Yt(e)?as:bt.current,r=e.contextTypes,s=(r=r!=null)?wo(t,i):_i),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Kg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Yt(e)?as:bt.current,i.context=wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oh.enqueueReplaceState(i,i.state,null),td(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",r=e;do n+=gb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zR=typeof WeakMap=="function"?WeakMap:Map;function Xx(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){od||(od=!0,_m=r),um(t,e)},n}function Jx(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){um(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function N_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rA.bind(null,t,e,n),e.then(t,t))}function M_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var HR=br.ReactCurrentOwner,zt=!1;function Mt(t,e,n,r){e.child=t===null?Cx(e,null,n,r):To(e,t.child,n,r)}function L_(t,e,n,r,i){n=n.render;var s=e.ref;return uo(e,i),r=Jg(t,e,n,r,s,i),n=Zg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(Ae&&n&&Ug(e),e.flags|=1,Mt(t,e,r,i),e.child)}function V_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Zx(t,e,s,r,i)):(t=Tc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(o,r)&&t.ref===e.ref)return Tr(t,e,i)}return e.flags|=1,t=ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function Zx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fl(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Tr(t,e,i)}return cm(t,e,n,r,i)}function e1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Zs,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Zs,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Zs,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Zs,Qt),Qt|=r;return Mt(t,e,i,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cm(t,e,n,r,i){var s=Yt(n)?as:bt.current;return s=wo(e,s),uo(e,i),n=Jg(t,e,n,r,s,i),r=Zg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(Ae&&r&&Ug(e),e.flags|=1,Mt(t,e,n,i),e.child)}function F_(t,e,n,r,i){if(Yt(n)){var s=!0;Gc(e)}else s=!1;if(uo(e,i),e.stateNode===null)_c(t,e),Gx(e,n,r),lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Yt(n)?as:bt.current,c=wo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&A_(e,o,r,c),Wr=!1;var f=e.memoizedState;o.state=f,td(e,r,o,i),l=e.memoizedState,a!==r||f!==l||$t.current||Wr?(typeof d=="function"&&(am(e,n,d,r),l=e.memoizedState),(a=Wr||R_(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ix(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Yt(n)?as:bt.current,l=wo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&A_(e,o,r,l),Wr=!1,f=e.memoizedState,o.state=f,td(e,r,o,i);var E=e.memoizedState;a!==h||f!==E||$t.current||Wr?(typeof g=="function"&&(am(e,n,g,r),E=e.memoizedState),(c=Wr||R_(e,n,c,r,f,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return dm(t,e,n,r,s,i)}function dm(t,e,n,r,i,s){t1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&S_(e,n,!1),Tr(t,e,s);r=e.stateNode,HR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):Mt(t,e,a,s),e.memoizedState=r.state,i&&S_(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?T_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T_(t,e.context,!1),qg(t,e.containerInfo)}function j_(t,e,n,r,i){return Eo(),Wg(i),e.flags|=256,Mt(t,e,n,r),e.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Me,i&1),t===null)return sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uh(o,r,0,null),t=es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fm(n),e.memoizedState=hm,t):ny(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $R(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hm,r}return s=t.child,t=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ny(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $u(t,e,n,r){return r!==null&&Wg(r),To(e,t.child,null,n),t=ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $R(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error(B(422))),$u(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uh({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=fm(o),e.memoizedState=hm,s);if(!(e.mode&1))return $u(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=zf(s,r,void 0),$u(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Er(t,i),xn(r,t,i,-1))}return ly(),r=zf(Error(B(421))),$u(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xt=si(i.nextSibling),Zt=e,Ae=!0,Tn=null,t!==null&&(cn[dn++]=sr,cn[dn++]=or,cn[dn++]=ls,sr=t.id,or=t.overflow,ls=e),e=ny(e,r.children),e.flags|=4096,e)}function U_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),om(t.return,e,n)}function Hf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function i1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U_(t,n,e);else if(t.tag===19)U_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hf(e,!0,n,null,s);break;case"together":Hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YR(t,e,n){switch(e.tag){case 3:n1(e),Eo();break;case 5:bx(e);break;case 1:Yt(e.type)&&Gc(e);break;case 4:qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(ke(Me,Me.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);ke(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return Tr(t,e,n)}var s1,pm,o1,a1;s1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pm=function(){};o1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qi(Fn.current);var s=null;switch(n){case"input":i=Lp(t,i),r=Lp(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=jp(t,i),r=jp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qc)}Bp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ol.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};a1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KR(t,e,n){var r=e.pendingProps;switch(Bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Yt(e.type)&&Qc(),Tt(e),null;case 3:return r=e.stateNode,So(),be($t),be(bt),Gg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Tm(Tn),Tn=null))),pm(t,e),Tt(e),null;case 5:Qg(e);var i=Qi(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Tt(e),null}if(t=Qi(Fn.current),zu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[An]=e,r[gl]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Aa.length;i++)Ie(Aa[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Q0(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":X0(r,s),Ie("invalid",r)}Bp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),i=["children",""+a]):ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Mu(r),G0(r,s,!0);break;case"textarea":Mu(r),J0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[An]=e,t[gl]=r,s1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wp(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Aa.length;i++)Ie(Aa[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Q0(t,r),i=Lp(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":X0(t,r),i=jp(t,r),Ie("invalid",t);break;default:i=r}Bp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?FS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&al(t,l):typeof l=="number"&&al(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&kg(t,s,l,o))}switch(n){case"input":Mu(t),G0(t,r,!1);break;case"textarea":Mu(t),J0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?so(t,!!r.multiple,s,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)a1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Qi(vl.current),Qi(Fn.current),zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[An]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r}return Tt(e),null;case 13:if(be(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Xt!==null&&e.mode&1&&!(e.flags&128))Px(),Eo(),e.flags|=98560,s=!1;else if(s=zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[An]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else Tn!==null&&(Tm(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?et===0&&(et=3):ly())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return So(),pm(t,e),t===null&&pl(e.stateNode.containerInfo),Tt(e),null;case 10:return $g(e.type._context),Tt(e),null;case 17:return Yt(e.type)&&Qc(),Tt(e),null;case 19:if(be(Me),s=e.memoizedState,s===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ea(s,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nd(t),o!==null){for(e.flags|=128,Ea(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Po&&(e.flags|=128,r=!0,Ea(s,!1),e.lanes=4194304)}else{if(!r)if(t=nd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return Tt(e),null}else 2*Ye()-s.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,Ea(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Me.current,ke(Me,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return ay(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function qR(t,e){switch(Bg(e),e.tag){case 1:return Yt(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),be($t),be(bt),Gg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qg(e),null;case 13:if(be(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Me),null;case 4:return So(),null;case 10:return $g(e.type._context),null;case 22:case 23:return ay(),null;case 24:return null;default:return null}}var Yu=!1,kt=!1,QR=typeof WeakSet=="function"?WeakSet:Set,q=null;function Js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){Be(t,e,r)}}var B_=!1;function GR(t,e){if(Jp=$c,t=hx(),jg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zp={focusedElem:t,selectionRange:n},$c=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,S=E.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:wn(e.type,_),S);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(A){Be(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return E=B_,B_=!1,E}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mm(e,n,s)}i=i.next}while(i!==r)}}function ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l1(t){var e=t.alternate;e!==null&&(t.alternate=null,l1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[gl],delete e[nm],delete e[AR],delete e[NR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u1(t){return t.tag===5||t.tag===3||t.tag===4}function W_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qc));else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}var ct=null,En=!1;function Lr(t,e,n){for(n=n.child;n!==null;)c1(t,e,n),n=n.sibling}function c1(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Zd,n)}catch{}switch(n.tag){case 5:kt||Js(n,e);case 6:var r=ct,i=En;ct=null,Lr(t,e,n),ct=r,En=i,ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),dl(t)):Vf(ct,n.stateNode));break;case 4:r=ct,i=En,ct=n.stateNode.containerInfo,En=!0,Lr(t,e,n),ct=r,En=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mm(n,e,o),i=i.next}while(i!==r)}Lr(t,e,n);break;case 1:if(!kt&&(Js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Lr(t,e,n),kt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function z_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QR),e.forEach(function(r){var i=sA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,En=!1;break e;case 3:ct=a.stateNode.containerInfo,En=!0;break e;case 4:ct=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ct===null)throw Error(B(160));c1(s,o,i),ct=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}function d1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Dn(t),r&4){try{Ka(3,t,t.return),ah(3,t)}catch(_){Be(t,t.return,_)}try{Ka(5,t,t.return)}catch(_){Be(t,t.return,_)}}break;case 1:_n(e,t),Dn(t),r&512&&n!==null&&Js(n,n.return);break;case 5:if(_n(e,t),Dn(t),r&512&&n!==null&&Js(n,n.return),t.flags&32){var i=t.stateNode;try{al(i,"")}catch(_){Be(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NS(i,s),Wp(a,o);var c=Wp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?FS(i,h):d==="dangerouslySetInnerHTML"?LS(i,h):d==="children"?al(i,h):kg(i,d,h,c)}switch(a){case"input":Vp(i,s);break;case"textarea":MS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?so(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?so(i,!!s.multiple,s.defaultValue,!0):so(i,!!s.multiple,s.multiple?[]:"",!1))}i[gl]=s}catch(_){Be(t,t.return,_)}}break;case 6:if(_n(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Be(t,t.return,_)}}break;case 3:if(_n(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(_){Be(t,t.return,_)}break;case 4:_n(e,t),Dn(t);break;case 13:_n(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sy=Ye())),r&4&&z_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(c=kt)||d,_n(e,t),kt=c):_n(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(h=q=d;q!==null;){switch(f=q,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ka(4,f,f.return);break;case 1:Js(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Be(r,n,_)}}break;case 5:Js(f,f.return);break;case 22:if(f.memoizedState!==null){$_(h);continue}}g!==null?(g.return=f,q=g):$_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VS("display",o))}catch(_){Be(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Be(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Dn(t),r&4&&z_(t);break;case 21:break;default:_n(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(al(i,""),r.flags&=-33);var s=W_(t);vm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W_(t);ym(t,a,o);break;default:throw Error(B(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XR(t,e,n){q=t,h1(t)}function h1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Yu;var c=kt;if(Yu=o,(kt=l)&&!c)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Y_(i):l!==null?(l.return=o,q=l):Y_(i);for(;s!==null;)q=s,h1(s),s=s.sibling;q=i,Yu=a,kt=c}H_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):H_(t)}}function H_(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}kt||e.flags&512&&gm(e)}catch(f){Be(e,e.return,f)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function $_(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Y_(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ah(4,e)}catch(l){Be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Be(e,i,l)}}var s=e.return;try{gm(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{gm(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var JR=Math.ceil,sd=br.ReactCurrentDispatcher,ry=br.ReactCurrentOwner,pn=br.ReactCurrentBatchConfig,me=0,ot=null,Xe=null,pt=0,Qt=0,Zs=Ii(0),et=0,Tl=null,cs=0,lh=0,iy=0,qa=null,Bt=null,sy=0,Po=1/0,nr=null,od=!1,_m=null,ai=null,Ku=!1,Xr=null,ad=0,Qa=0,wm=null,wc=-1,Ec=0;function Vt(){return me&6?Ye():wc!==-1?wc:wc=Ye()}function li(t){return t.mode&1?me&2&&pt!==0?pt&-pt:OR.transition!==null?(Ec===0&&(Ec=GS()),Ec):(t=Se,t!==0||(t=window.event,t=t===void 0?16:rx(t.type)),t):1}function xn(t,e,n,r){if(50<Qa)throw Qa=0,wm=null,Error(B(185));Hl(t,n,r),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(lh|=n),et===4&&$r(t,pt)),Kt(t,r),n===1&&me===0&&!(e.mode&1)&&(Po=Ye()+500,ih&&bi()))}function Kt(t,e){var n=t.callbackNode;Ob(t,e);var r=Hc(t,t===ot?pt:0);if(r===0)n!==null&&t_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&t_(n),e===1)t.tag===0?MR(K_.bind(null,t)):Tx(K_.bind(null,t)),bR(function(){!(me&6)&&bi()}),n=null;else{switch(XS(r)){case 1:n=Rg;break;case 4:n=qS;break;case 16:n=zc;break;case 536870912:n=QS;break;default:n=zc}n=w1(n,f1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f1(t,e){if(wc=-1,Ec=0,me&6)throw Error(B(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=Hc(t,t===ot?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ld(t,r);else{e=r;var i=me;me|=2;var s=m1();(ot!==t||pt!==e)&&(nr=null,Po=Ye()+500,Zi(t,e));do try{tA();break}catch(a){p1(t,a)}while(!0);Hg(),sd.current=s,me=i,Xe!==null?e=0:(ot=null,pt=0,e=et)}if(e!==0){if(e===2&&(i=Kp(t),i!==0&&(r=i,e=Em(t,i))),e===1)throw n=Tl,Zi(t,0),$r(t,r),Kt(t,Ye()),n;if(e===6)$r(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZR(i)&&(e=ld(t,r),e===2&&(s=Kp(t),s!==0&&(r=s,e=Em(t,s))),e===1))throw n=Tl,Zi(t,0),$r(t,r),Kt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Wi(t,Bt,nr);break;case 3:if($r(t,r),(r&130023424)===r&&(e=sy+500-Ye(),10<e)){if(Hc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tm(Wi.bind(null,t,Bt,nr),e);break}Wi(t,Bt,nr);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JR(r/1960))-r,10<r){t.timeoutHandle=tm(Wi.bind(null,t,Bt,nr),r);break}Wi(t,Bt,nr);break;case 5:Wi(t,Bt,nr);break;default:throw Error(B(329))}}}return Kt(t,Ye()),t.callbackNode===n?f1.bind(null,t):null}function Em(t,e){var n=qa;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=ld(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Tm(e)),t}function Tm(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function ZR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~iy,e&=~lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function K_(t){if(me&6)throw Error(B(327));co();var e=Hc(t,0);if(!(e&1))return Kt(t,Ye()),null;var n=ld(t,e);if(t.tag!==0&&n===2){var r=Kp(t);r!==0&&(e=r,n=Em(t,r))}if(n===1)throw n=Tl,Zi(t,0),$r(t,e),Kt(t,Ye()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,Bt,nr),Kt(t,Ye()),null}function oy(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Po=Ye()+500,ih&&bi())}}function ds(t){Xr!==null&&Xr.tag===0&&!(me&6)&&co();var e=me;me|=1;var n=pn.transition,r=Se;try{if(pn.transition=null,Se=1,t)return t()}finally{Se=r,pn.transition=n,me=e,!(me&6)&&bi()}}function ay(){Qt=Zs.current,be(Zs)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IR(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Bg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:So(),be($t),be(bt),Gg();break;case 5:Qg(r);break;case 4:So();break;case 13:be(Me);break;case 19:be(Me);break;case 10:$g(r.type._context);break;case 22:case 23:ay()}n=n.return}if(ot=t,Xe=t=ui(t.current,null),pt=Qt=e,et=0,Tl=null,iy=lh=cs=0,Bt=qa=null,qi!==null){for(e=0;e<qi.length;e++)if(n=qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qi=null}return t}function p1(t,e){do{var n=Xe;try{if(Hg(),yc.current=id,rd){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rd=!1}if(us=0,it=Je=Ve=null,Ya=!1,_l=0,ry.current=null,n===null||n.return===null){et=1,Tl=e,Xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=M_(o);if(g!==null){g.flags&=-257,O_(g,o,a,s,e),g.mode&1&&N_(s,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var _=new Set;_.add(l),e.updateQueue=_}else E.add(l);break e}else{if(!(e&1)){N_(s,c,e),ly();break e}l=Error(B(426))}}else if(Ae&&a.mode&1){var S=M_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),O_(S,o,a,s,e),Wg(xo(l,a));break e}}s=l=xo(l,a),et!==4&&(et=2),qa===null?qa=[s]:qa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Xx(s,l,e);C_(s,y);break e;case 1:a=l;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ai===null||!ai.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Jx(s,a,e);C_(s,A);break e}}s=s.return}while(s!==null)}y1(n)}catch(M){e=M,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function m1(){var t=sd.current;return sd.current=id,t===null?id:t}function ly(){(et===0||et===3||et===2)&&(et=4),ot===null||!(cs&268435455)&&!(lh&268435455)||$r(ot,pt)}function ld(t,e){var n=me;me|=2;var r=m1();(ot!==t||pt!==e)&&(nr=null,Zi(t,e));do try{eA();break}catch(i){p1(t,i)}while(!0);if(Hg(),me=n,sd.current=r,Xe!==null)throw Error(B(261));return ot=null,pt=0,et}function eA(){for(;Xe!==null;)g1(Xe)}function tA(){for(;Xe!==null&&!kb();)g1(Xe)}function g1(t){var e=_1(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?y1(t):Xe=e,ry.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qR(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Xe=null;return}}else if(n=KR(n,e,Qt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);et===0&&(et=5)}function Wi(t,e,n){var r=Se,i=pn.transition;try{pn.transition=null,Se=1,nA(t,e,n,r)}finally{pn.transition=i,Se=r}return null}function nA(t,e,n,r){do co();while(Xr!==null);if(me&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Lb(t,s),t===ot&&(Xe=ot=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ku||(Ku=!0,w1(zc,function(){return co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=Se;Se=1;var a=me;me|=4,ry.current=null,GR(t,n),d1(n,t),TR(Zp),$c=!!Jp,Zp=Jp=null,t.current=n,XR(n),Cb(),me=a,Se=o,pn.transition=s}else t.current=n;if(Ku&&(Ku=!1,Xr=t,ad=i),s=t.pendingLanes,s===0&&(ai=null),bb(n.stateNode),Kt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(od)throw od=!1,t=_m,_m=null,t;return ad&1&&t.tag!==0&&co(),s=t.pendingLanes,s&1?t===wm?Qa++:(Qa=0,wm=t):Qa=0,bi(),null}function co(){if(Xr!==null){var t=XS(ad),e=pn.transition,n=Se;try{if(pn.transition=null,Se=16>t?16:t,Xr===null)var r=!1;else{if(t=Xr,Xr=null,ad=0,me&6)throw Error(B(331));var i=me;for(me|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Ka(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var f=d.sibling,g=d.return;if(l1(d),d===c){q=null;break}if(f!==null){f.return=g,q=f;break}q=g}}}var E=s.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ka(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,q=y;break e}q=s.return}}var v=t.current;for(q=v;q!==null;){o=q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,q=T;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ah(9,a)}}catch(M){Be(a,a.return,M)}if(a===o){q=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,q=A;break e}q=a.return}}if(me=i,bi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Zd,t)}catch{}r=!0}return r}finally{Se=n,pn.transition=e}}return!1}function q_(t,e,n){e=xo(n,e),e=Xx(t,e,1),t=oi(t,e,1),e=Vt(),t!==null&&(Hl(t,1,e),Kt(t,e))}function Be(t,e,n){if(t.tag===3)q_(t,t,n);else for(;e!==null;){if(e.tag===3){q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=xo(n,t),t=Jx(e,t,1),e=oi(e,t,1),t=Vt(),e!==null&&(Hl(e,1,t),Kt(e,t));break}}e=e.return}}function rA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(pt&n)===n&&(et===4||et===3&&(pt&130023424)===pt&&500>Ye()-sy?Zi(t,0):iy|=n),Kt(t,e)}function v1(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=Vt();t=Er(t,e),t!==null&&(Hl(t,e,n),Kt(t,n))}function iA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v1(t,n)}function sA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),v1(t,n)}var _1;_1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,YR(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Ae&&e.flags&1048576&&Sx(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var i=wo(e,bt.current);uo(e,n),i=Jg(null,e,r,t,i,n);var s=Zg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,Gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kg(e),i.updater=oh,e.stateNode=i,i._reactInternals=e,lm(e,r,t,n),e=dm(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&Ug(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aA(r),t=wn(r,t),i){case 0:e=cm(null,e,r,t,n);break e;case 1:e=F_(null,e,r,t,n);break e;case 11:e=L_(null,e,r,t,n);break e;case 14:e=V_(null,e,r,wn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),F_(t,e,r,i,n);case 3:e:{if(n1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ix(t,e),td(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xo(Error(B(423)),e),e=j_(t,e,r,n,i);break e}else if(r!==i){i=xo(Error(B(424)),e),e=j_(t,e,r,n,i);break e}else for(Xt=si(e.stateNode.containerInfo.firstChild),Zt=e,Ae=!0,Tn=null,n=Cx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===i){e=Tr(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return bx(e),t===null&&sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,em(r,i)?o=null:s!==null&&em(r,s)&&(e.flags|=32),t1(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&sm(e),null;case 13:return r1(t,e,n);case 4:return qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),L_(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Zc,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!$t.current){e=Tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),om(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),om(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=mn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),V_(t,e,r,i,n);case 15:return Zx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),_c(t,e),e.tag=1,Yt(r)?(t=!0,Gc(e)):t=!1,uo(e,n),Gx(e,r,i),lm(e,r,i,n),dm(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return e1(t,e,n)}throw Error(B(156,e.tag))};function w1(t,e){return KS(t,e)}function oA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new oA(t,e,n,r)}function uy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aA(t){if(typeof t=="function")return uy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dg)return 11;if(t===Ig)return 14}return 2}function ui(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return es(n.children,i,s,e);case Cg:o=8,i|=8;break;case Ap:return t=fn(12,n,e,i|2),t.elementType=Ap,t.lanes=s,t;case Np:return t=fn(13,n,e,i),t.elementType=Np,t.lanes=s,t;case Mp:return t=fn(19,n,e,i),t.elementType=Mp,t.lanes=s,t;case bS:return uh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DS:o=10;break e;case IS:o=9;break e;case Dg:o=11;break e;case Ig:o=14;break e;case Br:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function es(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function uh(t,e,n,r){return t=fn(22,t,r,e),t.elementType=bS,t.lanes=n,t.stateNode={isHidden:!1},t}function $f(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Yf(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cy(t,e,n,r,i,s,o,a,l){return t=new lA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kg(s),t}function uA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E1(t){if(!t)return _i;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Yt(n))return Ex(t,n,e)}return e}function T1(t,e,n,r,i,s,o,a,l){return t=cy(n,r,!0,t,i,s,o,a,l),t.context=E1(null),n=t.current,r=Vt(),i=li(n),s=dr(r,i),s.callback=e??null,oi(n,s,i),t.current.lanes=i,Hl(t,i,r),Kt(t,r),t}function ch(t,e,n,r){var i=e.current,s=Vt(),o=li(i);return n=E1(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(i,e,o),t!==null&&(xn(t,i,o,s),gc(t,i,o)),o}function ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dy(t,e){Q_(t,e),(t=t.alternate)&&Q_(t,e)}function cA(){return null}var S1=typeof reportError=="function"?reportError:function(t){console.error(t)};function hy(t){this._internalRoot=t}dh.prototype.render=hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));ch(t,e,null,null)};dh.prototype.unmount=hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){ch(null,t,null,null)}),e[wr]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ex();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&nx(t)}};function fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G_(){}function dA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ud(o);s.call(c)}}var o=T1(e,r,t,0,null,!1,!1,"",G_);return t._reactRootContainer=o,t[wr]=o.current,pl(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ud(l);a.call(c)}}var l=cy(t,0,!1,null,null,!1,!1,"",G_);return t._reactRootContainer=l,t[wr]=l.current,pl(t.nodeType===8?t.parentNode:t),ds(function(){ch(e,l,n,r)}),l}function fh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ud(o);a.call(l)}}ch(e,o,t,i)}else o=dA(n,e,t,i,r);return ud(o)}JS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&(Ag(e,n|1),Kt(e,Ye()),!(me&6)&&(Po=Ye()+500,bi()))}break;case 13:ds(function(){var r=Er(t,1);if(r!==null){var i=Vt();xn(r,t,1,i)}}),dy(t,1)}};Ng=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Vt();xn(e,t,134217728,n)}dy(t,134217728)}};ZS=function(t){if(t.tag===13){var e=li(t),n=Er(t,e);if(n!==null){var r=Vt();xn(n,t,e,r)}dy(t,e)}};ex=function(){return Se};tx=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Hp=function(t,e,n){switch(e){case"input":if(Vp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rh(r);if(!i)throw Error(B(90));AS(r),Vp(r,i)}}}break;case"textarea":MS(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};BS=oy;WS=ds;var hA={usingClientEntryPoint:!1,Events:[Yl,Ks,rh,jS,US,oy]},Ta={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fA={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$S(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||cA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Zd=qu.inject(fA),Vn=qu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(e))throw Error(B(200));return uA(t,e,null,n)};sn.createRoot=function(t,e){if(!fy(t))throw Error(B(299));var n=!1,r="",i=S1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cy(t,1,!1,null,null,n,!1,r,i),t[wr]=e.current,pl(t.nodeType===8?t.parentNode:t),new hy(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=$S(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return ds(t)};sn.hydrate=function(t,e,n){if(!hh(e))throw Error(B(200));return fh(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!fy(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=S1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T1(e,null,t,1,n??null,i,!1,s,o),t[wr]=e.current,pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dh(e)};sn.render=function(t,e,n){if(!hh(e))throw Error(B(200));return fh(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!hh(t))throw Error(B(40));return t._reactRootContainer?(ds(function(){fh(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};sn.unstable_batchedUpdates=oy;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return fh(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function x1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x1)}catch(t){console.error(t)}}x1(),xS.exports=sn;var ph=xS.exports;const pA=_g(ph);var X_=ph;bp.createRoot=X_.createRoot,bp.hydrateRoot=X_.hydrateRoot;/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}var Jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jr||(Jr={}));const J_="popstate";function mA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Sm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:k1(i)}return yA(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gA(){return Math.random().toString(36).substr(2,8)}function Z_(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n,r){return n===void 0&&(n=null),Sl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$o(e):e,{state:n,key:e&&e.key||r||gA()})}function k1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Jr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Sl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Jr.Pop;let S=d(),y=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:y})}function f(S,y){a=Jr.Push;let v=Sm(_.location,S,y);c=d()+1;let T=Z_(v,c),A=_.createHref(v);try{o.pushState(T,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(A)}s&&l&&l({action:a,location:_.location,delta:1})}function g(S,y){a=Jr.Replace;let v=Sm(_.location,S,y);c=d();let T=Z_(v,c),A=_.createHref(v);o.replaceState(T,"",A),s&&l&&l({action:a,location:_.location,delta:0})}function E(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof S=="string"?S:k1(S);return v=v.replace(/ $/,"%20"),tt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let _={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(J_,h),l=S,()=>{i.removeEventListener(J_,h),l=null}},createHref(S){return e(i,S)},createURL:E,encodeLocation(S){let y=E(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(S){return o.go(S)}};return _}var ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ew||(ew={}));function vA(t,e,n){return n===void 0&&(n="/"),_A(t,e,n,!1)}function _A(t,e,n,r){let i=typeof e=="string"?$o(e):e,s=I1(i.pathname||"/",n);if(s==null)return null;let o=C1(t);wA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=RA(s);a=IA(o[l],c,r)}return a}function C1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ts([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),C1(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:CA(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of D1(s.path))i(s,o,l)}),e}function D1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=D1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EA=/^:[\w-]+$/,TA=3,SA=2,xA=1,PA=10,kA=-2,tw=t=>t==="*";function CA(t,e){let n=t.split("/"),r=n.length;return n.some(tw)&&(r+=kA),e&&(r+=SA),n.filter(i=>!tw(i)).reduce((i,s)=>i+(EA.test(s)?TA:s===""?xA:PA),r)}function DA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=nw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=nw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ts([s,h.pathname]),pathnameBase:VA(ts([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ts([s,h.pathnameBase]))}return o}function nw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const E=a[h];return g&&!E?c[f]=void 0:c[f]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function bA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function I1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$o(t):t;return{pathname:n?n.startsWith("/")?n:NA(n,e):e,search:FA(r),hash:jA(i)}}function NA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OA(t,e){let n=MA(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$o(t):(i=Sl({},t),tt(!i.pathname||!i.pathname.includes("?"),Kf("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),Kf("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),Kf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=AA(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),VA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const b1=["post","put","patch","delete"];new Set(b1);const BA=["get",...b1];new Set(BA);/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}const py=b.createContext(null),WA=b.createContext(null),mh=b.createContext(null),gh=b.createContext(null),Yo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),R1=b.createContext(null);function yh(){return b.useContext(gh)!=null}function A1(){return yh()||tt(!1),b.useContext(gh).location}function N1(t){b.useContext(mh).static||b.useLayoutEffect(t)}function Ps(){let{isDataRoute:t}=b.useContext(Yo);return t?tN():zA()}function zA(){yh()||tt(!1);let t=b.useContext(py),{basename:e,future:n,navigator:r}=b.useContext(mh),{matches:i}=b.useContext(Yo),{pathname:s}=A1(),o=JSON.stringify(OA(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return N1(()=>{a.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=LA(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ts([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function HA(t,e){return $A(t,e)}function $A(t,e,n,r){yh()||tt(!1);let{navigator:i}=b.useContext(mh),{matches:s}=b.useContext(Yo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=A1(),d;if(e){var h;let S=typeof e=="string"?$o(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||tt(!1),d=S}else d=c;let f=d.pathname||"/",g=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=vA(t,{pathname:g}),_=GA(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&_?b.createElement(gh.Provider,{value:{location:xl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Jr.Pop}},_):_}function YA(){let t=eN(),e=UA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const KA=b.createElement(YA,null);class qA extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Yo.Provider,{value:this.props.routeContext},b.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QA(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(py);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Yo.Provider,{value:e},r)}function GA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,E=!1,_=null,S=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||KA,l&&(c<0&&f===0?(E=!0,S=null):c===f&&(E=!0,S=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),v=()=>{let T;return g?T=_:E?T=S:h.route.Component?T=b.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,b.createElement(QA,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(qA,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var M1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(M1||{}),cd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cd||{});function XA(t){let e=b.useContext(py);return e||tt(!1),e}function JA(t){let e=b.useContext(WA);return e||tt(!1),e}function ZA(t){let e=b.useContext(Yo);return e||tt(!1),e}function O1(t){let e=ZA(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function eN(){var t;let e=b.useContext(R1),n=JA(cd.UseRouteError),r=O1(cd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tN(){let{router:t}=XA(M1.UseNavigateStable),e=O1(cd.UseNavigateStable),n=b.useRef(!1);return N1(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xl({fromRouteId:e},s)))},[t,e])}function jr(t){tt(!1)}function nN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Jr.Pop,navigator:s,static:o=!1,future:a}=t;yh()&&tt(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:xl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=$o(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:E="default"}=r,_=b.useMemo(()=>{let S=I1(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:g,key:E},navigationType:i}},[l,d,h,f,g,E,i]);return _==null?null:b.createElement(mh.Provider,{value:c},b.createElement(gh.Provider,{children:n,value:_}))}function rN(t){let{children:e,location:n}=t;return HA(xm(e),n)}new Promise(()=>{});function xm(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,xm(r.props.children,s));return}r.type!==jr&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iN="6";try{window.__reactRouterVersion=iN}catch{}const sN="startTransition",rw=TS[sN];function oN(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=mA({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=b.useCallback(h=>{c&&rw?rw(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(nN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iw||(iw={}));var sw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sw||(sw={}));var ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new lN;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uN=function(t){const e=L1(t);return V1.encodeByteArray(e,!0)},dd=function(t){return uN(t).replace(/\./g,"")},F1=function(t){try{return V1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=()=>cN().__FIREBASE_DEFAULTS__,hN=()=>{if(typeof process>"u"||typeof ow>"u")return;const t=ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F1(t[1]);return e&&JSON.parse(e)},vh=()=>{try{return dN()||hN()||fN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j1=t=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pN=t=>{const e=j1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U1=()=>{var t;return(t=vh())===null||t===void 0?void 0:t.config},B1=t=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dd(JSON.stringify(n)),dd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function vN(){var t;const e=(t=vh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _N(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EN(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TN(){return!vN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function xN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PN,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function kN(t,e){return t.replace(CN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CN=/\{\$([^}]+)}/g;function DN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aw(s)&&aw(o)){if(!hd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IN(t,e){const n=new bN(t,e);return n.subscribe.bind(n)}class bN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qf),i.error===void 0&&(i.error=qf),i.complete===void 0&&(i.complete=qf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MN(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NN(t){return t===zi?void 0:t}function MN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const LN={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},VN=de.INFO,FN={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},jN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=VN,this._logHandler=jN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const UN=(t,e)=>e.some(n=>t instanceof n);let lw,uw;function BN(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return uw||(uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W1=new WeakMap,Pm=new WeakMap,z1=new WeakMap,Qf=new WeakMap,gy=new WeakMap;function zN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&W1.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function HN(t){if(Pm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pm.set(t,e)}let km={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $N(t){km=t(km)}function YN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gf(this),e,...n);return z1.set(r,e.sort?e.sort():[e]),ci(r)}:WN().includes(t)?function(...e){return t.apply(Gf(this),e),ci(W1.get(this))}:function(...e){return ci(t.apply(Gf(this),e))}}function KN(t){return typeof t=="function"?YN(t):(t instanceof IDBTransaction&&HN(t),UN(t,BN())?new Proxy(t,km):t)}function ci(t){if(t instanceof IDBRequest)return zN(t);if(Qf.has(t))return Qf.get(t);const e=KN(t);return e!==t&&(Qf.set(t,e),gy.set(e,t)),e}const Gf=t=>gy.get(t);function qN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QN=["get","getKey","getAll","getAllKeys","count"],GN=["put","add","delete","clear"],Xf=new Map;function cw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Xf.set(e,s),s}$N(t=>({...t,get:(e,n,r)=>cw(e,n)||t.get(e,n,r),has:(e,n)=>!!cw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",dw="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new my("@firebase/app"),ZN="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",rM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",oM="@firebase/database",aM="@firebase/database-compat",lM="@firebase/functions",uM="@firebase/functions-compat",cM="@firebase/installations",dM="@firebase/installations-compat",hM="@firebase/messaging",fM="@firebase/messaging-compat",pM="@firebase/performance",mM="@firebase/performance-compat",gM="@firebase/remote-config",yM="@firebase/remote-config-compat",vM="@firebase/storage",_M="@firebase/storage-compat",wM="@firebase/firestore",EM="@firebase/vertexai-preview",TM="@firebase/firestore-compat",SM="firebase",xM="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",PM={[Cm]:"fire-core",[ZN]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[rM]:"fire-app-check",[nM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[oM]:"fire-rtdb",[aM]:"fire-rtdb-compat",[lM]:"fire-fn",[uM]:"fire-fn-compat",[cM]:"fire-iid",[dM]:"fire-iid-compat",[hM]:"fire-fcm",[fM]:"fire-fcm-compat",[pM]:"fire-perf",[mM]:"fire-perf-compat",[gM]:"fire-rc",[yM]:"fire-rc-compat",[vM]:"fire-gcs",[_M]:"fire-gcs-compat",[wM]:"fire-fst",[TM]:"fire-fst-compat",[EM]:"fire-vertex","fire-js":"fire-js",[SM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,kM=new Map,Im=new Map;function hw(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Im.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,t);for(const n of fd.values())hw(n,t);for(const n of kM.values())hw(n,t);return!0}function yy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new ql("app","Firebase",CM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=xM;function H1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=U1()),!n)throw di.create("no-options");const s=fd.get(i);if(s){if(hd(n,s.options)&&hd(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new ON(i);for(const l of Im.values())o.addComponent(l);const a=new DM(n,r,o);return fd.set(i,a),a}function $1(t=Dm){const e=fd.get(t);if(!e&&t===Dm&&U1())return H1();if(!e)throw di.create("no-app",{appName:t});return e}function hi(t,e,n){var r;let i=(r=PM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}ko(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebase-heartbeat-database",bM=1,Pl="firebase-heartbeat-store";let Jf=null;function Y1(){return Jf||(Jf=qN(IM,bM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),Jf}async function RM(t){try{const n=(await Y1()).transaction(Pl),r=await n.objectStore(Pl).get(K1(t));return await n.done,r}catch(e){if(e instanceof Rr)fs.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function fw(t,e){try{const r=(await Y1()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,K1(t)),await r.done}catch(n){if(n instanceof Rr)fs.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function K1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=1024,NM=30*24*60*60*1e3;class MM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=NM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pw(),{heartbeatsToSend:r,unsentEntries:i}=OM(this._heartbeatsCache.heartbeats),s=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function pw(){return new Date().toISOString().substring(0,10)}function OM(t,e=AM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?xN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mw(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){ko(new hs("platform-logger",e=>new XN(e),"PRIVATE")),ko(new hs("heartbeat",e=>new MM(e),"PRIVATE")),hi(Cm,dw,t),hi(Cm,dw,"esm2017"),hi("fire-js","")}VM("");function vy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FM=q1,Q1=new ql("auth","Firebase",q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new my("@firebase/auth");function jM(t,...e){pd.logLevel<=de.WARN&&pd.warn(`Auth (${Ko}): ${t}`,...e)}function Sc(t,...e){pd.logLevel<=de.ERROR&&pd.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw _y(t,...e)}function jn(t,...e){return _y(t,...e)}function G1(t,e,n){const r=Object.assign(Object.assign({},FM()),{[e]:n});return new ql("auth","Firebase",r).create(e,{appName:t.name})}function hr(t){return G1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _y(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Q1.create(t,...e)}function re(t,e,...n){if(!t)throw _y(e,...n)}function ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sc(e),new Error(e)}function Sr(t,e){t||ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UM(){return gw()==="http:"||gw()==="https:"}function gw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UM()||_N()||"connection"in navigator)?navigator.onLine:!0}function WM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=yN()||wN()}get(){return BM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Gl(3e4,6e4);function Ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ai(t,e,n,r,i={}){return J1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ql(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),X1.fetch()(Z1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function J1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zM),e);try{const i=new YM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw G1(t,d,c);kn(t,d)}}catch(i){if(i instanceof Rr)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function Xl(t,e,n,r,i={}){const s=await Ai(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wy(t.config,i):`${t.config.apiScheme}://${i}`}function $M(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),HM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}function yw(t){return t!==void 0&&t.enterprise!==void 0}class KM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $M(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function qM(t,e){return Ai(t,"GET","/v2/recaptchaConfig",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function eP(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GM(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=Ey(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ga(Zf(i.auth_time)),issuedAtTime:Ga(Zf(i.iat)),expirationTime:Ga(Zf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zf(t){return Number(t)*1e3}function Ey(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const i=F1(n);return i?JSON.parse(i):(Sc("Failed to decode base64 JWT payload"),null)}catch(i){return Sc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vw(t){const e=Ey(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&XM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kl(t,eP(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tP(s.providerUserInfo):[],a=eO(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function ZM(t){const e=Ft(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tP(t){return t.map(e=>{var{providerId:n}=e,r=vy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,e){const n=await J1(t,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Z1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nO(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ho;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GM(this,e)}reload(){return ZM(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await kl(this,QM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:V,stsTokenManager:P}=n;re(T&&P,e,"internal-error");const w=ho.fromJSON(this.name,P);re(typeof T=="string",e,"internal-error"),Vr(h,e.name),Vr(f,e.name),re(typeof A=="boolean",e,"internal-error"),re(typeof M=="boolean",e,"internal-error"),Vr(g,e.name),Vr(E,e.name),Vr(_,e.name),Vr(S,e.name),Vr(y,e.name),Vr(v,e.name);const k=new lr({uid:T,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:M,photoURL:E,phoneNumber:g,tenantId:_,stsTokenManager:w,createdAt:y,lastLoginAt:v});return V&&Array.isArray(V)&&(k.providerData=V.map(D=>Object.assign({},D))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const s=new lr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await md(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ho;a.updateFromIdToken(r);const l=new lr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Rm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function ur(t){Sr(t instanceof Function,"Expected a class definition");let e=_w.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_w.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nP.type="NONE";const ww=nP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(ur(ww),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ur(ww);const o=xc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=lr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aP(e))return"Blackberry";if(lP(e))return"Webos";if(Ty(e))return"Safari";if((e.includes("chrome/")||iP(e))&&!e.includes("edge/"))return"Chrome";if(oP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rP(t=yt()){return/firefox\//i.test(t)}function Ty(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iP(t=yt()){return/crios\//i.test(t)}function sP(t=yt()){return/iemobile/i.test(t)}function oP(t=yt()){return/android/i.test(t)}function aP(t=yt()){return/blackberry/i.test(t)}function lP(t=yt()){return/webos/i.test(t)}function _h(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rO(t=yt()){var e;return _h(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iO(){return EN()&&document.documentMode===10}function uP(t=yt()){return _h(t)||oP(t)||lP(t)||aP(t)||/windows phone/i.test(t)||sP(t)}function sO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e=[]){let n;switch(t){case"Browser":n=Ew(yt());break;case"Worker":n=`${Ew(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",Ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=6;class uO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tw(this),this.idTokenSubscription=new Tw(this),this.beforeStateQueue=new oO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eP(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(hr(this));const n=e?Ft(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aO(this),n=new uO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ks(t){return Ft(t)}class Tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=IN(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dO(t){wh=t}function dP(t){return wh.loadJS(t)}function hO(){return wh.recaptchaEnterpriseScript}function fO(){return wh.gapiScript}function pO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mO="recaptcha-enterprise",gO="NO_RECAPTCHA";class yO{constructor(e){this.type=mO,this.auth=ks(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new KM(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;yw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(gO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&yw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hO();l.length!==0&&(l+=a),dP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Sw(t,e,n,r=!1){const i=new yO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Am(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Sw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Sw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e){const n=yy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hd(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function _O(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wO(t,e,n){const r=ks(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hP(e),{host:o,port:a}=EO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),TO()}function hP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EO(t){const e=hP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xw(o)}}}function xw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function SO(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){return Xl(t,"POST","/v1/accounts:signInWithPassword",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}async function kO(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Sy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",xO);case"emailLink":return PO(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,r,"signUpPassword",SO);case"emailLink":return kO(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return Xl(t,"POST","/v1/accounts:signInWithIdp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="http://localhost";class ps extends Sy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:CO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IO(t){const e=Na(Ma(t)).link,n=e?Na(Ma(e)).deep_link_id:null,r=Na(Ma(t)).deep_link_id;return(r?Na(Ma(r)).link:null)||r||n||e||t}class xy{constructor(e){var n,r,i,s,o,a;const l=Na(Ma(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=DO((i=l.mode)!==null&&i!==void 0?i:null);re(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=IO(e);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return Cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xy.parseLink(n);return re(r,"argument-error"),Cl._fromEmailAndCode(e,r.code,r.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends fP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Jl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Jl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Jl{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return Xl(t,"POST","/v1/accounts:signUp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await lr._fromIdTokenResponse(e,r,i),o=Pw(r);return new ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Pw(r);return new ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gd(e,n,r,i)}}function pP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,s,e,r):s})}async function RO(t,e,n=!1){const r=await kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(hr(r));const i="reauthenticate";try{const s=await kl(t,pP(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=Ey(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),ms._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e,n=!1){if(On(t.app))return Promise.reject(hr(t));const r="signIn",i=await pP(t,r,e),s=await ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function NO(t,e){return mP(ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t){const e=ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MO(t,e,n){if(On(t.app))return Promise.reject(hr(t));const r=ks(t),o=await Am(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gP(t),l}),a=await ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function OO(t,e,n){return On(t.app)?Promise.reject(hr(t)):NO(Ft(t),qo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gP(t),r})}function LO(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function VO(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function FO(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){const t=yt();return Ty(t)||_h(t)}const UO=1e3,BO=10;class vP extends yP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jO()&&sO(),this.fallbackToPolling=uP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vP.type="LOCAL";const WO=vP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends yP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_P.type="SESSION";const wP=_P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await zO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Py("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function $O(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function YO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qO(){return EP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebaseLocalStorageDb",QO=1,vd="firebaseLocalStorage",SP="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function GO(){const t=indexedDB.deleteDatabase(TP);return new Zl(t).toPromise()}function Nm(){const t=indexedDB.open(TP,QO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vd,{keyPath:SP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),await GO(),e(await Nm()))})})}async function kw(t,e,n){const r=Th(t,!0).put({[SP]:e,value:n});return new Zl(r).toPromise()}async function XO(t,e){const n=Th(t,!1).get(e),r=await new Zl(n).toPromise();return r===void 0?null:r.value}function Cw(t,e){const n=Th(t,!0).delete(e);return new Zl(n).toPromise()}const JO=800,ZO=3;class xP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(qO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YO(),!this.activeServiceWorker)return;this.sender=new HO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await kw(e,yd,"1"),await Cw(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Th(i,!1).getAll();return new Zl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xP.type="LOCAL";const eL=xP;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){return e?ur(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Sy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nL(t){return mP(t.auth,new ky(t),t.bypassAuthState)}function rL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),AO(n,new ky(t),t.bypassAuthState)}async function iL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),RO(n,new ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return iL;case"reauthViaPopup":case"reauthViaRedirect":return rL;default:kn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new Gl(2e3,1e4);class eo extends PP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sL.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="pendingRedirect",Pc=new Map;class aL extends PP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await lL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lL(t,e){const n=dL(e),r=cL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uL(t,e){Pc.set(t._key(),e)}function cL(t){return ur(t._redirectPersistence)}function dL(t){return xc(oL,t.config.apiKey,t.name)}async function hL(t,e,n=!1){if(On(t.app))return Promise.reject(hr(t));const r=ks(t),i=tL(r,e),o=await new aL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=10*60*1e3;class pL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dw(e))}saveEventToCache(e){this.cachedEventUids.add(Dw(e)),this.lastProcessedEventTime=Date.now()}}function Dw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vL=/^https?/;async function _L(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gL(t);for(const n of e)try{if(wL(n))return}catch{}kn(t,"unauthorized-domain")}function wL(t){const e=bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vL.test(n))return!1;if(yL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Gl(3e4,6e4);function Iw(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TL(t){return new Promise((e,n)=>{var r,i,s;function o(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),n(jn(t,"network-request-failed"))},timeout:EL.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)o();else{const a=pO("iframefcb");return Un()[a]=()=>{gapi.load?o():n(jn(t,"network-request-failed"))},dP(`${fO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function SL(t){return kc=kc||TL(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Gl(5e3,15e3),PL="__/auth/iframe",kL="emulator/auth/iframe",CL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IL(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wy(e,kL):`https://${t.config.authDomain}/${PL}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},i=DL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ql(r).slice(1)}`}async function bL(t){const e=await SL(t),n=Un().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:IL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=jn(t,"network-request-failed"),a=Un().setTimeout(()=>{s(o)},xL.get());function l(){Un().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AL=500,NL=600,ML="_blank",OL="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LL(t,e,n,r=AL,i=NL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},RL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=yt().toLowerCase();n&&(a=iP(c)?ML:n),rP(c)&&(e=e||OL,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,E])=>`${f}${g}=${E},`,"");if(rO(c)&&a!=="_self")return VL(e||"",a),new bw(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new bw(h)}function VL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="__/auth/handler",jL="emulator/auth/handler",UL=encodeURIComponent("fac");async function Rw(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:i};if(e instanceof fP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Jl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${UL}=${encodeURIComponent(l)}`:"";return`${BL(t)}?${Ql(a).slice(1)}${c}`}function BL({config:t}){return t.emulator?wy(t,jL):`https://${t.authDomain}/${FL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class WL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wP,this._completeRedirectFn=hL,this._overrideRedirectResult=uL}async _openPopup(e,n,r,i){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Rw(e,n,r,bm(),i);return LL(e,o,Py())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Rw(e,n,r,bm(),i);return $O(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bL(e),r=new pL(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ep,{type:ep},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ep];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_L(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uP()||Ty()||_h()}}const zL=WL;var Aw="@firebase/auth",Nw="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YL(t){ko(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cP(t)},c=new cO(r,i,s,l);return _O(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new hs("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(r=>new HL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(Aw,Nw,$L(t)),hi(Aw,Nw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=5*60,qL=B1("authIdTokenMaxAge")||KL;let Mw=null;const QL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qL)return;const i=n==null?void 0:n.token;Mw!==i&&(Mw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GL(t=$1()){const e=yy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vO(t,{popupRedirectResolver:zL,persistence:[eL,WO,wP]}),r=B1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=QL(s.toString());VO(n,o,()=>o(n.currentUser)),LO(n,a=>o(a))}}const i=j1("auth");return i&&wO(n,`http://${i}`),n}function XL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YL("Browser");const Cs=b.createContext();var JL="firebase",ZL="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(JL,ZL,"app");var Ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,CP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,w){function k(){}k.prototype=w.prototype,P.D=w.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(D,R,N){for(var I=Array(arguments.length-2),X=2;X<arguments.length;X++)I[X-2]=arguments[X];return w.prototype[R].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,w,k){k||(k=0);var D=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)D[R]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for(R=0;16>R;++R)D[R]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=P.g[0],k=P.g[1],R=P.g[2];var N=P.g[3],I=w+(N^k&(R^N))+D[0]+3614090360&4294967295;w=k+(I<<7&4294967295|I>>>25),I=N+(R^w&(k^R))+D[1]+3905402710&4294967295,N=w+(I<<12&4294967295|I>>>20),I=R+(k^N&(w^k))+D[2]+606105819&4294967295,R=N+(I<<17&4294967295|I>>>15),I=k+(w^R&(N^w))+D[3]+3250441966&4294967295,k=R+(I<<22&4294967295|I>>>10),I=w+(N^k&(R^N))+D[4]+4118548399&4294967295,w=k+(I<<7&4294967295|I>>>25),I=N+(R^w&(k^R))+D[5]+1200080426&4294967295,N=w+(I<<12&4294967295|I>>>20),I=R+(k^N&(w^k))+D[6]+2821735955&4294967295,R=N+(I<<17&4294967295|I>>>15),I=k+(w^R&(N^w))+D[7]+4249261313&4294967295,k=R+(I<<22&4294967295|I>>>10),I=w+(N^k&(R^N))+D[8]+1770035416&4294967295,w=k+(I<<7&4294967295|I>>>25),I=N+(R^w&(k^R))+D[9]+2336552879&4294967295,N=w+(I<<12&4294967295|I>>>20),I=R+(k^N&(w^k))+D[10]+4294925233&4294967295,R=N+(I<<17&4294967295|I>>>15),I=k+(w^R&(N^w))+D[11]+2304563134&4294967295,k=R+(I<<22&4294967295|I>>>10),I=w+(N^k&(R^N))+D[12]+1804603682&4294967295,w=k+(I<<7&4294967295|I>>>25),I=N+(R^w&(k^R))+D[13]+4254626195&4294967295,N=w+(I<<12&4294967295|I>>>20),I=R+(k^N&(w^k))+D[14]+2792965006&4294967295,R=N+(I<<17&4294967295|I>>>15),I=k+(w^R&(N^w))+D[15]+1236535329&4294967295,k=R+(I<<22&4294967295|I>>>10),I=w+(R^N&(k^R))+D[1]+4129170786&4294967295,w=k+(I<<5&4294967295|I>>>27),I=N+(k^R&(w^k))+D[6]+3225465664&4294967295,N=w+(I<<9&4294967295|I>>>23),I=R+(w^k&(N^w))+D[11]+643717713&4294967295,R=N+(I<<14&4294967295|I>>>18),I=k+(N^w&(R^N))+D[0]+3921069994&4294967295,k=R+(I<<20&4294967295|I>>>12),I=w+(R^N&(k^R))+D[5]+3593408605&4294967295,w=k+(I<<5&4294967295|I>>>27),I=N+(k^R&(w^k))+D[10]+38016083&4294967295,N=w+(I<<9&4294967295|I>>>23),I=R+(w^k&(N^w))+D[15]+3634488961&4294967295,R=N+(I<<14&4294967295|I>>>18),I=k+(N^w&(R^N))+D[4]+3889429448&4294967295,k=R+(I<<20&4294967295|I>>>12),I=w+(R^N&(k^R))+D[9]+568446438&4294967295,w=k+(I<<5&4294967295|I>>>27),I=N+(k^R&(w^k))+D[14]+3275163606&4294967295,N=w+(I<<9&4294967295|I>>>23),I=R+(w^k&(N^w))+D[3]+4107603335&4294967295,R=N+(I<<14&4294967295|I>>>18),I=k+(N^w&(R^N))+D[8]+1163531501&4294967295,k=R+(I<<20&4294967295|I>>>12),I=w+(R^N&(k^R))+D[13]+2850285829&4294967295,w=k+(I<<5&4294967295|I>>>27),I=N+(k^R&(w^k))+D[2]+4243563512&4294967295,N=w+(I<<9&4294967295|I>>>23),I=R+(w^k&(N^w))+D[7]+1735328473&4294967295,R=N+(I<<14&4294967295|I>>>18),I=k+(N^w&(R^N))+D[12]+2368359562&4294967295,k=R+(I<<20&4294967295|I>>>12),I=w+(k^R^N)+D[5]+4294588738&4294967295,w=k+(I<<4&4294967295|I>>>28),I=N+(w^k^R)+D[8]+2272392833&4294967295,N=w+(I<<11&4294967295|I>>>21),I=R+(N^w^k)+D[11]+1839030562&4294967295,R=N+(I<<16&4294967295|I>>>16),I=k+(R^N^w)+D[14]+4259657740&4294967295,k=R+(I<<23&4294967295|I>>>9),I=w+(k^R^N)+D[1]+2763975236&4294967295,w=k+(I<<4&4294967295|I>>>28),I=N+(w^k^R)+D[4]+1272893353&4294967295,N=w+(I<<11&4294967295|I>>>21),I=R+(N^w^k)+D[7]+4139469664&4294967295,R=N+(I<<16&4294967295|I>>>16),I=k+(R^N^w)+D[10]+3200236656&4294967295,k=R+(I<<23&4294967295|I>>>9),I=w+(k^R^N)+D[13]+681279174&4294967295,w=k+(I<<4&4294967295|I>>>28),I=N+(w^k^R)+D[0]+3936430074&4294967295,N=w+(I<<11&4294967295|I>>>21),I=R+(N^w^k)+D[3]+3572445317&4294967295,R=N+(I<<16&4294967295|I>>>16),I=k+(R^N^w)+D[6]+76029189&4294967295,k=R+(I<<23&4294967295|I>>>9),I=w+(k^R^N)+D[9]+3654602809&4294967295,w=k+(I<<4&4294967295|I>>>28),I=N+(w^k^R)+D[12]+3873151461&4294967295,N=w+(I<<11&4294967295|I>>>21),I=R+(N^w^k)+D[15]+530742520&4294967295,R=N+(I<<16&4294967295|I>>>16),I=k+(R^N^w)+D[2]+3299628645&4294967295,k=R+(I<<23&4294967295|I>>>9),I=w+(R^(k|~N))+D[0]+4096336452&4294967295,w=k+(I<<6&4294967295|I>>>26),I=N+(k^(w|~R))+D[7]+1126891415&4294967295,N=w+(I<<10&4294967295|I>>>22),I=R+(w^(N|~k))+D[14]+2878612391&4294967295,R=N+(I<<15&4294967295|I>>>17),I=k+(N^(R|~w))+D[5]+4237533241&4294967295,k=R+(I<<21&4294967295|I>>>11),I=w+(R^(k|~N))+D[12]+1700485571&4294967295,w=k+(I<<6&4294967295|I>>>26),I=N+(k^(w|~R))+D[3]+2399980690&4294967295,N=w+(I<<10&4294967295|I>>>22),I=R+(w^(N|~k))+D[10]+4293915773&4294967295,R=N+(I<<15&4294967295|I>>>17),I=k+(N^(R|~w))+D[1]+2240044497&4294967295,k=R+(I<<21&4294967295|I>>>11),I=w+(R^(k|~N))+D[8]+1873313359&4294967295,w=k+(I<<6&4294967295|I>>>26),I=N+(k^(w|~R))+D[15]+4264355552&4294967295,N=w+(I<<10&4294967295|I>>>22),I=R+(w^(N|~k))+D[6]+2734768916&4294967295,R=N+(I<<15&4294967295|I>>>17),I=k+(N^(R|~w))+D[13]+1309151649&4294967295,k=R+(I<<21&4294967295|I>>>11),I=w+(R^(k|~N))+D[4]+4149444226&4294967295,w=k+(I<<6&4294967295|I>>>26),I=N+(k^(w|~R))+D[11]+3174756917&4294967295,N=w+(I<<10&4294967295|I>>>22),I=R+(w^(N|~k))+D[2]+718787259&4294967295,R=N+(I<<15&4294967295|I>>>17),I=k+(N^(R|~w))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+N&4294967295}r.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var k=w-this.blockSize,D=this.B,R=this.h,N=0;N<w;){if(R==0)for(;N<=k;)i(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<w;)if(D[R++]=P.charCodeAt(N++),R==this.blockSize){i(this,D),R=0;break}}else for(;N<w;)if(D[R++]=P[N++],R==this.blockSize){i(this,D),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var k=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=k&255,k/=256;for(this.u(P),P=Array(16),w=k=0;4>w;++w)for(var D=0;32>D;D+=8)P[k++]=this.g[w]>>>D&255;return P};function s(P,w){var k=a;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=w(P)}function o(P,w){this.h=w;for(var k=[],D=!0,R=P.length-1;0<=R;R--){var N=P[R]|0;D&&N==w||(k[R]=N,D=!1)}this.g=k}var a={};function l(P){return-128<=P&&128>P?s(P,function(w){return new o([w|0],0>w?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return S(c(-P));for(var w=[],k=1,D=0;P>=k;D++)w[D]=P/k|0,k*=4294967296;return new o(w,0)}function d(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return S(d(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(w,8)),D=h,R=0;R<P.length;R+=8){var N=Math.min(8,P.length-R),I=parseInt(P.substring(R,R+N),w);8>N?(N=c(Math.pow(w,N)),D=D.j(N).add(c(I))):(D=D.j(k),D=D.add(c(I)))}return D}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var P=0,w=1,k=0;k<this.g.length;k++){var D=this.i(k);P+=(0<=D?D:4294967296+D)*w,w*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(_(this))return"-"+S(this).toString(P);for(var w=c(Math.pow(P,6)),k=this,D="";;){var R=A(k,w).g;k=y(k,R.j(w));var N=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=R,E(k))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function _(P){return P.h==-1}t.l=function(P){return P=y(this,P),_(P)?-1:E(P)?0:1};function S(P){for(var w=P.g.length,k=[],D=0;D<w;D++)k[D]=~P.g[D];return new o(k,~P.h).add(f)}t.abs=function(){return _(this)?S(this):this},t.add=function(P){for(var w=Math.max(this.g.length,P.g.length),k=[],D=0,R=0;R<=w;R++){var N=D+(this.i(R)&65535)+(P.i(R)&65535),I=(N>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);D=I>>>16,N&=65535,I&=65535,k[R]=I<<16|N}return new o(k,k[k.length-1]&-2147483648?-1:0)};function y(P,w){return P.add(S(w))}t.j=function(P){if(E(this)||E(P))return h;if(_(this))return _(P)?S(this).j(S(P)):S(S(this).j(P));if(_(P))return S(this.j(S(P)));if(0>this.l(g)&&0>P.l(g))return c(this.m()*P.m());for(var w=this.g.length+P.g.length,k=[],D=0;D<2*w;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<P.g.length;R++){var N=this.i(D)>>>16,I=this.i(D)&65535,X=P.i(R)>>>16,Q=P.i(R)&65535;k[2*D+2*R]+=I*Q,v(k,2*D+2*R),k[2*D+2*R+1]+=N*Q,v(k,2*D+2*R+1),k[2*D+2*R+1]+=I*X,v(k,2*D+2*R+1),k[2*D+2*R+2]+=N*X,v(k,2*D+2*R+2)}for(D=0;D<w;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=w;D<2*w;D++)k[D]=0;return new o(k,0)};function v(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function T(P,w){this.g=P,this.h=w}function A(P,w){if(E(w))throw Error("division by zero");if(E(P))return new T(h,h);if(_(P))return w=A(S(P),w),new T(S(w.g),S(w.h));if(_(w))return w=A(P,S(w)),new T(S(w.g),w.h);if(30<P.g.length){if(_(P)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var k=f,D=w;0>=D.l(P);)k=M(k),D=M(D);var R=V(k,1),N=V(D,1);for(D=V(D,2),k=V(k,2);!E(D);){var I=N.add(D);0>=I.l(P)&&(R=R.add(k),N=I),D=V(D,1),k=V(k,1)}return w=y(P,R.j(w)),new T(R,w)}for(R=h;0<=P.l(w);){for(k=Math.max(1,Math.floor(P.m()/w.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=c(k),I=N.j(w);_(I)||0<I.l(P);)k-=D,N=c(k),I=N.j(w);E(N)&&(N=f),R=R.add(N),P=y(P,I)}return new T(R,P)}t.A=function(P){return A(this,P).h},t.and=function(P){for(var w=Math.max(this.g.length,P.g.length),k=[],D=0;D<w;D++)k[D]=this.i(D)&P.i(D);return new o(k,this.h&P.h)},t.or=function(P){for(var w=Math.max(this.g.length,P.g.length),k=[],D=0;D<w;D++)k[D]=this.i(D)|P.i(D);return new o(k,this.h|P.h)},t.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),k=[],D=0;D<w;D++)k[D]=this.i(D)^P.i(D);return new o(k,this.h^P.h)};function M(P){for(var w=P.g.length+1,k=[],D=0;D<w;D++)k[D]=P.i(D)<<1|P.i(D-1)>>>31;return new o(k,P.h)}function V(P,w){var k=w>>5;w%=32;for(var D=P.g.length-k,R=[],N=0;N<D;N++)R[N]=0<w?P.i(N+k)>>>w|P.i(N+k+1)<<32-w:P.i(N+k);return new o(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ns=o}).apply(typeof Ow<"u"?Ow:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DP,IP,Oa,bP,Cc,Mm,RP,AP,NP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var O=u[x];if(!(O in m))break e;m=m[O]}u=u[u.length-1],x=m[u],p=p(x),p!=x&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,x=!1,O={next:function(){if(!x&&m<u.length){var L=m++;return{value:p(L,u[L]),done:!1}}return x=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function h(u,p,m){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,x),u.apply(p,O)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function E(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(x,O,L){for(var z=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)z[Pe-2]=arguments[Pe];return p.prototype[O].apply(x,z)}}function _(u){const p=u.length;if(0<p){const m=Array(p);for(let x=0;x<p;x++)m[x]=u[x];return m}return[]}function S(u,p){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(l(x)){const O=u.length||0,L=x.length||0;u.length=O+L;for(let z=0;z<L;z++)u[O+z]=x[z]}else u.push(x)}}class y{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,p,m){for(const x in u)p.call(m,u[x],x,u)}function P(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function w(u){const p={};for(const m in u)p[m]=u[m];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let m,x;for(let O=1;O<arguments.length;O++){x=arguments[O];for(m in x)u[m]=x[m];for(let L=0;L<k.length;L++)m=k[L],Object.prototype.hasOwnProperty.call(x,m)&&(u[m]=x[m])}}function R(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function I(){var u=H;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,m){const x=Q.get();x.set(p,m),this.h?this.h.next=x:this.g=x,this.h=x}}var Q=new y(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let J,W=!1,H=new X,oe=()=>{const u=a.Promise.resolve(void 0);J=()=>{u.then(Ne)}};var Ne=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(m){N(m)}var p=Q;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}W=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var Gn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Xn(u,p){if(He.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(M){e:{try{A(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Jn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Xn.aa.h.call(this)}}E(Xn,He);var Jn={2:"touch",3:"pen",4:"mouse"};Xn.prototype.h=function(){Xn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Zn="closure_listenable_"+(1e6*Math.random()|0),uI=0;function cI(u,p,m,x,O){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!x,this.ha=O,this.key=++uI,this.da=this.fa=!1}function mu(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gu(u){this.src=u,this.g={},this.h=0}gu.prototype.add=function(u,p,m,x,O){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var z=Jh(u,p,x,O);return-1<z?(p=u[z],m||(p.fa=!1)):(p=new cI(p,this.src,L,!!x,O),p.fa=m,u.push(p)),p};function Xh(u,p){var m=p.type;if(m in u.g){var x=u.g[m],O=Array.prototype.indexOf.call(x,p,void 0),L;(L=0<=O)&&Array.prototype.splice.call(x,O,1),L&&(mu(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Jh(u,p,m,x){for(var O=0;O<u.length;++O){var L=u[O];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==x)return O}return-1}var Zh="closure_lm_"+(1e6*Math.random()|0),ef={};function Hv(u,p,m,x,O){if(Array.isArray(p)){for(var L=0;L<p.length;L++)Hv(u,p[L],m,x,O);return null}return m=Kv(m),u&&u[Zn]?u.K(p,m,c(x)?!!x.capture:!!x,O):dI(u,p,m,!1,x,O)}function dI(u,p,m,x,O,L){if(!p)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,Pe=nf(u);if(Pe||(u[Zh]=Pe=new gu(u)),m=Pe.add(p,m,x,z,L),m.proxy)return m;if(x=hI(),m.proxy=x,x.src=u,x.listener=m,u.addEventListener)Gn||(O=z),O===void 0&&(O=!1),u.addEventListener(p.toString(),x,O);else if(u.attachEvent)u.attachEvent(Yv(p.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function hI(){function u(m){return p.call(u.src,u.listener,m)}const p=fI;return u}function $v(u,p,m,x,O){if(Array.isArray(p))for(var L=0;L<p.length;L++)$v(u,p[L],m,x,O);else x=c(x)?!!x.capture:!!x,m=Kv(m),u&&u[Zn]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],m=Jh(L,m,x,O),-1<m&&(mu(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=nf(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Jh(p,m,x,O)),(m=-1<u?p[u]:null)&&tf(m))}function tf(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Zn])Xh(p.i,u);else{var m=u.type,x=u.proxy;p.removeEventListener?p.removeEventListener(m,x,u.capture):p.detachEvent?p.detachEvent(Yv(m),x):p.addListener&&p.removeListener&&p.removeListener(x),(m=nf(p))?(Xh(m,u),m.h==0&&(m.src=null,p[Zh]=null)):mu(u)}}}function Yv(u){return u in ef?ef[u]:ef[u]="on"+u}function fI(u,p){if(u.da)u=!0;else{p=new Xn(p,this);var m=u.listener,x=u.ha||u.src;u.fa&&tf(u),u=m.call(x,p)}return u}function nf(u){return u=u[Zh],u instanceof gu?u:null}var rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kv(u){return typeof u=="function"?u:(u[rf]||(u[rf]=function(p){return u.handleEvent(p)}),u[rf])}function vt(){xe.call(this),this.i=new gu(this),this.M=this,this.F=null}E(vt,xe),vt.prototype[Zn]=!0,vt.prototype.removeEventListener=function(u,p,m,x){$v(this,u,p,m,x)};function At(u,p){var m,x=u.F;if(x)for(m=[];x;x=x.F)m.push(x);if(u=u.M,x=p.type||p,typeof p=="string")p=new He(p,u);else if(p instanceof He)p.target=p.target||u;else{var O=p;p=new He(x,u),D(p,O)}if(O=!0,m)for(var L=m.length-1;0<=L;L--){var z=p.g=m[L];O=yu(z,x,!0,p)&&O}if(z=p.g=u,O=yu(z,x,!0,p)&&O,O=yu(z,x,!1,p)&&O,m)for(L=0;L<m.length;L++)z=p.g=m[L],O=yu(z,x,!1,p)&&O}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],x=0;x<m.length;x++)mu(m[x]);delete u.g[p],u.h--}}this.F=null},vt.prototype.K=function(u,p,m,x){return this.i.add(String(u),p,!1,m,x)},vt.prototype.L=function(u,p,m,x){return this.i.add(String(u),p,!0,m,x)};function yu(u,p,m,x){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,L=0;L<p.length;++L){var z=p[L];if(z&&!z.da&&z.capture==m){var Pe=z.listener,lt=z.ha||z.src;z.fa&&Xh(u.i,z),O=Pe.call(lt,x)!==!1&&O}}return O&&!x.defaultPrevented}function qv(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Qv(u){u.g=qv(()=>{u.g=null,u.i&&(u.i=!1,Qv(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class pI extends xe{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(u){xe.call(this),this.h=u,this.g={}}E(ta,xe);var Gv=[];function Xv(u){V(u.g,function(p,m){this.g.hasOwnProperty(m)&&tf(p)},u),u.g={}}ta.prototype.N=function(){ta.aa.N.call(this),Xv(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sf=a.JSON.stringify,mI=a.JSON.parse,gI=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function of(){}of.prototype.h=null;function Jv(u){return u.h||(u.h=u.i())}function Zv(){}var na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function af(){He.call(this,"d")}E(af,He);function lf(){He.call(this,"c")}E(lf,He);var Li={},e0=null;function vu(){return e0=e0||new vt}Li.La="serverreachability";function t0(u){He.call(this,Li.La,u)}E(t0,He);function ra(u){const p=vu();At(p,new t0(p))}Li.STAT_EVENT="statevent";function n0(u,p){He.call(this,Li.STAT_EVENT,u),this.stat=p}E(n0,He);function Nt(u){const p=vu();At(p,new n0(p,u))}Li.Ma="timingevent";function r0(u,p){He.call(this,Li.Ma,u),this.size=p}E(r0,He);function ia(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function yI(u,p,m,x,O,L){u.info(function(){if(u.g)if(L)for(var z="",Pe=L.split("&"),lt=0;lt<Pe.length;lt++){var ge=Pe[lt].split("=");if(1<ge.length){var _t=ge[0];ge=ge[1];var wt=_t.split("_");z=2<=wt.length&&wt[1]=="type"?z+(_t+"="+ge+"&"):z+(_t+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+x+") [attempt "+O+"]: "+p+`
`+m+`
`+z})}function vI(u,p,m,x,O,L,z){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+O+"]: "+p+`
`+m+`
`+L+" "+z})}function As(u,p,m,x){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+wI(u,m)+(x?" "+x:"")})}function _I(u,p){u.info(function(){return"TIMEOUT: "+p})}sa.prototype.info=function(){};function wI(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var x=m[u];if(!(2>x.length)){var O=x[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return sf(m)}catch{return p}}var _u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},i0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uf;function wu(){}E(wu,of),wu.prototype.g=function(){return new XMLHttpRequest},wu.prototype.i=function(){return{}},uf=new wu;function Nr(u,p,m,x){this.j=u,this.i=p,this.l=m,this.R=x||1,this.U=new ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new s0}function s0(){this.i=null,this.g="",this.h=!1}var o0={},cf={};function df(u,p,m){u.L=1,u.v=xu(er(p)),u.m=m,u.P=!0,a0(u,null)}function a0(u,p){u.F=Date.now(),Eu(u),u.A=er(u.v);var m=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),E0(m.i,"t",x),u.C=0,m=u.j.J,u.h=new s0,u.g=j0(u.j,m?p:null,!u.m),0<u.O&&(u.M=new pI(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,x=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(Gv[0]=O.toString()),O=Gv);for(var L=0;L<O.length;L++){var z=Hv(m,O[L],x||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ra(),yI(u.i,u.u,u.A,u.l,u.R,u.m)}Nr.prototype.ca=function(u){u=u.target;const p=this.M;p&&tr(u)==3?p.j():this.Y(u)},Nr.prototype.Y=function(u){try{if(u==this.g)e:{const wt=tr(this.g);var p=this.g.Ba();const Os=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||D0(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Os?ra(3):ra(2)),hf(this);var m=this.g.Z();this.X=m;t:if(l0(this)){var x=D0(this.g);u="";var O=x.length,L=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),oa(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,u+=this.h.i.decode(x[p],{stream:!(L&&p==O-1)});x.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,vI(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,lt=this.g;if((Pe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Pe)){var ge=Pe;break t}}ge=null}if(m=ge)As(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ff(this,m);else{this.o=!1,this.s=3,Nt(12),Vi(this),oa(this);break e}}if(this.P){m=!0;let vn;for(;!this.J&&this.C<z.length;)if(vn=EI(this,z),vn==cf){wt==4&&(this.s=4,Nt(14),m=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==o0){this.s=4,Nt(15),As(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else As(this.i,this.l,vn,null),ff(this,vn);if(l0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||z.length!=0||this.h.h||(this.s=1,Nt(16),m=!1),this.o=this.o&&m,!m)As(this.i,this.l,z,"[Invalid Chunked Response]"),Vi(this),oa(this);else if(0<z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),_f(_t),_t.M=!0,Nt(11))}}else As(this.i,this.l,z,null),ff(this,z);wt==4&&Vi(this),this.o&&!this.J&&(wt==4?O0(this.j,this):(this.o=!1,Eu(this)))}else FI(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Vi(this),oa(this)}}}catch{}finally{}};function l0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function EI(u,p){var m=u.C,x=p.indexOf(`
`,m);return x==-1?cf:(m=Number(p.substring(m,x)),isNaN(m)?o0:(x+=1,x+m>p.length?cf:(p=p.slice(x,x+m),u.C=x+m,p)))}Nr.prototype.cancel=function(){this.J=!0,Vi(this)};function Eu(u){u.S=Date.now()+u.I,u0(u,u.I)}function u0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ia(f(u.ba,u),p)}function hf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Nr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_I(this.i,this.A),this.L!=2&&(ra(),Nt(17)),Vi(this),this.s=2,oa(this)):u0(this,this.S-u)};function oa(u){u.j.G==0||u.J||O0(u.j,u)}function Vi(u){hf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Xv(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ff(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||pf(m.h,u))){if(!u.K&&pf(m.h,u)&&m.G==3){try{var x=m.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var O=x;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Iu(m),Cu(m);else break e;vf(m),Nt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=ia(f(m.Za,m),6e3));if(1>=h0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ji(m,11)}else if((u.K||m.g==u)&&Iu(m),!v(p))for(O=m.Da.g.parse(p),p=0;p<O.length;p++){let ge=O[p];if(m.T=ge[0],ge=ge[1],m.G==2)if(ge[0]=="c"){m.K=ge[1],m.ia=ge[2];const _t=ge[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=ge[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const Os=ge[5];Os!=null&&typeof Os=="number"&&0<Os&&(x=1.5*Os,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const vn=u.g;if(vn){const Ru=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var L=x.h;L.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(mf(L,L.h),L.h=null))}if(x.D){const wf=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;wf&&(x.ya=wf,De(x.I,x.D,wf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var z=u;if(x.qa=F0(x,x.J?x.ia:null,x.W),z.K){f0(x.h,z);var Pe=z,lt=x.L;lt&&(Pe.I=lt),Pe.B&&(hf(Pe),Eu(Pe)),x.g=z}else N0(x);0<m.i.length&&Du(m)}else ge[0]!="stop"&&ge[0]!="close"||ji(m,7);else m.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ji(m,7):yf(m):ge[0]!="noop"&&m.l&&m.l.ta(ge),m.v=0)}}ra(4)}catch{}}var TI=class{constructor(u,p){this.g=u,this.map=p}};function c0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function d0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function h0(u){return u.h?1:u.g?u.g.size:0}function pf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function mf(u,p){u.g?u.g.add(p):u.h=p}function f0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}c0.prototype.cancel=function(){if(this.i=p0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function p0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return _(u.i)}function SI(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,x=0;x<m;x++)p.push(u[x]);return p}p=[],m=0;for(x in u)p[m++]=u[x];return p}function xI(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const x in u)p[m++]=x;return p}}}function m0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=xI(u),x=SI(u),O=x.length,L=0;L<O;L++)p.call(void 0,x[L],m&&m[L],u)}var g0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PI(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var x=u[m].indexOf("="),O=null;if(0<=x){var L=u[m].substring(0,x);O=u[m].substring(x+1)}else L=u[m];p(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Fi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fi){this.h=u.h,Tu(this,u.j),this.o=u.o,this.g=u.g,Su(this,u.s),this.l=u.l;var p=u.i,m=new ua;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),y0(this,m),this.m=u.m}else u&&(p=String(u).match(g0))?(this.h=!1,Tu(this,p[1]||"",!0),this.o=aa(p[2]||""),this.g=aa(p[3]||"",!0),Su(this,p[4]),this.l=aa(p[5]||"",!0),y0(this,p[6]||"",!0),this.m=aa(p[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}Fi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(la(p,v0,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(la(p,v0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(la(m,m.charAt(0)=="/"?DI:CI,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",la(m,bI)),u.join("")};function er(u){return new Fi(u)}function Tu(u,p,m){u.j=m?aa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Su(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function y0(u,p,m){p instanceof ua?(u.i=p,RI(u.i,u.h)):(m||(p=la(p,II)),u.i=new ua(p,u.h))}function De(u,p,m){u.i.set(p,m)}function xu(u){return De(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function aa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function la(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,kI),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var v0=/[#\/\?@]/g,CI=/[#\?:]/g,DI=/[#\?]/g,II=/[#\?@]/g,bI=/#/g;function ua(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&PI(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=ua.prototype,t.add=function(u,p){Mr(this),this.i=null,u=Ns(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function _0(u,p){Mr(u),p=Ns(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function w0(u,p){return Mr(u),p=Ns(u,p),u.g.has(p)}t.forEach=function(u,p){Mr(this),this.g.forEach(function(m,x){m.forEach(function(O){u.call(p,O,x,this)},this)},this)},t.na=function(){Mr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let x=0;x<p.length;x++){const O=u[x];for(let L=0;L<O.length;L++)m.push(p[x])}return m},t.V=function(u){Mr(this);let p=[];if(typeof u=="string")w0(this,u)&&(p=p.concat(this.g.get(Ns(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Mr(this),this.i=null,u=Ns(this,u),w0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function E0(u,p,m){_0(u,p),0<m.length&&(u.i=null,u.g.set(Ns(u,p),_(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var x=p[m];const L=encodeURIComponent(String(x)),z=this.V(x);for(x=0;x<z.length;x++){var O=L;z[x]!==""&&(O+="="+encodeURIComponent(String(z[x]))),u.push(O)}}return this.i=u.join("&")};function Ns(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function RI(u,p){p&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(m,x){var O=x.toLowerCase();x!=O&&(_0(this,x),E0(this,O,m))},u)),u.j=p}function AI(u,p){const m=new sa;if(a.Image){const x=new Image;x.onload=g(Or,m,"TestLoadImage: loaded",!0,p,x),x.onerror=g(Or,m,"TestLoadImage: error",!1,p,x),x.onabort=g(Or,m,"TestLoadImage: abort",!1,p,x),x.ontimeout=g(Or,m,"TestLoadImage: timeout",!1,p,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else p(!1)}function NI(u,p){const m=new sa,x=new AbortController,O=setTimeout(()=>{x.abort(),Or(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:x.signal}).then(L=>{clearTimeout(O),L.ok?Or(m,"TestPingServer: ok",!0,p):Or(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),Or(m,"TestPingServer: error",!1,p)})}function Or(u,p,m,x,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),x(m)}catch{}}function MI(){this.g=new gI}function OI(u,p,m){const x=m||"";try{m0(u,function(O,L){let z=O;c(O)&&(z=sf(O)),p.push(x+L+"="+encodeURIComponent(z))})}catch(O){throw p.push(x+"type="+encodeURIComponent("_badmap")),O}}function ca(u){this.l=u.Ub||null,this.j=u.eb||!1}E(ca,of),ca.prototype.g=function(){return new Pu(this.l,this.j)},ca.prototype.i=function(u){return function(){return u}}({});function Pu(u,p){vt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Pu,vt),t=Pu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ha(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function T0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?da(this):ha(this),this.readyState==3&&T0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,da(this))},t.Qa=function(u){this.g&&(this.response=u,da(this))},t.ga=function(){this.g&&da(this)};function da(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ha(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function ha(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function S0(u){let p="";return V(u,function(m,x){p+=x,p+=":",p+=m,p+=`\r
`}),p}function gf(u,p,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=S0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):De(u,p,m))}function Ue(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ue,vt);var LI=/^https?$/i,VI=["POST","PUT"];t=Ue.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uf.g(),this.v=this.o?Jv(this.o):Jv(uf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){x0(this,L);return}if(u=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var O in x)m.set(O,x[O]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const L of x.keys())m.set(L,x.get(L));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VI,p,void 0))||x||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of m)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){x0(this,L)}};function x0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,P0(u),ku(u)}function P0(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?k0(this):this.bb())},t.bb=function(){k0(this)};function k0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||tr(u)!=4||u.Z()!=2)){if(u.u&&tr(u)==4)qv(u.Ea,0,u);else if(At(u,"readystatechange"),tr(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var x;if(x=z===0){var O=String(u.D).match(g0)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),x=!LI.test(O?O.toLowerCase():"")}m=x}if(m)At(u,"complete"),At(u,"success");else{u.m=6;try{var L=2<tr(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",P0(u)}}finally{ku(u)}}}}function ku(u,p){if(u.g){C0(u);const m=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||At(u,"ready");try{m.onreadystatechange=x}catch{}}}function C0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function tr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),mI(p)}};function D0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(u){const p={};u=(u.g&&2<=tr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(v(u[x]))continue;var m=R(u[x]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[O]||[];p[O]=L,L.push(m)}P(p,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function I0(u){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,u),this.cb=fa("retryDelaySeedMs",1e4,u),this.Wa=fa("forwardChannelMaxRetries",2,u),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new c0(u&&u.concurrentRequestLimit),this.Da=new MI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=I0.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,x){Nt(0),this.W=u,this.H=p||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=F0(this,null,this.W),Du(this)};function yf(u){if(b0(u),u.G==3){var p=u.U++,m=er(u.I);if(De(m,"SID",u.K),De(m,"RID",p),De(m,"TYPE","terminate"),pa(u,m),p=new Nr(u,u.j,p),p.L=2,p.v=xu(er(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=j0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Eu(p)}V0(u)}function Cu(u){u.g&&(_f(u),u.g.cancel(),u.g=null)}function b0(u){Cu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Iu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Du(u){if(!d0(u.h)&&!u.s){u.s=!0;var p=u.Ga;J||oe(),W||(J(),W=!0),H.add(p,u),u.B=0}}function jI(u,p){return h0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ia(f(u.Ga,u,p),L0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Nr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=w(L),D(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=A0(this,O,p),m=er(this.I),De(m,"RID",u),De(m,"CVER",22),this.D&&De(m,"X-HTTP-Session-Id",this.D),pa(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(S0(L)))+"&"+p:this.m&&gf(m,this.m,L)),mf(this.h,O),this.Ua&&De(m,"TYPE","init"),this.P?(De(m,"$req",p),De(m,"SID","null"),O.T=!0,df(O,m,null)):df(O,m,p),this.G=2}}else this.G==3&&(u?R0(this,u):this.i.length==0||d0(this.h)||R0(this))};function R0(u,p){var m;p?m=p.l:m=u.U++;const x=er(u.I);De(x,"SID",u.K),De(x,"RID",m),De(x,"AID",u.T),pa(u,x),u.m&&u.o&&gf(x,u.m,u.o),m=new Nr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=A0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),mf(u.h,m),df(m,x,p)}function pa(u,p){u.H&&V(u.H,function(m,x){De(p,x,m)}),u.l&&m0({},function(m,x){De(p,x,m)})}function A0(u,p,m){m=Math.min(u.i.length,m);var x=u.l?f(u.l.Na,u.l,u):null;e:{var O=u.i;let L=-1;for(;;){const z=["count="+m];L==-1?0<m?(L=O[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let Pe=!0;for(let lt=0;lt<m;lt++){let ge=O[lt].g;const _t=O[lt].map;if(ge-=L,0>ge)L=Math.max(0,O[lt].g-100),Pe=!1;else try{OI(_t,z,"req"+ge+"_")}catch{x&&x(_t)}}if(Pe){x=z.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,x}function N0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;J||oe(),W||(J(),W=!0),H.add(p,u),u.v=0}}function vf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ia(f(u.Fa,u),L0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,M0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ia(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Cu(this),M0(this))};function _f(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function M0(u){u.g=new Nr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=er(u.qa);De(p,"RID","rpc"),De(p,"SID",u.K),De(p,"AID",u.T),De(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&De(p,"TO",u.ja),De(p,"TYPE","xmlhttp"),pa(u,p),u.m&&u.o&&gf(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=xu(er(p)),m.m=null,m.P=!0,a0(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Cu(this),vf(this),Nt(19))};function Iu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function O0(u,p){var m=null;if(u.g==p){Iu(u),_f(u),u.g=null;var x=2}else if(pf(u.h,p))m=p.D,f0(u.h,p),x=1;else return;if(u.G!=0){if(p.o)if(x==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var O=u.B;x=vu(),At(x,new r0(x,m)),Du(u)}else N0(u);else if(O=p.s,O==3||O==0&&0<p.X||!(x==1&&jI(u,p)||x==2&&vf(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),O){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function L0(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function ji(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),x=u.Xa;const O=!x;x=new Fi(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tu(x,"https"),xu(x),O?AI(x.toString(),m):NI(x.toString(),m)}else Nt(2);u.G=0,u.l&&u.l.sa(p),V0(u),b0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function V0(u){if(u.G=0,u.ka=[],u.l){const p=p0(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function F0(u,p,m){var x=m instanceof Fi?er(m):new Fi(m);if(x.g!="")p&&(x.g=p+"."+x.g),Su(x,x.s);else{var O=a.location;x=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var L=new Fi(null);x&&Tu(L,x),p&&(L.g=p),O&&Su(L,O),m&&(L.l=m),x=L}return m=u.D,p=u.ya,m&&p&&De(x,m,p),De(x,"VER",u.la),pa(u,x),x}function j0(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ue(new ca({eb:m})):new Ue(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function U0(){}t=U0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(u,p){return new qt(u,p)};function qt(u,p){vt.call(this),this.g=new I0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ms(this)}E(qt,vt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){yf(this.g)},qt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=sf(u),u=m);p.i.push(new TI(p.Ya++,u)),p.G==3&&Du(p)},qt.prototype.N=function(){this.g.l=null,delete this.j,yf(this.g),delete this.g,qt.aa.N.call(this)};function B0(u){af.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}E(B0,af);function W0(){lf.call(this),this.status=1}E(W0,lf);function Ms(u){this.g=u}E(Ms,U0),Ms.prototype.ua=function(){At(this.g,"a")},Ms.prototype.ta=function(u){At(this.g,new B0(u))},Ms.prototype.sa=function(u){At(this.g,new W0)},Ms.prototype.ra=function(){At(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,NP=function(){return new bu},AP=function(){return vu()},RP=Li,Mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_u.NO_ERROR=0,_u.TIMEOUT=8,_u.HTTP_ERROR=6,Cc=_u,i0.COMPLETE="complete",bP=i0,Zv.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Oa=Zv,IP=ca,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,DP=Ue}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new my("@firebase/firestore");function Sa(){return gs.logLevel}function G(t,...e){if(gs.logLevel<=de.DEBUG){const n=e.map(Cy);gs.debug(`Firestore (${Qo}): ${t}`,...n)}}function xr(t,...e){if(gs.logLevel<=de.ERROR){const n=e.map(Cy);gs.error(`Firestore (${Qo}): ${t}`,...n)}}function Co(t,...e){if(gs.logLevel<=de.WARN){const n=e.map(Cy);gs.warn(`Firestore (${Qo}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw xr(e),new Error(e)}function Ce(t,e){t||ie()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class tV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nV{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new MP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Pt(e)}}class rV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new sV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new nt(0,0))}static max(){return new se(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class We extends Dl{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const lV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Dl{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return lV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(We.fromString(e))}static fromName(e){return new te(We.fromString(e).popFirst(5))}static empty(){return new te(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new We(e.slice()))}}function uV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new wi(i,te.empty(),e)}function cV(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(se.min(),te.empty(),-1)}static max(){return new wi(se.max(),te.empty(),-1)}}function dV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==hV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function pV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dy.oe=-1;function Sh(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function mV(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new mt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VP("Invalid base64 string: "+s):s}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const gV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=gV.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function by(t){const e=t.mapValue.fields.__previous_value__;return Iy(e)?by(e):e}function Il(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class bl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:vV(t)?9007199254740991:10:ie()}function Kn(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),a=Ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ys(i.bytesValue).isEqual(ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?_d(o)===_d(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Vw(o)!==Vw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Kn(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function Rl(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),l=Ge(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return jw(t.timestampValue,e.timestampValue);case 4:return jw(Il(t),Il(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ys(s),l=ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ye(a[c],l[c]);if(d!==0)return d}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye(Ge(s.latitude),Ge(o.latitude));return a!==0?a:ye(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Io(a[c],l[c]);if(d)return d}return ye(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ju.mapValue&&o===Ju.mapValue)return 0;if(s===Ju.mapValue)return 1;if(o===Ju.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ye(l[h],d[h]);if(f!==0)return f;const g=Io(a[l[h]],c[d[h]]);if(g!==0)return g}return ye(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ei(t),r=Ei(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function bo(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Om(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function Lm(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function Bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dc(t){return!!t&&"mapValue"in t}function Xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(Xa(this.value))}}function FP(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new ft([n]);if(Dc(r)){const s=FP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,se.min(),se.min(),se.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,se.min(),se.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,se.min(),se.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.position=e,this.inclusive=n}}function Ww(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function _V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{}class Ze extends jP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EV(e,n,r):n==="array-contains"?new xV(e,r):n==="in"?new PV(e,r):n==="not-in"?new kV(e,r):n==="array-contains-any"?new CV(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TV(e,r):new SV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends jP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qn(e,n)}matches(e){return UP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UP(t){return t.op==="and"}function BP(t){return wV(t)&&UP(t)}function wV(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Vm(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(BP(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function WP(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(t,e):t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&WP(o,i.filters[a]),!0):!1}(t,e):void ie()}function zP(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(zP).join(" ,")+"}"}(t):"Filter"}class EV extends Ze{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class TV extends Ze{constructor(e,n){super(e,"in",n),this.keys=HP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SV extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=HP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class xV extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Rl(n.arrayValue,this.value)}}class PV extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class kV extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class CV extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Hw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DV(t,e,n,r,i,s,o)}function Ay(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.ue=n}return e.ue}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function Fm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IV(t,e,n,r,i,s,o,a){return new xh(t,e,n,r,i,s,o,a)}function My(t){return new xh(t)}function $w(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bV(t){return t.collectionGroup!==null}function Ja(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ed(s,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new Ed(ft.keyField(),r))}return e.ce}function Bn(t){const e=ae(t);return e.le||(e.le=RV(e,Ja(t))),e.le}function RV(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ed(i.field,s)});const n=t.endAt?new wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wd(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jm(t,e,n){return new xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return Ny(Bn(t),Bn(e))&&t.limitType===e.limitType}function $P(t){return`${Ay(Bn(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zP(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(Bn(t))}; limitType=${t.limitType})`}function kh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ww(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ja(r),i)||r.endAt&&!function(o,a,l){const c=Ww(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ja(r),i))}(t,e)}function AV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YP(t){return(e,n)=>{let r=!1;for(const i of Ja(t)){const s=NV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NV(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Io(l,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new je(te.comparator);function Pr(){return MV}const KP=new je(te.comparator);function La(...t){let e=KP;for(const n of t)e=e.insert(n.key,n);return e}function qP(t){let e=KP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return Za()}function QP(){return Za()}function Za(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const OV=new je(te.comparator),LV=new mt(te.comparator);function ce(...t){let e=LV;for(const n of t)e=e.add(n);return e}const VV=new mt(ye);function FV(){return VV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function XP(t){return{integerValue:""+t}}function jV(t,e){return mV(e)?XP(e):GP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function UV(t,e,n){return t instanceof Td?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iy(s)&&(s=by(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Al?ZP(t,e):t instanceof Nl?ek(t,e):function(i,s){const o=JP(i,s),a=Yw(o)+Yw(i.Pe);return Lm(o)&&Lm(i.Pe)?XP(a):GP(i.serializer,a)}(t,e)}function BV(t,e,n){return t instanceof Al?ZP(t,e):t instanceof Nl?ek(t,e):n}function JP(t,e){return t instanceof Sd?function(r){return Lm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Td extends Ch{}class Al extends Ch{constructor(e){super(),this.elements=e}}function ZP(t,e){const n=tk(e);for(const r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends Ch{constructor(e){super(),this.elements=e}}function ek(t,e){let n=tk(e);for(const r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}class Sd extends Ch{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Yw(t){return Ge(t.integerValue||t.doubleValue)}function tk(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Al&&i instanceof Al||r instanceof Nl&&i instanceof Nl?Do(r.elements,i.elements,Kn):r instanceof Sd&&i instanceof Sd?Kn(r.Pe,i.Pe):r instanceof Td&&i instanceof Td}(t.transform,e.transform)}class zV{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dh{}function nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ik(t.key,Wn.none()):new nu(t.key,t.data,Wn.none());{const n=t.data,r=Wt.empty();let i=new mt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(t.key,r,new Jt(i.toArray()),Wn.none())}}function HV(t,e,n){t instanceof nu?function(i,s,o){const a=i.value.clone(),l=qw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(i,s,o){if(!Ic(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(rk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,r){return t instanceof nu?function(s,o,a,l){if(!Ic(s.precondition,o))return a;const c=s.value.clone(),d=Qw(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(s,o,a,l){if(!Ic(s.precondition,o))return a;const c=Qw(s.fieldTransforms,l,o),d=o.data;return d.setAll(rk(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ic(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $V(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JP(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function Kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(s,o)=>WV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nu extends Dh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends Dh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qw(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BV(o,a,n[i]))}return r}function Qw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,UV(s,o,e))}return r}class ik extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YV extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&HV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=nk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>Kw(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>Kw(n,r))}}class Oy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return OV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Oy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,he;function GV(t){switch(t){default:return ie();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function sk(t){if(t===void 0)return xr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return ie()}}(he=Qe||(Qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new ns([4294967295,4294967295],0);function Gw(t){const e=XV().encode(t),n=new CP;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ns([n,r],0),new ns([i,s],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Va(`Invalid padding: ${n}`);if(r<0)throw new Va(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Va(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Va(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ns.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ns.fromNumber(r)));return i.compare(JV)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gw(e),[r,i]=Xw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ly(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Gw(e),[r,i]=Xw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ih(se.min(),i,new je(ye),Pr(),ce())}}class ru{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ru(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ok{constructor(e,n){this.targetId=e,this.me=n}}class ak{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jw{constructor(){this.fe=0,this.ge=eE(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new ru(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=eE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=Zw(),this.Qe=new je(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Fm(s))if(r===0){const o=new te(s.path);this.Ue(n,o,Ct.newNoDocument(o,se.min()))}else Ce(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof VP)return Co("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ly(o,i,s)}catch(l){return Co(l instanceof Va?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Fm(a.target)){const l=new te(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ct.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ih(e,n,this.Qe,this.ke,r);return this.ke=Pr(),this.qe=Zw(),this.Qe=new je(ye),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zw(){return new je(te.comparator)}function eE(){return new je(te.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},t2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n2={and:"AND",or:"OR"};class r2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i2(t,e){return xd(t,e.toTimestamp())}function zn(t){return Ce(!!t),se.fromTimestamp(function(n){const r=Ei(n);return new nt(r.seconds,r.nanos)}(t))}function Vy(t,e){return Bm(t,e).canonicalString()}function Bm(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uk(t){const e=We.fromString(t);return Ce(pk(e)),e}function Wm(t,e){return Vy(t.databaseId,e.path)}function tp(t,e){const n=uk(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(dk(n))}function ck(t,e){return Vy(t.databaseId,e)}function s2(t){const e=uk(t);return e.length===4?We.emptyPath():dk(e)}function zm(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dk(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tE(t,e,n){return{name:Wm(t,e),fields:n.value.mapValue.fields}}function o2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ce(d===void 0||typeof d=="string"),Rt.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Rt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:sk(c.code);return new ee(d,c.message||"")}(o);n=new ak(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tp(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):se.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new bc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tp(t,r.document),s=r.readTime?zn(r.readTime):se.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tp(t,r.document),s=r.removedTargetIds||[];n=new bc([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new QV(i,s),a=r.targetId;n=new ok(a,o)}}return n}function a2(t,e){let n;if(e instanceof nu)n={update:tE(t,e.key,e.value)};else if(e instanceof ik)n={delete:Wm(t,e.key)};else if(e instanceof Ni)n={update:tE(t,e.key,e.data),updateMask:g2(e.fieldMask)};else{if(!(e instanceof YV))return ie();n={verify:Wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Td)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function l2(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(se.min())&&(o=zn(s)),new zV(o,i.transformResults||[])}(n,e))):[]}function u2(t,e){return{documents:[ck(t,e.path)]}}function c2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ck(t,i);const s=function(c){if(c.length!==0)return fk(qn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:js(f.field),direction:f2(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Um(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function d2(t){let e=s2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=hk(h);return f instanceof qn&&BP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new Ed(Us(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Sh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new wd(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new wd(g,f)}(n.endAt)),IV(e,i,o,s,a,"F",l,c)}function h2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>hk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function f2(t){return e2[t]}function p2(t){return t2[t]}function m2(t){return n2[t]}function js(t){return{fieldPath:t.canonicalString()}}function Us(t){return ft.fromServerFormat(t.fieldPath)}function fk(t){return t instanceof Ze?function(n){if(n.op==="=="){if(Bw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(n.field),op:p2(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(i=>fk(i));return r.length===1?r[0]:{compositeFilter:{op:m2(n.op),filters:r}}}(t):ie()}function g2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r,i,s=se.min(),o=se.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.ct=e}}function v2(t){const e=d2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this._n=new w2}addToCollectionParentIndex(e,n){return this._n.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(wi.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class w2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ro(0)}static Ln(){return new Ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&el(r.mutation,i,Jt.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=La();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pr();const o=Za(),a=function(){return Za()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ni)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),el(d.mutation,c,d.mutation.getFieldMask(),nt.now())):o.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new T2(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Za();let i=new je((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Jt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=QP();d.forEach(f=>{if(!s.has(f)){const g=nk(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Gi());let a=-1,l=s;return o.next(c=>j.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ce())).next(d=>({batchId:a,changes:qP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=La();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=La();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(h,f){return new xh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=La();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&el(d.mutation,c,Jt.empty(),nt.now()),kh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return j.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:v2(i.bundledQuery),readTime:zn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.overlays=new je(te.comparator),this.hr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Gi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Gi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qV(n,r));let s=this.hr.get(n);s===void 0&&(s=ce(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Pr=new mt(rt.Ir),this.Tr=new mt(rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new rt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new We([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new We([])),r=new rt(n,e),i=new rt(n,e+1);let s=ce();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||ye(e.pr,n.pr)}static Er(e,n){return ye(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mt(rt.Ir)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ye);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),j.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new rt(new te(s),0);let a=new mt(ye);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),j.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return j.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new rt(n,0),i=this.wr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.vr=e,this.docs=function(){return new je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pr();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dV(cV(d),r)<=0||(i.has(d.key)||kh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}Fr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D2(this)}getSize(e){return j.resolve(this.size)}}class D2 extends E2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.persistence=e,this.Mr=new Go(n=>Ay(n),Ny),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fy,this.targetCount=0,this.Lr=Ro.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),j.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.qn(n),j.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.Br={},this.overlays={},this.kr=new Dy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new I2(this),this.indexManager=new _2,this.remoteDocumentCache=function(i){return new C2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new y2(n),this.$r=new x2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new k2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new R2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return j.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class R2 extends fV{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.zr=new Fy,this.jr=null}static Hr(e){return new jy(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),j.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return j.or([()=>j.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return TN()?8:pV(yt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new A2;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Sa()<=de.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),j.resolve()):(Sa()<=de.DEBUG&&G("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Sa()<=de.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):j.resolve())}ji(e,n){if($w(n))return j.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jm(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,jm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return $w(n)||i.isEqual(se.min())?j.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?j.resolve(null):(Sa()<=de.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.es(e,o,n,uV(i,-1)).next(a=>a))})}Zi(e,n){let r=new mt(YP(e));return n.forEach((i,s)=>{kh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Sa()<=de.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.zi.getDocumentsMatchingQuery(e,n,wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new je(ye),this.rs=new Go(s=>Ay(s),Ny),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function O2(t,e,n,r){return new M2(t,e,n,r)}async function mk(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function L2(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let g=j.resolve();return f.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(_=>{const S=c.docVersions.get(E);Ce(S!==null),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gk(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function V2(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(_,S,y){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let l=Pr(),c=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(F2(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(se.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function F2(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function j2(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U2(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Zr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Hm(t,e,n){const r=ae(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!tu(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function nE(t,e,n){const r=ae(t);let i=se.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ae(l),f=h.rs.get(d);return f!==void 0?j.resolve(h.ns.get(f)):h.Qr.getTargetData(c,d)}(r,o,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:ce())).next(a=>(B2(r,AV(e),a),{documents:a,hs:s})))}function B2(t,e,n){let r=t.ss.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class rE{constructor(){this.activeTargetIds=FV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W2{constructor(){this.no=new rE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function np(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class Y2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=np(),l=this.vo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Co("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=H2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=np();return new Promise((o,a)=>{const l=new DP;l.setWithCredentials(!0),l.listenOnce(bP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cc.NO_ERROR:const d=l.getResponseJson();G(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Cc.TIMEOUT:G(St,`RPC '${e}' ${s} timed out`),a(new ee(U.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const h=l.getStatus();if(G(St,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const E=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(g.status);a(new ee(E,g.message))}else a(new ee(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(U.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{G(St,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);G(St,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=np(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NP(),a=AP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new IP({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(St,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const E=new $2({lo:S=>{g?G(St,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(G(St,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),G(St,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},ho:()=>h.close()}),_=(S,y,v)=>{S.listen(y,T=>{try{v(T)}catch(A){setTimeout(()=>{throw A},0)}})};return _(h,Oa.EventType.OPEN,()=>{g||(G(St,`RPC '${e}' stream ${i} transport opened.`),E.mo())}),_(h,Oa.EventType.CLOSE,()=>{g||(g=!0,G(St,`RPC '${e}' stream ${i} transport closed`),E.po())}),_(h,Oa.EventType.ERROR,S=>{g||(g=!0,Co(St,`RPC '${e}' stream ${i} transport errored:`,S),E.po(new ee(U.UNAVAILABLE,"The operation could not be completed")))}),_(h,Oa.EventType.MESSAGE,S=>{var y;if(!g){const v=S.data[0];Ce(!!v);const T=v,A=T.error||((y=T[0])===null||y===void 0?void 0:y.error);if(A){G(St,`RPC '${e}' stream ${i} received error:`,A);const M=A.status;let V=function(k){const D=Qe[k];if(D!==void 0)return sk(D)}(M),P=A.message;V===void 0&&(V=U.INTERNAL,P="Unknown error status: "+M+" with message "+A.message),g=!0,E.po(new ee(V,P)),h.close()}else G(St,`RPC '${e}' stream ${i} received:`,v),E.yo(v)}}),_(a,RP.STAT_EVENT,S=>{S.stat===Mm.PROXY?G(St,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Mm.NOPROXY&&G(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){return new r2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new yk(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ee(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K2 extends vk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=o2(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?zn(o.readTime):se.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Fm(l)?{documents:u2(s,l)}:{query:c2(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lk(s,o.resumeToken);const c=Um(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=xd(s,o.snapshotVersion.toTimestamp());const c=Um(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=h2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.i_(n)}}class q2 extends vk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=l2(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.A_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=zm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a2(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Bm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(U.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Bm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(U.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class G2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(xr(n),this.y_=!1):G("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Is(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ae(l);c.M_.add(4),await iu(c),c.N_.set("Unknown"),c.M_.delete(4),await Rh(c)}(this))})}),this.N_=new G2(r,i)}}async function Rh(t){if(Is(t))for(const e of t.x_)await e(!0)}async function iu(t){for(const e of t.x_)await e(!1)}function _k(t,e){const n=ae(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Hy(n)?zy(n):Xo(n).Xo()&&Wy(n,e))}function By(t,e){const n=ae(t),r=Xo(n);n.F_.delete(e),r.Xo()&&wk(n,e),n.F_.size===0&&(r.Xo()?r.n_():Is(n)&&n.N_.set("Unknown"))}function Wy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).P_(e)}function wk(t,e){t.L_.xe(e),Xo(t).I_(e)}function zy(t){t.L_=new ZV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.N_.w_()}function Hy(t){return Is(t)&&!Xo(t).Zo()&&t.F_.size>0}function Is(t){return ae(t).M_.size===0}function Ek(t){t.L_=void 0}async function J2(t){t.N_.set("Online")}async function Z2(t){t.F_.forEach((e,n)=>{Wy(t,e)})}async function eF(t,e){Ek(t),Hy(t)?(t.N_.D_(e),zy(t)):t.N_.set("Unknown")}async function tF(t,e,n){if(t.N_.set("Online"),e instanceof ak&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(t,r)}else if(e instanceof bc?t.L_.Ke(e):e instanceof ok?t.L_.He(e):t.L_.We(e),!n.isEqual(se.min()))try{const r=await gk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Rt.EMPTY_BYTE_STRING,d.snapshotVersion)),wk(s,l);const h=new Zr(d.target,l,c,d.sequenceNumber);Wy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Pd(t,r)}}async function Pd(t,e,n){if(!tu(e))throw e;t.M_.add(1),await iu(t),t.N_.set("Offline"),n||(n=()=>gk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Rh(t)})}function Tk(t,e){return e().catch(n=>Pd(t,n,e))}async function Ah(t){const e=ae(t),n=Ti(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;nF(e);)try{const i=await j2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,rF(e,i)}catch(i){await Pd(e,i)}Sk(e)&&xk(e)}function nF(t){return Is(t)&&t.v_.length<10}function rF(t,e){t.v_.push(e);const n=Ti(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Sk(t){return Is(t)&&!Ti(t).Zo()&&t.v_.length>0}function xk(t){Ti(t).start()}async function iF(t){Ti(t).V_()}async function sF(t){const e=Ti(t);for(const n of t.v_)e.d_(n.mutations)}async function oF(t,e,n){const r=t.v_.shift(),i=Oy.from(r,e,n);await Tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ah(t)}async function aF(t,e){e&&Ti(t).E_&&await async function(r,i){if(function(o){return GV(o)&&o!==U.ABORTED}(i.code)){const s=r.v_.shift();Ti(r).t_(),await Tk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ah(r)}}(t,e),Sk(t)&&xk(t)}async function sE(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Is(n);n.M_.add(3),await iu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Rh(n)}async function lF(t,e){const n=ae(t);e?(n.M_.delete(2),await Rh(n)):e||(n.M_.add(2),await iu(n),n.N_.set("Unknown"))}function Xo(t){return t.B_||(t.B_=function(n,r,i){const s=ae(n);return s.f_(),new K2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:J2.bind(null,t),To:Z2.bind(null,t),Ao:eF.bind(null,t),h_:tF.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Hy(t)?zy(t):t.N_.set("Unknown")):(await t.B_.stop(),Ek(t))})),t.B_}function Ti(t){return t.k_||(t.k_=function(n,r,i){const s=ae(n);return s.f_(),new q2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:iF.bind(null,t),Ao:aF.bind(null,t),R_:sF.bind(null,t),A_:oF.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Ah(t)):(await t.k_.stop(),t.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $y(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(t,e){if(xr("AsyncQueue",`${e}: ${t}`),tu(t))return new ee(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=La(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.q_=new je(te.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ao(e,n,mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class cF{constructor(){this.queries=new Go(e=>$P(e),Ph),this.onlineState="Unknown",this.z_=new Set}}async function dF(t,e){const n=ae(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new uF,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Yy(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Ky(n)}async function hF(t,e){const n=ae(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fF(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Ky(n)}function pF(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Ky(t){t.z_.forEach(e=>{e.next()})}var $m,aE;(aE=$m||($m={})).J_="default",aE.Cache="cache";class mF{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.key=e}}class kk{constructor(e){this.key=e}}class gF{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ce(),this.mutatedKeys=ce(),this.Ia=YP(e),this.Ta=new mo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new oE,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=kh(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),S=!0):this.Ra(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Ia(g,l)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,h)=>function(g,E){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return _(g)-_(E)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Ao(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new oE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ce(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new kk(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Pk(r))}),n}pa(e){this.la=e.hs,this.Pa=ce();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ao.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class yF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vF{constructor(e){this.key=e,this.wa=!1}}class _F{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Go(a=>$P(a),Ph),this.Da=new Map,this.Ca=new Set,this.va=new je(te.comparator),this.Fa=new Map,this.Ma=new Fy,this.xa={},this.Oa=new Map,this.Na=Ro.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function wF(t,e,n=!0){const r=Ak(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Ck(r,e,n,!0),i}async function EF(t,e){const n=Ak(t);await Ck(n,e,!0,!1)}async function Ck(t,e,n,r){const i=await U2(t.localStore,Bn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await TF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_k(t.remoteStore,i),a}async function TF(t,e,n,r,i){t.Ba=(h,f,g)=>async function(_,S,y,v){let T=S.view.da(y);T.Xi&&(T=await nE(_.localStore,S.query,!1).then(({documents:P})=>S.view.da(P,T)));const A=v&&v.targetChanges.get(S.targetId),M=v&&v.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(T,_.isPrimaryClient,A,M);return uE(_,S.targetId,V.fa),V.snapshot}(t,h,f,g);const s=await nE(t.localStore,e,!0),o=new gF(e,s.hs),a=o.da(s.documents),l=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);uE(t,n,c.fa);const d=new yF(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function SF(t,e,n){const r=ae(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ph(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&By(r.remoteStore,i.targetId),Ym(r,i.targetId)}).catch(eu)):(Ym(r,i.targetId),await Hm(r.localStore,i.targetId,!0))}async function xF(t,e){const n=ae(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function PF(t,e,n){const r=AF(t);try{const i=await function(o,a){const l=ae(o),c=nt.now(),d=a.reduce((g,E)=>g.add(E.key),ce());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Pr(),_=ce();return l.os.getEntries(g,d).next(S=>{E=S,E.forEach((y,v)=>{v.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(S=>{h=S;const y=[];for(const v of a){const T=$V(v,h.get(v.key).overlayedDocument);T!=null&&y.push(new Ni(v.key,T,FP(T.value.mapValue),Wn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,a)}).next(S=>{f=S;const y=S.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(g,S.batchId,y)})}).then(()=>({batchId:f.batchId,changes:qP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new je(ye)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await su(r,i.changes),await Ah(r.remoteStore)}catch(i){const s=Yy(i,"Failed to persist write");n.reject(s)}}async function Dk(t,e){const n=ae(t);try{const r=await V2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ce(o.wa):i.removedDocuments.size>0&&(Ce(o.wa),o.wa=!1))}),await su(n,r,e)}catch(r){await eu(r)}}function lE(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.U_)f.j_(a)&&(c=!0)}),c&&Ky(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kF(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new je(te.comparator);o=o.insert(s,Ct.newNoDocument(s,se.min()));const a=ce().add(s),l=new Ih(se.min(),new Map,new je(ye),o,a);await Dk(r,l),r.va=r.va.remove(s),r.Fa.delete(e),qy(r)}else await Hm(r.localStore,e,!1).then(()=>Ym(r,e,n)).catch(eu)}async function CF(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await L2(n.localStore,e);bk(n,r,null),Ik(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,i)}catch(i){await eu(i)}}async function DF(t,e,n){const r=ae(t);try{const i=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ce(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);bk(r,e,n),Ik(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,i)}catch(i){await eu(i)}}function Ik(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function bk(t,e,n){const r=ae(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Ym(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Rk(t,r)})}function Rk(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(By(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),qy(t))}function uE(t,e,n){for(const r of n)r instanceof Pk?(t.Ma.addReference(r.key,e),IF(t,r)):r instanceof kk?(G("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Rk(t,r.key)):ie()}function IF(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Ca.add(r),qy(t))}function qy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new te(We.fromString(e)),r=t.Na.next();t.Fa.set(r,new vF(n)),t.va=t.va.insert(n,r),_k(t.remoteStore,new Zr(Bn(My(n.path)),r,"TargetPurposeLimboResolution",Dy.oe))}}async function su(t,e,n){const r=ae(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Uy.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(c,f=>j.forEach(f.qi,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>j.forEach(f.Qi,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!tu(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=d.ns.get(f),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);d.ns=d.ns.insert(f,_)}}}(r.localStore,s))}async function bF(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await mk(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ee(U.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.us)}}function RF(t,e){const n=ae(t),r=n.Fa.get(e);if(r&&r.wa)return ce().add(r.key);{let i=ce();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function Ak(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kF.bind(null,e),e.Sa.h_=fF.bind(null,e.eventManager),e.Sa.ka=pF.bind(null,e.eventManager),e}function AF(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DF.bind(null,e),e}class cE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return O2(this.persistence,new N2,e.initialUser,this.serializer)}createPersistence(e){return new b2(jy.Hr,this.serializer)}createSharedClientState(e){return new W2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bF.bind(null,this.syncEngine),await lF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cF}()}createDatastore(e){const n=bh(e.databaseInfo.databaseId),r=function(s){return new Y2(s)}(e.databaseInfo);return function(s,o,a,l){return new Q2(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new X2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lE(this.syncEngine,n,0),function(){return iE.D()?new iE:new z2}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new _F(i,s,o,a,l,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ae(r);G("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await iu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=OP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VF(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sE(e.remoteStore,i)),t._onlineComponents=e}function LF(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function VF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!LF(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await ip(t,new cE)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await ip(t,new cE);return t._offlineComponents}async function Nk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await dE(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await dE(t,new NF))),t._onlineComponents}function FF(t){return Nk(t).then(e=>e.syncEngine)}async function jF(t){const e=await Nk(t),n=e.eventManager;return n.onListen=wF.bind(null,e.syncEngine),n.onUnlisten=SF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xF.bind(null,e.syncEngine),n}function UF(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new MF({next:f=>{o.enqueueAndForget(()=>hF(s,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new ee(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new ee(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new mF(My(a.path),d,{includeMetadataChanges:!0,ra:!0});return dF(s,h)}(await jF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t,e,n){if(!n)throw new ee(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,n,r){if(e===!0&&r===!0)throw new ee(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fE(t){if(!te.isDocumentKey(t))throw new ee(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function _s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qy(t);throw new ee(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eV;switch(r.type){case"firstParty":return new iV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hE.get(n);r&&(G("ComponentProvider","Removing Datastore"),hE.delete(n),r.terminate())}(this),Promise.resolve()}}function zF(t,e,n,r={}){var i;const s=(t=_s(t,Gy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Pt.MOCK_USER;else{a=gN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pt(c)}t._authCredentials=new tV(new MP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xy(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Ml extends Xy{constructor(e,n,r){super(e,n,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new te(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function kr(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=OP.newId()),BF("doc","path",e),t instanceof Gy){const r=We.fromString(e,...n);return fE(r),new en(t,null,new te(r))}{if(!(t instanceof en||t instanceof Ml))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return fE(r),new en(t.firestore,t instanceof Ml?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new yk(this,"async_queue_retry"),this.hu=()=>{const n=rp();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=rp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new fi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!tu(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=$y.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ie()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Nh extends Gy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new HF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lk(this),this._firestoreClient.terminate()}}function $F(t,e){const n=typeof t=="object"?t:$1(),r=typeof t=="string"?t:"(default)",i=yy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pN("firestore");s&&zF(i,...s)}return i}function Ok(t){return t._firestoreClient||Lk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lk(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new yV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Mk(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Rt.fromBase64String(e))}catch(n){throw new ee(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=/^__.*__$/;class KF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class Vk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class ev{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return kd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Fk(this.fu)&&YF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class qF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bh(e)}Fu(e,n,r,i=!1){return new ev({fu:e,methodName:n,vu:r,path:ft.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jk(t){const e=t._freezeSettings(),n=bh(t._databaseId);return new qF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QF(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);tv("Data must be an object, but it was:",o,r);const a=Uk(r,o);let l,c;if(s.merge)l=new Jt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Km(e,h,n);if(!o.contains(f))throw new ee(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Wk(d,f)||d.push(f)}l=new Jt(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new KF(new Wt(a),l,c)}class Oh extends Jy{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function GF(t,e,n,r){const i=t.Fu(1,e,n);tv("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();Ds(r,(l,c)=>{const d=nv(e,l,n);c=Ft(c);const h=i.Su(d);if(c instanceof Oh)s.push(d);else{const f=Lh(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Jt(s);return new Vk(o,a,i.fieldTransforms)}function XF(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Km(e,r,n)],l=[i];if(s.length%2!=0)throw new ee(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Km(e,s[f])),l.push(s[f+1]);const c=[],d=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!Wk(c,a[f])){const g=a[f];let E=l[f];E=Ft(E);const _=o.Su(g);if(E instanceof Oh)c.push(g);else{const S=Lh(E,_);S!=null&&(c.push(g),d.set(g,S))}}const h=new Jt(c);return new Vk(d,h,o.fieldTransforms)}function Lh(t,e){if(Bk(t=Ft(t)))return tv("Unsupported field value:",e,t),Uk(t,e);if(t instanceof Jy)return function(r,i){if(!Fk(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Lh(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:xd(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,s)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof No)return{bytesValue:lk(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Qy(r)}`)}(t,e)}function Uk(t,e){const n={};return LP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=Lh(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Bk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Zy||t instanceof No||t instanceof en||t instanceof Jy)}function tv(t,e,n){if(!Bk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qy(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Km(t,e,n){if((e=Ft(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return nv(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const JF=new RegExp("[~\\*/\\[\\]]");function nv(t,e,n){if(e.search(JF)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(U.INVALID_ARGUMENT,a+t+l)}function Wk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZF extends zk{data(){return super.data()}}function Hk(t,e){return typeof e=="string"?nv(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}class ej{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zy(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=by(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ce(pk(r));const i=new bl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $k extends zk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rj extends $k{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){t=_s(t,en);const e=_s(t.firestore,Nh);return UF(Ok(e),t._key).then(n=>oj(e,t,n))}class ij extends ej{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function sj(t,e,n){t=_s(t,en);const r=_s(t.firestore,Nh),i=tj(t.converter,e);return Kk(r,[QF(jk(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wn.none())])}function Yk(t,e,n,...r){t=_s(t,en);const i=_s(t.firestore,Nh),s=jk(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof Mh?XF(s,"updateDoc",t._key,e,n,r):GF(s,"updateDoc",t._key,e),Kk(i,[o.toMutation(t._key,Wn.exists(!0))])}function Kk(t,e){return function(r,i){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>PF(await FF(r),i,s)),s.promise}(Ok(t),e)}function oj(t,e,n){const r=n.docs.get(e._key),i=new ij(t);return new $k(t,i,e._key,r,new nj(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Qo=i})(Ko),ko(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Nh(new nV(r.getProvider("auth-internal")),new oV(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hi(Lw,"4.6.3",e),hi(Lw,"4.6.3","esm2017")})();const aj={apiKey:"AIzaSyACYQbWGcep1HRmDL3wd-Pj7ew4YaeNU9k",authDomain:"sea-salon-2807d.firebaseapp.com",projectId:"sea-salon-2807d",storageBucket:"sea-salon-2807d.appspot.com",messagingSenderId:"13809612348",appId:"1:13809612348:web:ffe8f88a8c1545a5fd7539",measurementId:"G-JLC7TGGCQZ"},qk=H1(aj),Cr=$F(qk),Vh=GL(qk),ou=t=>{const{userData:e,setUserData:n,user:r}=b.useContext(Cs),i=Ps(),s=a=>{i(a)},o=async()=>{await Vh.signOut(),n({name:"Not Signed In",email:"null@mail.com",phone:"000000000",role:"Customer",uid:"000000000000000000000000"}),i("/")};return C.jsx("nav",{className:"sticky top-0 z-50 py-3 backdrop-blur-lg border-b border-neutral-700/80",children:C.jsx("div",{className:"container px-4 mx-auto relative text-sm",children:C.jsxs("div",{className:"flex justify-between items-center ",children:[C.jsx("div",{className:"flex items-center flex-shrink-0 w-[15vh]",children:C.jsx("button",{className:"tracking-tight",onClick:()=>s("/"),children:"SEA Salon"})}),r&&C.jsx("div",{children:e.role==="Admin"?C.jsx("div",{className:"flex flex-grow justify-center",children:C.jsxs("ul",{className:"hidden lg:flex ml-14 space-x-5",children:[C.jsx("li",{children:C.jsx("button",{className:`rounded-full py-[0.75vh] px-[2.5vh] hover:bg-gray-200 ${t.active==="home"&&"font-bold"}`,onClick:()=>s("/"),children:"Home"})}),C.jsx("li",{children:C.jsx("button",{className:`rounded-full py-[0.75vh] px-[2.5vh] hover:bg-gray-200 ${t.active==="adminReview"&&"font-bold"}`,onClick:()=>s("/adminReview"),children:"View Review"})}),C.jsx("li",{children:C.jsx("button",{className:`rounded-full py-[0.75vh] px-[2.5vh] hover:bg-gray-200 ${t.active==="adminReservation"&&"font-bold"}`,onClick:()=>s("/adminReservation"),children:"View Reservation"})})]})}):C.jsx("div",{className:"flex flex-grow justify-center",children:C.jsxs("ul",{className:"hidden lg:flex ml-14 space-x-5",children:[C.jsx("li",{children:C.jsx("button",{className:`rounded-full py-[0.75vh] px-[2.5vh] hover:bg-gray-200 ${t.active==="home"&&"font-bold"}`,onClick:()=>s("/"),children:"Home"})}),C.jsx("li",{children:C.jsx("button",{className:`rounded-full py-[0.75vh] px-[2.5vh] hover:bg-gray-200 ${t.active==="review"&&"font-bold"}`,onClick:()=>s("/review"),children:"Review"})}),C.jsx("li",{children:C.jsx("button",{className:`rounded-full py-[0.75vh] px-[2.5vh] hover:bg-gray-200 ${t.active==="reservation"&&"font-bold"}`,onClick:()=>s("/reservation"),children:"Reservation"})})]})})}),r?C.jsxs("div",{className:"flex items-center flex-shrink-0 w-[15vh] justify-end",children:[C.jsxs("h2",{className:"whitespace-nowrap mr-[3vh]",children:[e.name," - ",e.role]}),C.jsx("div",{className:"hover:cursor-pointer hover:bg-red-100 tracking-tight border-[0.4vh] px-3 py-2 rounded-md  border-red-600 text-red-600",onClick:()=>o(),children:"Logout"})]}):C.jsx("div",{className:"flex flex-row items-center flex-shrink-0 w-[15vh] justify-end",children:C.jsx("div",{className:"hover:cursor-pointer hover:bg-gray-100 tracking-tight border-[0.4vh] px-3 py-2 rounded-md border-black text-black",onClick:()=>s("/login"),children:"Login"})})]})})})},lj="/sea-salon/assets/Yujin-uc-jFxUT.png";var Qk={exports:{}},uj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cj=uj,dj=cj;function Gk(){}function Xk(){}Xk.resetWarningCache=Gk;var hj=function(){function t(r,i,s,o,a,l){if(l!==dj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Xk,resetWarningCache:Gk};return n.PropTypes=n,n};Qk.exports=hj();var fj=Qk.exports;const sp=_g(fj),Rc=({title:t,description:e,imageUrl:n})=>(Rc.propTypes={title:sp.string.isRequired,description:sp.string.isRequired,imageUrl:sp.string.isRequired},C.jsxs("div",{className:"cards max-w-sm rounded overflow-hidden shadow-lg bg-white",children:[C.jsx("img",{className:"w-full",src:n,alt:"Card image"}),C.jsxs("div",{className:"px-6 py-4",children:[C.jsx("div",{className:"font-bold text-xl mb-5 mt-5 text-black",children:t}),C.jsx("p",{className:"text-gray-700 text-base",children:e})]}),C.jsx("div",{className:"px-6 pt-4 pb-2"})]})),pj=()=>C.jsx("footer",{className:"bg-black text-white py-8",children:C.jsxs("div",{className:"container mx-auto px-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("h2",{className:"text-xl font-bold mb-2",children:"Contact Us :"}),C.jsxs("ul",{children:[C.jsxs("li",{className:"mb-2",children:[C.jsx("span",{className:"text-gray-400",children:"○ Thomas"}),C.jsx("br",{}),C.jsxs("span",{className:"ml-4",children:["Phone Number : ",C.jsx("a",{href:"tel:08123456789",className:"text-blue-300 hover:text-blue-500",children:"08123456789"})]})]}),C.jsxs("li",{className:"mb-2",children:[C.jsx("span",{className:"text-gray-400",children:"○ Sekar"}),C.jsx("br",{}),C.jsxs("span",{className:"ml-4",children:["Phone Number : ",C.jsx("a",{href:"tel:08164829372",className:"text-blue-300 hover:text-blue-500",children:"08164829372"})]})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-xl font-bold mb-2",children:"Operating Hours :"}),C.jsxs("ul",{children:[C.jsx("li",{className:"mb-2",children:"Monday - Friday : 9 AM - 9 PM"}),C.jsx("li",{className:"mb-2",children:"Saturday : 9 AM - 6 PM"}),C.jsx("li",{className:"mb-2",children:"Sunday : 10 AM - 4 PM"}),C.jsx("li",{className:"mb-2",children:"Note : Operating hours may vary due to holidays"})]})]})]}),C.jsx("div",{className:"mt-8 text-center text-gray-400",children:C.jsxs("p",{children:["© ",new Date().getFullYear()," SEA Salon. All rights reserved."]})})]})}),Jk=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Fh=b.createContext({}),rv=b.createContext(null),iv=typeof document<"u",mj=iv?b.useLayoutEffect:b.useEffect,Zk=b.createContext({strict:!1}),sv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gj="framerAppearId",eC="data-"+sv(gj),yj={skipAnimations:!1,useManualTiming:!1};class mE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function vj(t){let e=new mE,n=new mE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&i,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];o.has(d)&&(a.schedule(d),t()),d(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const ec=["read","resolveKeyframes","update","preRender","render","postRender"],_j=40;function tC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ec.reduce((h,f)=>(h[f]=vj(()=>n=!0),h),{}),o=h=>{s[h].process(i)},a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,_j),1),i.timestamp=h,i.isProcessing=!0,ec.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ec.reduce((h,f)=>{const g=s[f];return h[f]=(E,_=!1,S=!1)=>(n||l(),g.schedule(E,_,S)),h},{}),cancel:h=>ec.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:ov,cancel:zz}=tC(queueMicrotask,!1);function to(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const nC=b.createContext({});let gE=!1;function wj(t,e,n,r,i){const{visualElement:s}=b.useContext(Fh),o=b.useContext(Zk),a=b.useContext(rv),l=b.useContext(Jk).reducedMotion,c=b.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=b.useContext(nC);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Tj(c.current,n,i,h),b.useInsertionEffect(()=>{d&&d.update(n,a)});const f=b.useRef(!!(n[eC]&&!window.HandoffComplete));return mj(()=>{d&&(d.updateFeatures(),ov.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,gE||(gE=!0,queueMicrotask(Ej))))}),d}function Ej(){window.HandoffComplete=!0}function Tj(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&to(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function rC(t){if(t)return t.options.allowProjection!==!1?t.projection:rC(t.parent)}function Sj(t,e,n){return b.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):to(n)&&(n.current=r))},[e])}function Ol(t){return typeof t=="string"||Array.isArray(t)}function jh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...av];function Uh(t){return jh(t.animate)||lv.some(e=>Ol(t[e]))}function iC(t){return!!(Uh(t)||t.variants)}function xj(t,e){if(Uh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ol(n)?n:void 0,animate:Ol(r)?r:void 0}}return t.inherit!==!1?e:{}}function Pj(t){const{initial:e,animate:n}=xj(t,b.useContext(Fh));return b.useMemo(()=>({initial:e,animate:n}),[yE(e),yE(n)])}function yE(t){return Array.isArray(t)?t.join(" "):t}const vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const t in vE)Mo[t]={isEnabled:e=>vE[t].some(n=>!!e[n])};function kj(t){for(const e in t)Mo[e]={...Mo[e],...t[e]}}const sC=b.createContext({}),Cj=Symbol.for("motionComponentSymbol"),It=t=>t;let qm=It;function Dj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&kj(t);function s(a,l){let c;const d={...b.useContext(Jk),...a,layoutId:Ij(a)},{isStatic:h}=d,f=Pj(a),g=r(a,h);if(!h&&iv){bj();const E=Rj(d);c=E.MeasureLayout,f.visualElement=wj(i,g,d,e,E.ProjectionNode)}return C.jsxs(Fh.Provider,{value:f,children:[c&&f.visualElement?C.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,Sj(g,f.visualElement,l),g,h,f.visualElement)]})}const o=b.forwardRef(s);return o[Cj]=i,o}function Ij({layoutId:t}){const e=b.useContext(sC).id;return e&&t!==void 0?e+"-"+t:t}function bj(t,e){b.useContext(Zk).strict}function Rj(t){const{drag:e,layout:n}=Mo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Aj(t){function e(r,i={}){return Dj(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Nj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uv(t){return typeof t!="string"||t.includes("-")?!1:!!(Nj.indexOf(t)>-1||/[A-Z]/u.test(t))}const Cd={};function Mj(t){Object.assign(Cd,t)}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bs=new Set(au);function oC(t,{layout:e,layoutId:n}){return bs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cd[t]||t==="opacity")}const Dt=t=>!!(t&&t.getVelocity),Oj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lj=au.length;function Vj(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Lj;o++){const a=au[o];if(t[a]!==void 0){const l=Oj[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const aC=t=>e=>typeof e=="string"&&e.startsWith(t),lC=aC("--"),Fj=aC("var(--"),cv=t=>Fj(t)?jj.test(t.split("/*")[0].trim()):!1,jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Si=(t,e,n)=>n>e?e:n<t?t:n,Zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tl={...Zo,transform:t=>Si(0,1,t)},tc={...Zo,default:1},nl=t=>Math.round(t*1e5)/1e5,dv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Bj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Wj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function lu(t){return typeof t=="string"}const uu=t=>({test:e=>lu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=uu("deg"),Hn=uu("%"),ne=uu("px"),zj=uu("vh"),Hj=uu("vw"),_E={...Hn,parse:t=>Hn.parse(t)/100,transform:t=>Hn.transform(t*100)},wE={...Zo,transform:Math.round},uC={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,size:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:Ur,skewX:Ur,skewY:Ur,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:tl,originX:_E,originY:_E,originZ:ne,zIndex:wE,backgroundPositionX:ne,backgroundPositionY:ne,fillOpacity:tl,strokeOpacity:tl,numOctaves:wE};function hv(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(lC(h)){s[h]=f;continue}const g=uC[h],E=Uj(f,g);if(bs.has(h)){if(l=!0,o[h]=E,!d)continue;f!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=E):i[h]=E}if(e.transform||(l||r?i.transform=Vj(t.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${f} ${g}`}}const fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cC(t,e,n){for(const r in e)!Dt(e[r])&&!oC(r,n)&&(t[r]=e[r])}function $j({transformTemplate:t},e,n){return b.useMemo(()=>{const r=fv();return hv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Yj(t,e,n){const r=t.style||{},i={};return cC(i,r,t),Object.assign(i,$j(t,e,n)),i}function Kj(t,e,n){const r={},i=Yj(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const qj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qj.has(t)}let dC=t=>!Dd(t);function Qj(t){t&&(dC=e=>e.startsWith("on")?!Dd(e):t(e))}try{Qj(require("@emotion/is-prop-valid").default)}catch{}function Gj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(dC(i)||n===!0&&Dd(i)||!e&&!Dd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function EE(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function Xj(t,e,n){const r=EE(e,t.x,t.width),i=EE(n,t.y,t.height);return`${r} ${i}`}const Jj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zj={offset:"strokeDashoffset",array:"strokeDasharray"};function e4(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Jj:Zj;t[s.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[s.array]=`${o} ${a}`}function pv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,f){if(hv(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:E,dimensions:_}=t;g.transform&&(_&&(E.transform=g.transform),delete g.transform),_&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=Xj(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&e4(g,o,a,l,!1)}const hC=()=>({...fv(),attrs:{}}),mv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t4(t,e,n,r){const i=b.useMemo(()=>{const s=hC();return pv(s,e,{enableHardwareAcceleration:!1},mv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cC(s,t.style,t),i.style={...s,...i.style}}return i}function n4(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(uv(n)?t4:Kj)(r,s,o,n),c=Gj(r,typeof n=="string",t),d=n!==b.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=b.useMemo(()=>Dt(h)?h.get():h,[h]);return b.createElement(n,{...d,children:f})}}function fC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const pC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mC(t,e,n,r){fC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pC.has(i)?i:sv(i),e.attrs[i])}function gv(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Dt(i[o])||e.style&&Dt(e.style[o])||oC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function gC(t,e,n){const r=gv(t,e,n);for(const i in t)if(Dt(t[i])||Dt(e[i])){const s=au.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function TE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yv(t,e,n,r){if(typeof e=="function"){const[i,s]=TE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=TE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function r4(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qm=t=>Array.isArray(t),i4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),s4=t=>Qm(t)?t[t.length-1]||0:t;function Ac(t){const e=Dt(t)?t.get():t;return i4(e)?e.toValue():e}function o4({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:a4(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const yC=t=>(e,n)=>{const r=b.useContext(Fh),i=b.useContext(rv),s=()=>o4(t,e,r,i);return n?s():r4(s)};function a4(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Ac(s[f]);let{initial:o,animate:a}=t;const l=Uh(t),c=iC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!jh(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const E=yv(t,g);if(!E)return;const{transitionEnd:_,transition:S,...y}=E;for(const v in y){let T=y[v];if(Array.isArray(T)){const A=d?T.length-1:0;T=T[A]}T!==null&&(i[v]=T)}for(const v in _)i[v]=_[v]}),i}const{schedule:Te,cancel:Dr,state:dt,steps:op}=tC(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0),l4={useVisualState:yC({scrapeMotionValuesFromProps:gC,createRenderState:hC,onMount:(t,e,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{pv(n,r,{enableHardwareAcceleration:!1},mv(e.tagName),t.transformTemplate),mC(e,n)})}})},u4={useVisualState:yC({scrapeMotionValuesFromProps:gv,createRenderState:fv})};function c4(t,{forwardMotionProps:e=!1},n,r){return{...uv(t)?l4:u4,preloadedFeatures:n,useRender:n4(e),createVisualElement:r,Component:t}}function cr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const vC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Bh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const d4=t=>e=>vC(e)&&t(e,Bh(e));function fr(t,e,n,r){return cr(t,e,d4(n),r)}const h4=(t,e)=>n=>e(t(n)),pr=(...t)=>t.reduce(h4);function _C(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const SE=_C("dragHorizontal"),xE=_C("dragVertical");function wC(t){let e=!1;if(t==="y")e=xE();else if(t==="x")e=SE();else{const n=SE(),r=xE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function EC(){const t=wC(!0);return t?(t(),!1):!0}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function PE(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||EC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Te.postRender(()=>l(s,o))};return fr(t.current,n,i,{passive:!t.getProps()[r]})}class f4 extends Mi{mount(){this.unmount=pr(PE(this.node,!0),PE(this.node,!1))}unmount(){}}class p4 extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pr(cr(this.node.current,"focus",()=>this.onFocus()),cr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const TC=(t,e)=>e?t===e?!0:TC(t,e.parentElement):!1;function ap(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Bh(n))}class m4 extends Mi{constructor(){super(...arguments),this.removeStartListeners=It,this.removeEndListeners=It,this.removeAccessibleListeners=It,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=fr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!TC(this.node.current,a.target)?d:c;f&&Te.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=fr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ap("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Te.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=cr(this.node.current,"keyup",o),ap("down",(a,l)=>{this.startPress(a,l)})},n=cr(this.node.current,"keydown",e),r=()=>{this.isPressing&&ap("cancel",(s,o)=>this.cancelPress(s,o))},i=cr(this.node.current,"blur",r);this.removeAccessibleListeners=pr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!EC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=fr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=cr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gm=new WeakMap,lp=new WeakMap,g4=t=>{const e=Gm.get(t.target);e&&e(t)},y4=t=>{t.forEach(g4)};function v4({root:t,...e}){const n=t||document;lp.has(n)||lp.set(n,{});const r=lp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(y4,{root:t,...e})),r[i]}function _4(t,e,n){const r=v4(e);return Gm.set(t,n),r.observe(t),()=>{Gm.delete(t),r.unobserve(t)}}const w4={some:0,all:1};class E4 extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:w4[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return _4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(T4(e,n))&&this.startObserver()}unmount(){}}function T4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const S4={inView:{Feature:E4},tap:{Feature:m4},focus:{Feature:p4},hover:{Feature:f4}};function SC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Wh(t,e,n){const r=t.getProps();return yv(r,e,n!==void 0?n:r.custom,t)}const pi=t=>t*1e3,mr=t=>t/1e3,x4={type:"spring",stiffness:500,damping:25,restSpeed:10},P4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),k4={type:"keyframes",duration:.8},C4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D4=(t,{keyframes:e})=>e.length>2?k4:bs.has(t)?t.startsWith("scale")?P4(e[1]):x4:C4;function I4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function vv(t,e){return t[e]||t.default||t}const b4=t=>t!==null;function zh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(b4),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let Nc;function R4(){Nc=void 0}const mi={now:()=>(Nc===void 0&&mi.set(dt.isProcessing||yj.useManualTiming?dt.timestamp:performance.now()),Nc),set:t=>{Nc=t,queueMicrotask(R4)}},xC=t=>/^0[^.\s]+$/u.test(t);function A4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xC(t):!0}const PC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),N4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function M4(t){const e=N4.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function kC(t,e,n=1){const[r,i]=M4(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return PC(o)?parseFloat(o):o}return cv(i)?kC(i,e,n+1):i}const O4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kE=t=>t===Zo||t===ne,CE=(t,e)=>parseFloat(t.split(", ")[e]),DE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return CE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?CE(s[1],t):0}},L4=new Set(["x","y","z"]),V4=au.filter(t=>!L4.has(t));function F4(t){const e=[];return V4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:DE(4,13),y:DE(5,14)};Oo.translateX=Oo.x;Oo.translateY=Oo.y;const CC=t=>e=>e.test(t),j4={test:t=>t==="auto",parse:t=>t},DC=[Zo,ne,Hn,Ur,Hj,zj,j4],IE=t=>DC.find(CC(t)),rs=new Set;let Xm=!1,Jm=!1;function IC(){if(Jm){const t=Array.from(rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=F4(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jm=!1,Xm=!1,rs.forEach(t=>t.complete()),rs.clear()}function bC(){rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jm=!0)})}function U4(){bC(),IC()}class _v{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),Xm||(Xm=!0,Te.read(bC),Te.resolveKeyframes(IC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wv=(t,e)=>n=>!!(lu(n)&&Wj.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),RC=(t,e,n)=>r=>{if(!lu(r))return r;const[i,s,o,a]=r.match(dv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},B4=t=>Si(0,255,t),up={...Zo,transform:t=>Math.round(B4(t))},Xi={test:wv("rgb","red"),parse:RC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+up.transform(t)+", "+up.transform(e)+", "+up.transform(n)+", "+nl(tl.transform(r))+")"};function W4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Zm={test:wv("#"),parse:W4,transform:Xi.transform},no={test:wv("hsl","hue"),parse:RC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hn.transform(nl(e))+", "+Hn.transform(nl(n))+", "+nl(tl.transform(r))+")"},xt={test:t=>Xi.test(t)||Zm.test(t)||no.test(t),parse:t=>Xi.test(t)?Xi.parse(t):no.test(t)?no.parse(t):Zm.parse(t),transform:t=>lu(t)?t:t.hasOwnProperty("red")?Xi.transform(t):no.transform(t)};function z4(t){var e,n;return isNaN(t)&&lu(t)&&(((e=t.match(dv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Bj))===null||n===void 0?void 0:n.length)||0)>0}const AC="number",NC="color",H4="var",$4="var(",bE="${}",Y4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ll(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Y4,l=>(xt.test(l)?(r.color.push(s),i.push(NC),n.push(xt.parse(l))):l.startsWith($4)?(r.var.push(s),i.push(H4),n.push(l)):(r.number.push(s),i.push(AC),n.push(parseFloat(l))),++s,bE)).split(bE);return{values:n,split:a,indexes:r,types:i}}function MC(t){return Ll(t).values}function OC(t){const{split:e,types:n}=Ll(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===AC?s+=nl(i[o]):a===NC?s+=xt.transform(i[o]):s+=i[o]}return s}}const K4=t=>typeof t=="number"?0:t;function q4(t){const e=MC(t);return OC(t)(e.map(K4))}const xi={test:z4,parse:MC,createTransformer:OC,getAnimatableNone:q4},Q4=new Set(["brightness","contrast","saturate","opacity"]);function G4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dv)||[];if(!r)return t;const i=n.replace(r,"");let s=Q4.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const X4=/\b([a-z-]*)\(.*?\)/gu,eg={...xi,getAnimatableNone:t=>{const e=t.match(X4);return e?e.map(G4).join(" "):t}},J4={...uC,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:eg,WebkitFilter:eg},Ev=t=>J4[t];function LC(t,e){let n=Ev(t);return n!==eg&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z4=new Set(["auto","none","0"]);function eU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Z4.has(s)&&Ll(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=LC(n,i)}class VC extends _v{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),cv(c))){const d=kC(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!O4.has(r)||e.length!==2)return;const[i,s]=e,o=IE(i),a=IE(s);if(o!==a)if(kE(o)&&kE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)A4(e[i])&&r.push(i);r.length&&eU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Oo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function FC(t){let e;return()=>(e===void 0&&(e=t()),e)}const RE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xi.test(t)||t==="0")&&!t.startsWith("url("));function tU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=RE(i,e),a=RE(s,e);return!o||!a?!1:tU(t)||n==="spring"&&r}class jC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&U4(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!nU(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(zh(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function UC(t,e){return e?t*(1e3/e):0}const rU=5;function BC(t,e,n){const r=Math.max(e-rU,0);return UC(n-t(r),e-r)}const cp=.001,iU=.01,sU=10,oU=.05,aU=1;function lU({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Si(oU,aU,o),t=Si(iU,sU,mr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,g=tg(c,o),E=Math.exp(-h);return cp-f/g*E},s=c=>{const h=c*o*t,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-h),_=tg(Math.pow(c,2),o);return(-i(c)+cp>0?-1:1)*((f-g)*E)/_}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-cp+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=cU(i,s,a);if(t=pi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const uU=12;function cU(t,e,n){let r=n;for(let i=1;i<uU;i++)r=r-t(r)/e(r);return r}function tg(t,e){return t*Math.sqrt(1-e*e)}const dU=["duration","bounce"],hU=["stiffness","damping","mass"];function AE(t,e){return e.some(n=>t[n]!==void 0)}function fU(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!AE(t,hU)&&AE(t,dU)){const n=lU(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function WC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=fU({...r,velocity:-mr(r.velocity||0)}),g=h||0,E=l/(2*Math.sqrt(a*c)),_=s-i,S=mr(Math.sqrt(a/c)),y=Math.abs(_)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let v;if(E<1){const T=tg(S,E);v=A=>{const M=Math.exp(-E*S*A);return s-M*((g+E*S*_)/T*Math.sin(T*A)+_*Math.cos(T*A))}}else if(E===1)v=T=>s-Math.exp(-S*T)*(_+(g+S*_)*T);else{const T=S*Math.sqrt(E*E-1);v=A=>{const M=Math.exp(-E*S*A),V=Math.min(T*A,300);return s-M*((g+E*S*_)*Math.sinh(V)+T*_*Math.cosh(V))/T}}return{calculatedDuration:f&&d||null,next:T=>{const A=v(T);if(f)o.done=T>=d;else{let M=g;T!==0&&(E<1?M=BC(v,T,A):M=0);const V=Math.abs(M)<=n,P=Math.abs(s-A)<=e;o.done=V&&P}return o.value=o.done?s:A,o}}}function NE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},g=w=>a!==void 0&&w<a||l!==void 0&&w>l,E=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let _=n*e;const S=h+_,y=o===void 0?S:o(S);y!==S&&(_=y-h);const v=w=>-_*Math.exp(-w/r),T=w=>y+v(w),A=w=>{const k=v(w),D=T(w);f.done=Math.abs(k)<=c,f.value=f.done?y:D};let M,V;const P=w=>{g(f.value)&&(M=w,V=WC({keyframes:[f.value,E(f.value)],velocity:BC(T,w,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:w=>{let k=!1;return!V&&M===void 0&&(k=!0,A(w),P(w)),M!==void 0&&w>=M?V.next(w-M):(!k&&A(w),f)}}}const zC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pU=1e-7,mU=12;function gU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=zC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>pU&&++a<mU);return o}function cu(t,e,n,r){if(t===e&&n===r)return It;const i=s=>gU(s,0,1,t,n);return s=>s===0||s===1?s:zC(i(s),e,r)}const yU=cu(.42,0,1,1),vU=cu(0,0,.58,1),HC=cu(.42,0,.58,1),_U=t=>Array.isArray(t)&&typeof t[0]!="number",$C=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YC=t=>e=>1-t(1-e),Tv=t=>1-Math.sin(Math.acos(t)),KC=YC(Tv),wU=$C(Tv),qC=cu(.33,1.53,.69,.99),Sv=YC(qC),EU=$C(Sv),TU=t=>(t*=2)<1?.5*Sv(t):.5*(2-Math.pow(2,-10*(t-1))),ME={linear:It,easeIn:yU,easeInOut:HC,easeOut:vU,circIn:Tv,circInOut:wU,circOut:KC,backIn:Sv,backInOut:EU,backOut:qC,anticipate:TU},OE=t=>{if(Array.isArray(t)){qm(t.length===4);const[e,n,r,i]=t;return cu(e,n,r,i)}else if(typeof t=="string")return qm(ME[t]!==void 0),ME[t];return t},Vl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Oe=(t,e,n)=>t+(e-t)*n;function dp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=dp(l,a,t+1/3),s=dp(l,a,t),o=dp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Id(t,e){return n=>n>0?e:t}const hp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},xU=[Zm,Xi,no],PU=t=>xU.find(e=>e.test(t));function LE(t){const e=PU(t);if(!e)return!1;let n=e.parse(t);return e===no&&(n=SU(n)),n}const VE=(t,e)=>{const n=LE(t),r=LE(e);if(!n||!r)return Id(t,e);const i={...n};return s=>(i.red=hp(n.red,r.red,s),i.green=hp(n.green,r.green,s),i.blue=hp(n.blue,r.blue,s),i.alpha=Oe(n.alpha,r.alpha,s),Xi.transform(i))},ng=new Set(["none","hidden"]);function kU(t,e){return ng.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CU(t,e){return n=>Oe(t,e,n)}function xv(t){return typeof t=="number"?CU:typeof t=="string"?cv(t)?Id:xt.test(t)?VE:bU:Array.isArray(t)?QC:typeof t=="object"?xt.test(t)?VE:DU:Id}function QC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>xv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function DU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=xv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function IU(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const bU=(t,e)=>{const n=xi.createTransformer(e),r=Ll(t),i=Ll(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ng.has(t)&&!i.values.length||ng.has(e)&&!r.values.length?kU(t,e):pr(QC(IU(r,i),i.values),n):Id(t,e)};function GC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Oe(t,e,n):xv(t)(t,e)}function RU(t,e,n){const r=[],i=n||GC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||It:e;a=pr(l,a)}r.push(a)}return r}function AU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qm(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=RU(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Vl(t[d],t[d+1],c);return o[d](h)};return n?c=>l(Si(t[0],t[s-1],c)):l}function NU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Vl(0,e,r);t.push(Oe(n,1,i))}}function MU(t){const e=[0];return NU(e,t.length-1),e}function OU(t,e){return t.map(n=>n*e)}function LU(t,e){return t.map(()=>e||HC).splice(0,t.length-1)}function bd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=_U(r)?r.map(OE):OE(r),s={done:!1,value:e[0]},o=OU(n&&n.length===e.length?n:MU(e),t),a=AU(o,e,{ease:Array.isArray(i)?i:LU(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const FE=2e4;function VU(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<FE;)e+=n,r=t.next(e);return e>=FE?1/0:e}const FU=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>Dr(e),now:()=>dt.isProcessing?dt.timestamp:mi.now()}},jU={decay:NE,inertia:NE,tween:bd,keyframes:bd,spring:WC},UU=t=>t/100;class Pv extends jC{constructor({KeyframeResolver:e=_v,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=jU[n]||bd;let l,c;a!==bd&&typeof e[0]!="number"&&(l=pr(UU,GC(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=VU(d));const{calculatedDuration:h}=d,f=h+i,g=f*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:g,repeatType:E,repeatDelay:_,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,A=s;if(g){const w=Math.min(this.currentTime,d)/h;let k=Math.floor(w),D=w%1;!D&&w>=1&&(D=1),D===1&&k--,k=Math.min(k,g+1),!!(k%2)&&(E==="reverse"?(D=1-D,_&&(D-=_/h)):E==="mirror"&&(A=o)),T=Si(0,1,D)*h}const M=v?{done:!1,value:l[0]}:A.next(T);a&&(M.value=a(M.value));let{done:V}=M;!v&&c!==null&&(V=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return P&&i!==void 0&&(M.value=zh(l,this.options,i)),S&&S(M.value),P&&this.finish(),M}get duration(){const{resolved:e}=this;return e?mr(e.calculatedDuration):0}get time(){return mr(this.currentTime)}set time(e){e=pi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=FU,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const XC=t=>Array.isArray(t)&&typeof t[0]=="number";function JC(t){return!!(!t||typeof t=="string"&&t in kv||XC(t)||Array.isArray(t)&&t.every(JC))}const Fa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fa([0,.65,.55,1]),circOut:Fa([.55,0,1,.45]),backIn:Fa([.31,.01,.66,-.59]),backOut:Fa([.33,1.53,.69,.99])};function BU(t){return ZC(t)||kv.easeOut}function ZC(t){if(t)return XC(t)?Fa(t):Array.isArray(t)?t.map(BU):kv[t]}function WU(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=ZC(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const zU=FC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HU=new Set(["opacity","clipPath","filter","transform"]),Rd=10,$U=2e4;function YU(t){return t.type==="spring"||t.name==="backgroundColor"||!JC(t.ease)}function KU(t,e){const n=new Pv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<$U;)r=n.sample(s),i.push(r.value),s+=Rd;return{times:void 0,keyframes:i,duration:s-Rd,ease:"linear"}}class jE extends jC{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new VC(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(YU(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,...E}=this.options,_=KU(e,E);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const d=WU(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=mi.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(zh(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return mr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return mr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=pi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return It;const{animation:r}=n;r.timeline=e,r.onfinish=null}return It}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:d,...h}=this.options,f=new Pv({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=pi(this.time);l.setWithVelocity(f.sample(g-Rd).value,f.sample(g).value,Rd)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return zU()&&r&&HU.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function qU(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Te.update(r,!0),()=>Dr(r)}const QU=FC(()=>window.ScrollTimeline!==void 0);class GU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(QU()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),qU(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Cv=(t,e,n,r={},i,s)=>o=>{const a=vv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-pi(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};I4(a)||(d={...d,...D4(t,d)}),d.duration&&(d.duration=pi(d.duration)),d.repeatDelay&&(d.repeatDelay=pi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=zh(d.keyframes,a);if(f!==void 0)return Te.update(()=>{d.onUpdate(f),d.onComplete()}),new GU([])}return!s&&jE.supports(d)?new jE(d):new Pv(d)};function Ad(t){return!!(Dt(t)&&t.add)}function Dv(t,e){t.indexOf(e)===-1&&t.push(e)}function Iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bv{constructor(){this.subscriptions=[]}add(e){return Dv(this.subscriptions,e),()=>Iv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const UE=30,XU=t=>!isNaN(parseFloat(t));class JU{constructor(e,n={}){this.version="11.2.12",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=mi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new bv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UE);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(t,e){return new JU(t,e)}function ZU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fl(n))}function e3(t,e){const n=Wh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=s4(s[o]);ZU(t,o,a)}}function eD(t){return t.getProps()[eC]}function t3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(o=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const g=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),E=l[f];if(E===void 0||h&&t3(h,f))continue;const _={delay:n,elapsed:0,...vv(o||{},f)};let S=!1;if(window.HandoffAppearAnimations){const v=eD(t);if(v){const T=window.HandoffAppearAnimations(v,f,g,Te);T!==null&&(_.elapsed=T,S=!0)}}g.start(Cv(f,g,E,t.shouldReduceMotion&&bs.has(f)?{type:!1}:_,t,S));const y=g.animation;y&&(Ad(c)&&(c.add(f),y.then(()=>c.remove(f))),d.push(y))}return a&&Promise.all(d).then(()=>{Te.update(()=>{a&&e3(t,a)})}),d}function rg(t,e,n={}){var r;const i=Wh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(tD(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return n3(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function n3(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(r3).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(rg(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function r3(t,e){return t.sortNodePosition(e)}function i3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>rg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=rg(t,e,n);else{const i=typeof e=="function"?Wh(t,e,n.custom):e;r=Promise.all(tD(t,i,n))}return r.then(()=>{Te.postRender(()=>{t.notify("AnimationComplete",e)})})}const s3=[...av].reverse(),o3=av.length;function a3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>i3(t,n,r)))}function l3(t){let e=a3(t),n=BE(),r=!0;const i=l=>(c,d)=>{var h;const f=Wh(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:E,..._}=f;c={...c,..._,...E}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let g={},E=1/0;for(let S=0;S<o3;S++){const y=s3[S],v=n[y],T=c[y]!==void 0?c[y]:d[y],A=Ol(T),M=y===l?v.isActive:null;M===!1&&(E=S);let V=T===d[y]&&T!==c[y]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),v.protectedKeys={...g},!v.isActive&&M===null||!T&&!v.prevProp||jh(T)||typeof T=="boolean")continue;let w=u3(v.prevProp,T)||y===l&&v.isActive&&!V&&A||S>E&&A,k=!1;const D=Array.isArray(T)?T:[T];let R=D.reduce(i(y),{});M===!1&&(R={});const{prevResolvedValues:N={}}=v,I={...N,...R},X=Q=>{w=!0,f.has(Q)&&(k=!0,f.delete(Q)),v.needsAnimating[Q]=!0;const Z=t.getValue(Q);Z&&(Z.liveStyle=!1)};for(const Q in I){const Z=R[Q],J=N[Q];if(g.hasOwnProperty(Q))continue;let W=!1;Qm(Z)&&Qm(J)?W=!SC(Z,J):W=Z!==J,W?Z!=null?X(Q):f.add(Q):Z!==void 0&&f.has(Q)?X(Q):v.protectedKeys[Q]=!0}v.prevProp=T,v.prevResolvedValues=R,v.isActive&&(g={...g,...R}),r&&t.blockInitialAnimation&&(w=!1),w&&(!V||k)&&h.push(...D.map(Q=>({animation:Q,options:{type:y}})))}if(f.size){const S={};f.forEach(y=>{const v=t.getBaseTarget(y),T=t.getValue(y);T&&(T.liveStyle=!0),S[y]=v??null}),h.push({animation:S})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=BE(),r=!0}}}function u3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SC(e,t):!1}function Ui(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BE(){return{animate:Ui(!0),whileInView:Ui(),whileHover:Ui(),whileTap:Ui(),whileDrag:Ui(),whileFocus:Ui(),exit:Ui()}}class c3 extends Mi{constructor(e){super(e),e.animationState||(e.animationState=l3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let d3=0;class h3 extends Mi{constructor(){super(...arguments),this.id=d3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const f3={animation:{Feature:c3},exit:{Feature:h3}},WE=(t,e)=>Math.abs(t-e);function p3(t,e){const n=WE(t.x,e.x),r=WE(t.y,e.y);return Math.sqrt(n**2+r**2)}class nD{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=pp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=p3(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:E}=h,{timestamp:_}=dt;this.history.push({...E,timestamp:_});const{onStart:S,onMove:y}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=fp(f,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pp(h.type==="pointercancel"?this.lastMoveEventInfo:fp(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,S),E&&E(h,S)},!vC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Bh(e),a=fp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=dt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,pp(a,this.history)),this.removeListeners=pr(fr(this.contextWindow,"pointermove",this.handlePointerMove),fr(this.contextWindow,"pointerup",this.handlePointerUp),fr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dr(this.updatePoint)}}function fp(t,e){return e?{point:e(t.point)}:t}function zE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pp({point:t},e){return{point:t,delta:zE(t,rD(e)),offset:zE(t,m3(e)),velocity:g3(e,.1)}}function m3(t){return t[0]}function rD(t){return t[t.length-1]}function g3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=rD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>pi(e)));)n--;if(!r)return{x:0,y:0};const s=mr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rn(t){return t.max-t.min}function ig(t,e=0,n=.01){return Math.abs(t-e)<=n}function HE(t,e,n,r=.5){t.origin=r,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),(ig(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(ig(t.translate)||isNaN(t.translate))&&(t.translate=0)}function rl(t,e,n,r){HE(t.x,e.x,n.x,r?r.originX:void 0),HE(t.y,e.y,n.y,r?r.originY:void 0)}function $E(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function y3(t,e,n){$E(t.x,e.x,n.x),$E(t.y,e.y,n.y)}function YE(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function il(t,e,n){YE(t.x,e.x,n.x),YE(t.y,e.y,n.y)}function v3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Oe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Oe(n,t,r.max):Math.min(t,n)),t}function KE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _3(t,{top:e,left:n,bottom:r,right:i}){return{x:KE(t.x,n,i),y:KE(t.y,e,r)}}function qE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function w3(t,e){return{x:qE(t.x,e.x),y:qE(t.y,e.y)}}function E3(t,e){let n=.5;const r=rn(t),i=rn(e);return i>r?n=Vl(e.min,e.max-r,t.min):r>i&&(n=Vl(t.min,t.max-i,e.min)),Si(0,1,n)}function T3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sg=.35;function S3(t=sg){return t===!1?t=0:t===!0&&(t=sg),{x:QE(t,"left","right"),y:QE(t,"top","bottom")}}function QE(t,e,n){return{min:GE(t,e),max:GE(t,n)}}function GE(t,e){return typeof t=="number"?t:t[e]||0}const XE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:XE(),y:XE()}),JE=()=>({min:0,max:0}),$e=()=>({x:JE(),y:JE()});function ln(t){return[t("x"),t("y")]}function iD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function x3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function P3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mp(t){return t===void 0||t===1}function og({scale:t,scaleX:e,scaleY:n}){return!mp(t)||!mp(e)||!mp(n)}function Hi(t){return og(t)||sD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sD(t){return ZE(t.x)||ZE(t.y)}function ZE(t){return t&&t!=="0%"}function Nd(t,e,n){const r=t-n,i=e*r;return n+i}function eT(t,e,n,r,i){return i!==void 0&&(t=Nd(t,i,r)),Nd(t,n,r)+e}function ag(t,e=0,n=1,r,i){t.min=eT(t.min,e,n,r,i),t.max=eT(t.max,e,n,r,i)}function oD(t,{x:e,y:n}){ag(t.x,e.translate,e.scale,e.originPoint),ag(t.y,n.translate,n.scale,n.originPoint)}function k3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&io(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,oD(t,o)),r&&Hi(s.latestValues)&&io(t,s.latestValues))}e.x=tT(e.x),e.y=tT(e.y)}function tT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zr(t,e){t.min=t.min+e,t.max=t.max+e}function nT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Oe(t.min,t.max,s);ag(t,e[n],e[r],o,e.scale)}const C3=["x","scaleX","originX"],D3=["y","scaleY","originY"];function io(t,e){nT(t.x,e,C3),nT(t.y,e,D3)}function aD(t,e){return iD(P3(t.getBoundingClientRect(),e))}function I3(t,e,n){const r=aD(t,n),{scroll:i}=e;return i&&(zr(r.x,i.offset.x),zr(r.y,i.offset.y)),r}const lD=({current:t})=>t?t.ownerDocument.defaultView:null,b3=new WeakMap;class R3{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bh(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:E}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=wC(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ln(S=>{let y=this.getAxisMotionValue(S).get()||0;if(Hn.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[S];T&&(y=rn(T)*(parseFloat(y)/100))}}this.originPoint[S]=y}),E&&Te.postRender(()=>E(d,h));const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:E,onDrag:_}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(g&&this.currentDirection===null){this.currentDirection=A3(S),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>ln(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new nD(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:lD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Te.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=v3(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&to(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_3(i.layoutBox,n):this.constraints=!1,this.elastic=S3(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ln(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=T3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!to(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=I3(r,i.root,this.visualElement.getTransformPagePoint());let o=w3(i.layout.layoutBox,s);if(n){const a=n(x3(o));this.hasMutatedConstraints=!!a,a&&(o=iD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ln(d=>{if(!nc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Cv(e,r,0,n,this.visualElement))}stopAnimation(){ln(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ln(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ln(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!to(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ln(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=E3({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ln(o=>{if(!nc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Oe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;b3.set(this.visualElement,this);const e=this.visualElement.current,n=fr(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();to(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Te.read(r);const o=cr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ln(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=sg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function A3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class N3 extends Mi{constructor(e){super(e),this.removeGroupControls=It,this.removeListeners=It,this.controls=new R3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const rT=t=>(e,n)=>{t&&Te.postRender(()=>t(e,n))};class M3 extends Mi{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(e){this.session=new nD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:rT(e),onStart:rT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Te.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=fr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function O3(){const t=b.useContext(rv);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=b.useId();return b.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Mc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=iT(t,e.target.x),r=iT(t,e.target.y);return`${n}% ${r}%`}},L3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xi.parse(t);if(i.length>5)return r;const s=xi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Oe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class V3 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Mj(F3),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Mc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ov.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uD(t){const[e,n]=O3(),r=b.useContext(sC);return C.jsx(V3,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(nC),isPresent:e,safeToRemove:n})}const F3={borderRadius:{...xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xa,borderTopRightRadius:xa,borderBottomLeftRadius:xa,borderBottomRightRadius:xa,boxShadow:L3},cD=["TopLeft","TopRight","BottomLeft","BottomRight"],j3=cD.length,sT=t=>typeof t=="string"?parseFloat(t):t,oT=t=>typeof t=="number"||ne.test(t);function U3(t,e,n,r,i,s){i?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,B3(r)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,W3(r))):s&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<j3;o++){const a=`border${cD[o]}Radius`;let l=aT(e,a),c=aT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||oT(l)===oT(c)?(t[a]=Math.max(Oe(sT(l),sT(c),r),0),(Hn.test(c)||Hn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,r))}function aT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const B3=dD(0,.5,KC),W3=dD(.5,.95,It);function dD(t,e,n){return r=>r<t?0:r>e?1:n(Vl(t,e,r))}function lT(t,e){t.min=e.min,t.max=e.max}function an(t,e){lT(t.x,e.x),lT(t.y,e.y)}function uT(t,e,n,r,i){return t-=e,t=Nd(t,1/n,r),i!==void 0&&(t=Nd(t,1/i,r)),t}function z3(t,e=0,n=1,r=.5,i,s=t,o=t){if(Hn.test(e)&&(e=parseFloat(e),e=Oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Oe(s.min,s.max,r);t===s&&(a-=e),t.min=uT(t.min,e,n,a,i),t.max=uT(t.max,e,n,a,i)}function cT(t,e,[n,r,i],s,o){z3(t,e[n],e[r],e[i],e.scale,s,o)}const H3=["x","scaleX","originX"],$3=["y","scaleY","originY"];function dT(t,e,n,r){cT(t.x,e,H3,n?n.x:void 0,r?r.x:void 0),cT(t.y,e,$3,n?n.y:void 0,r?r.y:void 0)}function hT(t){return t.translate===0&&t.scale===1}function hD(t){return hT(t.x)&&hT(t.y)}function Y3(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function fD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function fT(t){return rn(t.x)/rn(t.y)}class K3{constructor(){this.members=[]}add(e){Dv(this.members,e),e.scheduleRender()}remove(e){if(Iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const q3=(t,e)=>t.depth-e.depth;class Q3{constructor(){this.children=[],this.isDirty=!1}add(e){Dv(this.children,e),this.isDirty=!0}remove(e){Iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q3),this.isDirty=!1,this.children.forEach(e)}}function G3(t,e){const n=mi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Dr(r),t(s-e))};return Te.read(r,!0),()=>Dr(r)}function X3(t){window.MotionDebug&&window.MotionDebug.record(t)}function J3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Z3(t,e,n){const r=Dt(t)?t:Fl(t);return r.start(Cv("",r,e,n)),r.animation}const gp=["","X","Y","Z"],eB={visibility:"hidden"},mT=1e3;let tB=0;const $i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function yp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function pD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?eD(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?pD(t.parent):!1:!1}function mD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=tB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$i.totalNodes=$i.resolvedTargetDeltas=$i.recalculatedProjection=0,this.nodes.forEach(iB),this.nodes.forEach(uB),this.nodes.forEach(cB),this.nodes.forEach(sB),X3($i)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new bv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=J3(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=G3(f,250),Mc.hasAnimatedSinceResize&&(Mc.hasAnimatedSinceResize=!1,this.nodes.forEach(yT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||mB,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!fD(this.targetLayout,E)||g,T=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const A={...vv(_,"layout"),onPlay:S,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||yT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&pD(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gT);return}this.isUpdating||this.nodes.forEach(aB),this.isUpdating=!1,this.nodes.forEach(lB),this.nodes.forEach(nB),this.nodes.forEach(rB),this.clearAllSnapshots();const a=mi.now();dt.delta=Si(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,op.update.process(dt),op.preRender.process(dt),op.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oB),this.sharedNodes.forEach(hB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!hD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Hi(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $e();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(zr(a.x,l.offset.x),zr(a.y,l.offset.y)),a}removeElementScroll(o){const a=$e();an(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){an(a,o);const{scroll:f}=this.root;f&&(zr(a.x,-f.offset.x),zr(a.y,-f.offset.y))}zr(a.x,d.offset.x),zr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=$e();an(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&io(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hi(d.latestValues)&&io(l,d.latestValues)}return Hi(this.latestValues)&&io(l,this.latestValues),l}removeTransform(o){const a=$e();an(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Hi(c.latestValues))continue;og(c.latestValues)&&c.updateSnapshot();const d=$e(),h=c.measurePageBox();an(d,h),dT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Hi(this.latestValues)&&dT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),il(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),oD(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),il(this.relativeTargetOrigin,this.target,g.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||sD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;an(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;k3(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=$e());const{target:E}=a;if(!E){this.projectionTransform&&(this.projectionDelta=ro(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro());const _=this.projectionTransform;rl(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=pT(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),$i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=$e(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,_=g!==E,S=this.getStack(),y=!S||S.members.length<=1,v=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(pB));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const M=A/1e3;vT(h.x,o.x,M),vT(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(il(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fB(this.relativeTarget,this.relativeTargetOrigin,f,M),T&&Y3(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=$e()),an(T,this.relativeTarget)),_&&(this.animationValues=d,U3(d,c,this.latestValues,M,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Mc.hasAnimatedSinceResize=!0,this.currentAnimation=Z3(0,mT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&gD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$e();const h=rn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=rn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}an(a,l),io(a,d),rl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new K3),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&yp("z",o,c,this.animationValues);for(let d=0;d<gp.length;d++)yp(`rotate${gp[d]}`,o,c,this.animationValues),yp(`skew${gp[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eB;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ac(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Ac(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=pT(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:g,y:E}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Cd){if(f[_]===void 0)continue;const{correct:S,applyTo:y}=Cd[_],v=c.transform==="none"?f[_]:S(f[_],h);if(y){const T=y.length;for(let A=0;A<T;A++)c[y[A]]=v}else c[_]=v}return this.options.layoutId&&(c.pointerEvents=h===this?Ac(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(gT),this.root.sharedNodes.clear()}}}function nB(t){t.updateLayout()}function rB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ln(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=rn(f);f.min=r[h].min,f.max=f.min+g}):gD(s,n.layoutBox,r)&&ln(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=rn(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=ro();rl(a,r,n.layoutBox);const l=ro();o?rl(l,t.applyTransform(i,!0),n.measuredBox):rl(l,r,n.layoutBox);const c=!hD(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const E=$e();il(E,n.layoutBox,f.layoutBox);const _=$e();il(_,r,g.layoutBox),fD(E,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function iB(t){$i.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oB(t){t.clearSnapshot()}function gT(t){t.clearMeasurements()}function aB(t){t.isLayoutDirty=!1}function lB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uB(t){t.resolveTargetDelta()}function cB(t){t.calcProjection()}function dB(t){t.resetSkewAndRotation()}function hB(t){t.removeLeadSnapshot()}function vT(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _T(t,e,n,r){t.min=Oe(e.min,n.min,r),t.max=Oe(e.max,n.max,r)}function fB(t,e,n,r){_T(t.x,e.x,n.x,r),_T(t.y,e.y,n.y,r)}function pB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mB={duration:.45,ease:[.4,0,.1,1]},wT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ET=wT("applewebkit/")&&!wT("chrome/")?Math.round:It;function TT(t){t.min=ET(t.min),t.max=ET(t.max)}function gB(t){TT(t.x),TT(t.y)}function gD(t,e,n){return t==="position"||t==="preserve-aspect"&&!ig(fT(e),fT(n),.2)}const yB=mD({attachResizeListener:(t,e)=>cr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vp={current:void 0},yD=mD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vp.current){const t=new yB({});t.mount(window),t.setOptions({layoutScroll:!0}),vp.current=t}return vp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vB={pan:{Feature:M3},drag:{Feature:N3,ProjectionNode:yD,MeasureLayout:uD}},lg={current:null},vD={current:!1};function _B(){if(vD.current=!0,!!iv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lg.current=t.matches;t.addListener(e),e()}else lg.current=!1}function wB(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Dt(s))t.addValue(i,s),Ad(r)&&r.add(i);else if(Dt(o))t.addValue(i,Fl(s,{owner:t})),Ad(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Fl(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ST=new WeakMap,EB=[...DC,xt,xi],TB=t=>EB.find(CC(t)),xT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SB=lv.length;class xB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(f,g,E,_)=>new this.KeyframeResolver(f,g,E,_,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_v,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Uh(n),this.isVariantNode=iC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Dt(g)&&(g.set(l[f],!1),Ad(d)&&d.add(f))}}mount(e){this.current=e,ST.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),vD.current||_B(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ST.delete(this.current),this.projection&&this.projection.unmount(),Dr(this.notifyUpdate),Dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=bs.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mo){const n=Mo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xT.length;r++){const i=xT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<SB;r++){const i=lv[r],s=this.props[i];(Ol(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(PC(i)||xC(i))?i=parseFloat(i):!TB(i)&&xi.test(n)&&(i=LC(e,n)),this.setBaseTarget(e,Dt(i)?i.get():i)),Dt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=yv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new bv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _D extends xB{constructor(){super(...arguments),this.KeyframeResolver=VC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function PB(t){return window.getComputedStyle(t)}class kB extends _D{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(bs.has(n)){const r=Ev(n);return r&&r.default||0}else{const r=PB(e),i=(lC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return aD(e,n)}build(e,n,r,i){hv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return gv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){fC(e,n,r,i)}}class CB extends _D{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bs.has(n)){const r=Ev(n);return r&&r.default||0}return n=pC.has(n)?n:sv(n),e.getAttribute(n)}measureInstanceViewportBox(){return $e()}scrapeMotionValuesFromProps(e,n,r){return gC(e,n,r)}build(e,n,r,i){pv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){mC(e,n,r,i)}mount(e){this.isSVGTag=mv(e.tagName),super.mount(e)}}const DB=(t,e)=>uv(t)?new CB(e,{enableHardwareAcceleration:!1}):new kB(e,{allowProjection:t!==b.Fragment,enableHardwareAcceleration:!0}),IB={layout:{ProjectionNode:yD,MeasureLayout:uD}},bB={...f3,...S4,...vB,...IB},hn=Aj((t,e)=>c4(t,e,bB,DB));function RB(t,e,n){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const AB={some:0,all:1};function NB(t,e,{root:n,margin:r,amount:i="some"}={}){const s=RB(t),o=new WeakMap,a=c=>{c.forEach(d=>{const h=o.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=e(d);typeof f=="function"?o.set(d.target,f):l.unobserve(d.target)}else h&&(h(d),o.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:AB[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function MB(t,{root:e,margin:n,amount:r,once:i=!1}={}){const[s,o]=b.useState(!1);return b.useEffect(()=>{if(!t.current||i&&s)return;const a=()=>(o(!0),i?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:n,amount:r};return NB(t.current,a,l)},[e,t,n,i,r]),s}const OB=()=>{const t=F.useRef(null),e=MB(t,{once:!0,amount:.1});return C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(ou,{active:"home"}),C.jsx("div",{className:"flex flex-grow flex-col bg-background bg-gradient-to-b from-background from-20% to-gray-400",children:C.jsx("div",{className:"flex flex-row items-center justify-center",children:C.jsxs(hn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8},className:"flex justify-between",children:[C.jsx(hn.img,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"yujinn",src:lj}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-8xl text-primary mx-[14vh] mt-[24vh] whitespace-nowrap text-white",children:"SEA Salon"}),C.jsx("p",{className:"text-sm font-medium text-primary mx-[15vh] mt-[2vh] whitespace-nowrap text-white",children:"“Beauty and Elegance Redefined”"})]})]})})}),C.jsx("div",{className:"relative mt-15 border-b bg-gray-200 min-h-[800px]",children:C.jsxs("div",{ref:t,className:"text-center mt-[15vh]",children:[C.jsx(hn.h2,{initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{duration:.7},className:"text-3xl sm:text-5xl lg:text-6xl mt-10 lg:mt-20 tracking-wide text-black",children:"Our Services"}),C.jsxs("div",{className:"flex justify-between items-center mx-[10vh] my-[10vh] mt-[10vh] mb-[20vh]",children:[C.jsx(hn.div,{whileHover:{scale:1.1},whileTap:{scale:.9},initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{duration:.7},children:C.jsx(Rc,{title:"Haircuts and Styling",description:"Experience the latest trends and classic styles with our expert haircuts and styling services. Whether you want a bold new look or just a trim, our stylists will ensure you leave looking and feeling your best.",imageUrl:"https://res.cloudinary.com/mergernetwork/image/upload/w_500,h_200,c_limit,f_auto/posts/548121F3-F705-4E45-B8643551AF8E130C.jpg"})}),C.jsx(hn.div,{whileHover:{scale:1.1},whileTap:{scale:.9},initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{duration:.7},children:C.jsx(Rc,{title:"Manicure and Pedicure",description:"Pamper yourself with our luxurious manicure and pedicure services. From classic treatments to the latest nail art trends, we ensure your hands and feet look their best.",imageUrl:"https://static.wixstatic.com/media/793c84_9dbcf359cce74133bfe3fbb2f3caa3e3~mv2.jpg/v1/fill/w_400,h_200,al_c,q_80/793c84_9dbcf359cce74133bfe3fbb2f3caa3e3~mv2.jpg"})}),C.jsx(hn.div,{whileHover:{scale:1.1},whileTap:{scale:.9},initial:{opacity:0,scale:.5},animate:e?{opacity:1,scale:1}:{},transition:{duration:1},children:C.jsx(Rc,{title:"Facial Treatments",description:"Rejuvenate your skin with our professional facial treatments. Using high-quality products, we tailor each session to meet your skin's unique needs for a radiant glow.",imageUrl:"https://static.vecteezy.com/system/resources/thumbnails/044/558/907/small/skin-care-cosmetic-procedures-for-facial-care-photo.jpeg"})})]})]})}),C.jsx(pj,{})]})};var LB={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function VB(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return LB[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function go(t){var e=VB(t);return"".concat(e.value).concat(e.unit)}var wD=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},Md=function(){return Md=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Md.apply(this,arguments)},FB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},jB=wD("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function ED(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,d=c===void 0?15:c,h=t.margin,f=h===void 0?2:h,g=FB(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),E=Md({display:"inherit"},l),_=function(S){return{display:"inline-block",backgroundColor:i,width:go(d),height:go(d),margin:go(f),borderRadius:"100%",animation:"".concat(jB," ").concat(.7/o,"s ").concat(S%2?"0s":"".concat(.35/o,"s")," infinite linear"),animationFillMode:"both"}};return n?b.createElement("span",Md({style:E},g),b.createElement("span",{style:_(1)}),b.createElement("span",{style:_(2)}),b.createElement("span",{style:_(3)})):null}var Od=function(){return Od=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Od.apply(this,arguments)},UB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},BB=wD("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");function TD(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,d=c===void 0?15:c,h=t.margin,f=h===void 0?2:h,g=UB(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),E=Od({display:"inherit"},l),_=function(S){return{backgroundColor:i,width:go(d),height:go(d),margin:go(f),borderRadius:"100%",display:"inline-block",animation:"".concat(BB," ").concat(.75/o,"s ").concat(S*.12/o,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?b.createElement("span",Od({style:E},g),b.createElement("span",{style:_(1)}),b.createElement("span",{style:_(2)}),b.createElement("span",{style:_(3)})):null}var SD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PT=F.createContext&&F.createContext(SD),WB=["attr","size","title"];function zB(t,e){if(t==null)return{};var n=HB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){$B(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $B(t,e,n){return e=YB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YB(t){var e=KB(t,"string");return typeof e=="symbol"?e:e+""}function KB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xD(t){return t&&t.map((e,n)=>F.createElement(e.tag,Vd({key:n},e.attr),xD(e.child)))}function qB(t){return e=>F.createElement(QB,Ld({attr:Vd({},t.attr)},e),xD(t.child))}function QB(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=zB(t,WB),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),F.createElement("svg",Ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Vd(Vd({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&F.createElement("title",null,s),t.children)};return PT!==void 0?F.createElement(PT.Consumer,null,n=>e(n)):e(SD)}function ug(t){return qB({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}const GB=()=>{const[t,e]=b.useState(0),[n,r]=b.useState(0),[i,s]=b.useState(""),[o,a]=b.useState(!1),[l,c]=b.useState(!1),{user:d,userData:h}=b.useContext(Cs),f=Ps(),g=async()=>{try{const S=kr(Cr,"datas","review"),y=await Jo(S);return y.exists()?y.data():(console.log("Data does not exist in database!"),null)}catch(S){return console.error("Error getting document:",S),null}},E=async()=>{try{a(!0);const S=await g();if(S){const y=Array.isArray(S.review)?S.review:[],v={time:new Date().toLocaleString(),rating:n,comment:i,name:h.name},T={review:[...y,v]};await Yk(kr(Cr,"datas","review"),{review:T.review}),c(!0),setTimeout(()=>{c(!1),f("/")},3e3)}else console.log("Data does not exist in database!")}catch(S){console.error("Error getting document:",S)}finally{a(!1)}},_=async()=>{await E()};return b.useEffect(()=>{if(!d){alert("Please login first"),f("/");return}},[]),C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(ou,{active:"review"}),C.jsx("div",{className:"flex flex-col flex-grow bg-gray-300",children:C.jsxs(hn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8},className:"flex flex-col items-center justify-center py-10",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"We'd love to hear about your experience!"}),C.jsx("p",{className:"text-lg mt-2 text-gray-600",children:"Your feedback helps us improve our services."}),C.jsx("div",{className:"flex items-center mt-5 space-x-2",children:[...Array(5)].map((S,y)=>{const v=y+1;return C.jsx("button",{onClick:()=>r(v),onMouseEnter:()=>e(v),onMouseLeave:()=>e(0),className:"focus:outline-none",children:C.jsx(ug,{color:t>=v||n>=v?"#FFD700":"gray",size:50,className:"cursor-pointer transition-colors duration-200"})},v)})}),n>0&&C.jsxs(hn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3},className:"mt-8 w-full max-w-lg",children:[n<3?C.jsx("h2",{className:"text-xl mb-2 ",children:"What disappointed you?"}):C.jsx("h2",{className:"text-xl mb-2 ",children:"What did you enjoy?"}),C.jsx("textarea",{placeholder:"Your comments...",value:i,onChange:S=>s(S.target.value),className:"w-full px-4 py-2 placeholder-gray-400 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent",rows:4}),C.jsx("button",{onClick:_,className:"mt-4 w-full px-4 py-2 bg-black text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 rounded-lg",children:"Submit"})]}),l&&C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-50 text-white text-2xl font-semibold space-y-5",children:[C.jsx("div",{children:"Thank you for your review! You will be redirected shortly."}),C.jsx(TD,{loading:l,color:"white"})]})]})})]})},XB=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(""),[d,h]=b.useState(""),[f,g]=b.useState(!1),[E,_]=b.useState(!1),{user:S}=b.useContext(Cs),y=Ps(),v=async()=>{try{const M=kr(Cr,"datas","reservation"),V=await Jo(M);return V.exists()?V.data():(console.log("Data does not exist in database!"),null)}catch(M){return console.error("Error getting document:",M),null}},T=async()=>{try{g(!0);const M=await v();if(M){const V=Array.isArray(M.reservation)?M.reservation:[],P={time:new Date().toLocaleString(),reservationTime:o,reservationDate:l,serviceType:i,branch:d,phoneNumber:n,name:t},w={reservation:[...V,P]};await Yk(kr(Cr,"datas","reservation"),{reservation:w.reservation}),_(!0),setTimeout(()=>{_(!1),y("/")},3e3)}else console.log("Data does not exist in database!")}catch(M){console.error("Error getting document:",M)}finally{g(!1)}},A=async()=>{if(t===""||n===""||d===""|i===""|l===""||o===""){alert("Please fill in all fields!");return}await T()};return b.useEffect(()=>{if(!S){alert("Please login first"),y("/");return}},[]),C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(ou,{active:"reservation"}),C.jsxs("div",{className:"bg-gray-300 flex flex-col flex-grow py-5",children:[C.jsxs(hn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8},className:"container mx-auto px-4",children:[C.jsx("h1",{className:"text-3xl font-bold mb-3 text-center text-black",children:"Reservation Form"}),C.jsxs("form",{onSubmit:A,className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),C.jsx("input",{type:"text",id:"name",value:t,onChange:M=>e(M.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Active Phone Number"}),C.jsx("input",{type:"tel",id:"phoneNumber",value:n,onChange:M=>r(M.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700",children:"Branch Location"}),C.jsxs("select",{id:"branch",value:d,onChange:M=>h(M.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800",children:[C.jsx("option",{value:"",disabled:"true",children:"Select branch location"}),C.jsx("option",{value:"Deket rumah fred",children:"Deket rumah fred"}),C.jsx("option",{value:"Disitu",children:"Disitu"}),C.jsx("option",{value:"Disana",children:"Disana"})]})]}),C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-medium text-gray-700",children:"Type of Service"}),C.jsxs("select",{id:"serviceType",value:i,onChange:M=>s(M.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800",children:[C.jsx("option",{value:"",disabled:"true",children:"Select service type"}),C.jsx("option",{value:"Haircuts and styling",children:"Haircuts and styling"}),C.jsx("option",{value:"Manicure and pedicure",children:"Manicure and pedicure"}),C.jsx("option",{value:"Facial treatments",children:"Facial treatments"})]})]}),C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"reservationDate",className:"block text-sm font-medium text-gray-700",children:"Reservation Date"}),C.jsx("input",{type:"date",id:"reservationDate",value:l,onChange:M=>c(M.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"reservationTime",className:"block text-sm font-medium text-gray-700",children:"Reservation Time"}),C.jsx("input",{type:"time",id:"reservationTime",value:o,onChange:M=>a(M.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsx("div",{onClick:()=>A(),type:"button",className:"w-full text-center hover:cursor-pointer bg-black text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 py-2 px-4 rounded",children:"Submit Reservation"})]})]}),E&&C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-50 text-white text-2xl font-semibold space-y-5",children:[C.jsx("div",{children:"Thank you for your reservation! You will be redirected shortly."}),C.jsx(TD,{loading:E,color:"white"})]})]})]})};var ut=[];for(var _p=0;_p<256;++_p)ut.push((_p+256).toString(16).slice(1));function JB(t,e=0){return(ut[t[e+0]]+ut[t[e+1]]+ut[t[e+2]]+ut[t[e+3]]+"-"+ut[t[e+4]]+ut[t[e+5]]+"-"+ut[t[e+6]]+ut[t[e+7]]+"-"+ut[t[e+8]]+ut[t[e+9]]+"-"+ut[t[e+10]]+ut[t[e+11]]+ut[t[e+12]]+ut[t[e+13]]+ut[t[e+14]]+ut[t[e+15]]).toLowerCase()}var rc,ZB=new Uint8Array(16);function e5(){if(!rc&&(rc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rc(ZB)}var t5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const CT={randomUUID:t5};function n5(t,e,n){if(CT.randomUUID&&!e&&!t)return CT.randomUUID();t=t||{};var r=t.random||(t.rng||e5)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,JB(r)}const r5=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(""),[d,h]=b.useState(!1),f=Ps(),g=async()=>{try{await sj(kr(Cr,"users",l),{uid:n5(),name:t,email:l,phone:n,password:i,role:"Customer"})}catch(_){console.log(_)}},E=async()=>{if(t===""||n===""||i===""||o===""||l===""){alert("Please fill in all fields");return}if(!l.endsWith("@gmail.com")){alert("Invalid email! (example@gmail.com)");return}if(i.length<6){alert("Your password must be at least 6 characters");return}if(i!==o){alert("Your passwords do not match");return}try{h(!0),await MO(Vh,l,i),await g(),f("/")}catch(_){console.log(_)}finally{h(!1)}};return C.jsx("div",{className:"flex flex-col min-h-screen",children:C.jsx("div",{className:"bg-gray-300 flex flex-col flex-grow py-8",children:C.jsxs(hn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8},className:"container mx-auto px-4",children:[C.jsx("h1",{className:"text-3xl font-bold mb-5 text-center text-black",children:"Register"}),d&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-50 bg-black",children:C.jsx(ED,{loading:d,size:25,color:"white",margin:5})}),C.jsxs("form",{onSubmit:E,className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),C.jsx("input",{type:"text",id:"name",value:t,onChange:_=>e(_.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),C.jsx("input",{type:"email",id:"email",value:l,onChange:_=>c(_.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),C.jsx("input",{type:"tel",id:"phoneNumber",value:n,onChange:_=>r(_.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),C.jsx("input",{type:"password",id:"password",value:i,onChange:_=>s(_.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),C.jsx("input",{type:"password",id:"confirmPassword",value:o,onChange:_=>a(_.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"flex pt-3 pb-3 justify-end",children:[C.jsx("div",{className:"pr-2 text-sm",children:"Already have an account?"}),C.jsx("div",{type:"button",onClick:()=>f("/login"),className:"text-black text-sm underline hover:cursor-pointer",children:"Login here"})]}),C.jsx("div",{onClick:()=>E(),type:"button",className:"w-full text-center hover:cursor-pointer bg-black text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 py-2 px-4 rounded",children:"Register"}),C.jsx("div",{onClick:()=>f("/"),type:"button",className:"w-full mt-2 text-center hover:cursor-pointer border-[0.3vh] bg-white text-black hover:bg-gray-200 focus:outline focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 py-2 px-4 rounded",children:"Cancel"})]})]})})})},i5=()=>{const{setUserData:t,setAdmin:e}=b.useContext(Cs),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(!1),l=Ps(),c=async()=>{if(n===""||i===""){alert("Please fill in all required fields!");return}try{a(!0),await OO(Vh,n,i);const h=await d();h.role==="Admin"&&e(!0),t(h),l("/")}catch(h){console.error(h),alert("Invalid email or password!")}finally{a(!1)}},d=async()=>{try{const h=kr(Cr,"users",n),f=await Jo(h);return f.exists()?f.data():(console.log("Data does not exist in database!"),null)}catch(h){return console.error("Error getting document:",h),null}};return C.jsx("div",{className:"flex flex-col min-h-screen",children:C.jsx("div",{className:"bg-gray-300 flex flex-col flex-grow py-8",children:C.jsxs(hn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8},className:"container mx-auto px-4",children:[C.jsx("h1",{className:"text-3xl font-bold mb-5 mt-10 text-center text-black",children:"Login"}),o&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-50 bg-black",children:C.jsx(ED,{loading:o,size:25,color:"white",margin:5})}),C.jsxs("form",{onSubmit:c,className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),C.jsx("input",{type:"email",id:"email",value:n,onChange:h=>r(h.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),C.jsx("input",{type:"password",id:"password",value:i,onChange:h=>s(h.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-100 text-gray-800"})]}),C.jsxs("div",{className:"flex pt-3 pb-3",children:[C.jsx("div",{className:"pr-2 text-sm",children:"Don't have an account? "}),C.jsx("div",{type:"button",onClick:()=>l("/register"),className:"text-black text-sm underline hover:cursor-pointer",children:"Register here"})]}),C.jsx("div",{onClick:()=>c(),className:"w-full text-center hover:cursor-pointer bg-black text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 py-2 px-4 rounded",children:"Login"}),C.jsx("div",{onClick:()=>l("/"),type:"button",className:"w-full mt-2 text-center hover:cursor-pointer border-[0.3vh] bg-white text-black hover:bg-gray-200 focus:outline focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 py-2 px-4 rounded",children:"Cancel"})]})]})})})};function PD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PD(t))&&(r&&(r+=" "),r+=e);return r}function s5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cg(t,e)}function cg(t,e){return cg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cg(t,e)}function o5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a5(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function l5(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&a5(t,e,n))return!0;t=t.parentNode||t.host}return t}function u5(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var c5=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function d5(t){return t===void 0&&(t=0),function(){return++t}}var h5=d5(),dg,ic={},wp={},f5=["touchstart","touchmove"],p5="ignore-react-onclickoutside";function IT(t,e){var n={},r=f5.indexOf(e)!==-1;return r&&dg&&(n.passive=!t.props.preventDefault),n}function Hh(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(s){s5(o,s);function o(l){var c;return c=s.call(this,l)||this,c.__outsideClickHandler=function(d){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(d);return}var h=c.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(d);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(d);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var d=c.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():ph.findDOMNode(d)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||wp[c._uid])){typeof dg>"u"&&(dg=c5()),wp[c._uid]=!0;var d=c.props.eventTypes;d.forEach||(d=[d]),ic[c._uid]=function(h){if(c.componentNode!==null&&!(c.initTimeStamp>h.timeStamp)&&(c.props.preventDefault&&h.preventDefault(),c.props.stopPropagation&&h.stopPropagation(),!(c.props.excludeScrollbar&&u5(h)))){var f=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;l5(f,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(h)}},d.forEach(function(h){document.addEventListener(h,ic[c._uid],IT(DT(c),h))})}},c.disableOnClickOutside=function(){delete wp[c._uid];var d=ic[c._uid];if(d&&typeof document<"u"){var h=c.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(f){return document.removeEventListener(f,d,IT(DT(c),f))}),delete ic[c._uid]}},c.getRef=function(d){return c.instanceRef=d},c._uid=h5(),c.initTimeStamp=performance.now(),c}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var d=o5(c,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,b.createElement(t,d)},o}(b.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:p5,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function K(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function we(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Oi(t,e){const n=K(t);return isNaN(e)?we(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Rv(t,e){const n=+K(t);return we(t,n+e)}const kD=6048e5,m5=864e5,$h=6e4,Yh=36e5,g5=1e3;function y5(t,e){return Rv(t,e*Yh)}function hg(t,e){return Rv(t,e*$h)}function Cn(t,e){const n=K(t);if(isNaN(e))return we(t,NaN);if(!e)return n;const r=n.getDate(),i=we(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Av(t,e){const n=e*3;return Cn(t,n)}function v5(t,e){return Rv(t,e*1e3)}function Fd(t,e){const n=e*7;return Oi(t,n)}function gr(t,e){return Cn(t,e*12)}function ws(t){const e=K(t);return e.setHours(0,0,0,0),e}function jd(t){const e=K(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jl(t,e){const n=ws(t),r=ws(e),i=+n-jd(n),s=+r-jd(r);return Math.round((i-s)/m5)}function Ud(t,e){const n=K(t),r=K(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function is(t){const e=K(t);return Math.trunc(e.getMonth()/3)+1}function Bd(t,e){const n=K(t),r=K(e),i=n.getFullYear()-r.getFullYear(),s=is(n)-is(r);return i*4+s}function Wd(t,e){const n=K(t),r=K(e);return n.getFullYear()-r.getFullYear()}function CD(t){const e=K(t);return e.setHours(23,59,59,999),e}function _5(t){const e=K(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}let w5={};function Rs(){return w5}function E5(t,e){var a,l;const n=Rs(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=K(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function DD(t){const e=K(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}const T5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S5=(t,e,n)=>{let r;const i=T5[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ep(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const x5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C5={date:Ep({formats:x5,defaultWidth:"full"}),time:Ep({formats:P5,defaultWidth:"full"}),dateTime:Ep({formats:k5,defaultWidth:"full"})},D5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I5=(t,e,n,r)=>D5[t];function Pa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const b5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},V5={ordinalNumber:L5,era:Pa({values:b5,defaultWidth:"wide"}),quarter:Pa({values:R5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pa({values:A5,defaultWidth:"wide"}),day:Pa({values:N5,defaultWidth:"wide"}),dayPeriod:Pa({values:M5,defaultWidth:"wide",formattingValues:O5,defaultFormattingWidth:"wide"})};function ka(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?j5(a,h=>h.test(o)):F5(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function F5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function j5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function U5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const B5=/^(\d+)(th|st|nd|rd)?/i,W5=/\d+/i,z5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H5={any:[/^b/i,/^(a|c)/i]},$5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y5={any:[/1/i,/2/i,/3/i,/4/i]},K5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z5={ordinalNumber:U5({matchPattern:B5,parsePattern:W5,valueCallback:t=>parseInt(t,10)}),era:ka({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any"}),quarter:ka({matchPatterns:$5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ka({matchPatterns:K5,defaultMatchWidth:"wide",parsePatterns:q5,defaultParseWidth:"any"}),day:ka({matchPatterns:Q5,defaultMatchWidth:"wide",parsePatterns:G5,defaultParseWidth:"any"}),dayPeriod:ka({matchPatterns:X5,defaultMatchWidth:"any",parsePatterns:J5,defaultParseWidth:"any"})},ID={code:"en-US",formatDistance:S5,formatLong:C5,formatRelative:I5,localize:V5,match:Z5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kh(t){const e=K(t),n=we(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function e9(t){const e=K(t);return jl(e,Kh(e))+1}function Ir(t,e){var a,l,c,d;const n=Rs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=K(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lo(t){return Ir(t,{weekStartsOn:1})}function bD(t){const e=K(t),n=e.getFullYear(),r=we(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lo(r),s=we(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Lo(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function t9(t){const e=bD(t),n=we(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lo(n)}function Nv(t){const e=K(t),n=+Lo(e)-+t9(e);return Math.round(n/kD)+1}function Mv(t,e){var d,h,f,g;const n=K(t),r=n.getFullYear(),i=Rs(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=we(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Ir(o,e),l=we(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ir(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function n9(t,e){var a,l,c,d;const n=Rs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=Mv(t,e),s=we(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ir(s,e)}function RD(t,e){const n=K(t),r=+Ir(n,e)-+n9(n,e);return Math.round(r/kD)+1}function _e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return _e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_e(n+1,2)},d(t,e){return _e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _e(t.getHours()%12||12,e.length)},H(t,e){return _e(t.getHours(),e.length)},m(t,e){return _e(t.getMinutes(),e.length)},s(t,e){return _e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return _e(i,e.length)}},Vs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fr.y(t,e)},Y:function(t,e,n,r){const i=Mv(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return _e(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):_e(s,e.length)},R:function(t,e){const n=bD(t);return _e(n,e.length)},u:function(t,e){const n=t.getFullYear();return _e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return _e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=RD(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):_e(i,e.length)},I:function(t,e,n){const r=Nv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fr.d(t,e)},D:function(t,e,n){const r=e9(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return _e(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return _e(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return _e(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Vs.noon:r===0?i=Vs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Vs.evening:r>=12?i=Vs.afternoon:r>=4?i=Vs.morning:i=Vs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fr.s(t,e)},S:function(t,e){return Fr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return AT(r);case"XXXX":case"XX":return Yi(r);case"XXXXX":case"XXX":default:return Yi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return AT(r);case"xxxx":case"xx":return Yi(r);case"xxxxx":case"xxx":default:return Yi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RT(r,":");case"OOOO":default:return"GMT"+Yi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RT(r,":");case"zzzz":default:return"GMT"+Yi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return _e(r,e.length)},T:function(t,e,n){const r=t.getTime();return _e(r,e.length)}};function RT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+_e(s,2)}function AT(t,e){return t%60===0?(t>0?"-":"+")+_e(Math.abs(t)/60,2):Yi(t,e)}function Yi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=_e(Math.trunc(r/60),2),s=_e(r%60,2);return n+i+e+s}const NT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},r9=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return NT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",NT(r,e)).replace("{{time}}",AD(i,e))},zd={p:AD,P:r9},i9=/^D+$/,s9=/^Y+$/,o9=["D","DD","YY","YYYY"];function ND(t){return i9.test(t)}function MD(t){return s9.test(t)}function fg(t,e,n){const r=a9(t,e,n);if(console.warn(r),o9.includes(t))throw new RangeError(r)}function a9(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function yr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Hd(t){if(!yr(t)&&typeof t!="number")return!1;const e=K(t);return!isNaN(Number(e))}const l9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c9=/^'([^]*?)'?$/,d9=/''/g,h9=/[a-zA-Z]/;function MT(t,e,n){var d,h,f,g,E,_,S,y;const r=Rs(),i=(n==null?void 0:n.locale)??r.locale??ID,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((_=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((y=(S=r.locale)==null?void 0:S.options)==null?void 0:y.weekStartsOn)??0,a=K(t);if(!Hd(a))throw new RangeError("Invalid time value");let l=e.match(u9).map(v=>{const T=v[0];if(T==="p"||T==="P"){const A=zd[T];return A(v,i.formatLong)}return v}).join("").match(l9).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const T=v[0];if(T==="'")return{isToken:!1,value:f9(v)};if(bT[T])return{isToken:!0,value:v};if(T.match(h9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const T=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&MD(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ND(T))&&fg(T,e,String(t));const A=bT[T[0]];return A(a,T,i.localize,c)}).join("")}function f9(t){const e=t.match(c9);return e?e[1].replace(d9,"'"):t}function OT(t){return K(t).getDate()}function p9(t){return K(t).getDay()}function $n(t){return K(t).getHours()}function Yn(t){return K(t).getMinutes()}function Lt(t){return K(t).getMonth()}function vr(t){return K(t).getSeconds()}function pg(t){return K(t).getTime()}function le(t){return K(t).getFullYear()}function Pi(t,e){const n=K(t),r=K(e);return n.getTime()>r.getTime()}function Es(t,e){const n=K(t),r=K(e);return+n<+r}function m9(t,e){const n=K(t),r=K(e);return+n==+r}function g9(t,e){const n=ws(t),r=ws(e);return+n==+r}function y9(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function mg(t){const e=K(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function v9(t,e){const n=mg(t),r=mg(e);return+n==+r}function _9(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()}function Ul(t,e){const n=+K(t),[r,i]=[+K(e.start),+K(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function LT(t){let e;return t.forEach(function(n){const r=K(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function VT(t){let e;return t.forEach(n=>{const r=K(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function w9(){return Object.assign({},Rs())}function E9(t,e){const n=e instanceof Date?we(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const T9=10;class OD{constructor(){Y(this,"subPriority",0)}validate(e,n){return!0}}class S9 extends OD{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class x9 extends OD{constructor(){super(...arguments);Y(this,"priority",T9);Y(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:we(n,E9(n,Date))}}class ve{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new S9(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class P9 extends ve{constructor(){super(...arguments);Y(this,"priority",140);Y(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ke={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Nn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qe(t,e){return t&&{value:e(t.value),rest:t.rest}}function Le(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Mn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Yh+s*$h+o*g5),rest:e.slice(n[0].length)}}function LD(t){return Le(Ke.anyDigitsSigned,t)}function ze(t,e){switch(t){case 1:return Le(Ke.singleDigit,e);case 2:return Le(Ke.twoDigits,e);case 3:return Le(Ke.threeDigits,e);case 4:return Le(Ke.fourDigits,e);default:return Le(new RegExp("^\\d{1,"+t+"}"),e)}}function $d(t,e){switch(t){case 1:return Le(Ke.singleDigitSigned,e);case 2:return Le(Ke.twoDigitsSigned,e);case 3:return Le(Ke.threeDigitsSigned,e);case 4:return Le(Ke.fourDigitsSigned,e);default:return Le(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Ov(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function VD(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function FD(t){return t%400===0||t%4===0&&t%100!==0}class k9 extends ve{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return qe(ze(4,n),s);case"yo":return qe(i.ordinalNumber(n,{unit:"year"}),s);default:return qe(ze(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=VD(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class C9 extends ve{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return qe(ze(4,n),s);case"Yo":return qe(i.ordinalNumber(n,{unit:"year"}),s);default:return qe(ze(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Mv(n,s);if(i.isTwoDigitYear){const l=VD(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Ir(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Ir(n,s)}}class D9 extends ve{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return $d(r==="R"?4:r.length,n)}set(n,r,i){const s=we(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Lo(s)}}class I9 extends ve{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return $d(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class b9 extends ve{constructor(){super(...arguments);Y(this,"priority",120);Y(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return ze(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class R9 extends ve{constructor(){super(...arguments);Y(this,"priority",120);Y(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return ze(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class A9 extends ve{constructor(){super(...arguments);Y(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Y(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return qe(Le(Ke.month,n),s);case"MM":return qe(ze(2,n),s);case"Mo":return qe(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class N9 extends ve{constructor(){super(...arguments);Y(this,"priority",110);Y(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return qe(Le(Ke.month,n),s);case"LL":return qe(ze(2,n),s);case"Lo":return qe(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function M9(t,e,n){const r=K(t),i=RD(r,n)-e;return r.setDate(r.getDate()-i*7),r}class O9 extends ve{constructor(){super(...arguments);Y(this,"priority",100);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Le(Ke.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Ir(M9(n,i,s),s)}}function L9(t,e){const n=K(t),r=Nv(n)-e;return n.setDate(n.getDate()-r*7),n}class V9 extends ve{constructor(){super(...arguments);Y(this,"priority",100);Y(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Le(Ke.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Lo(L9(n,i))}}const F9=[31,28,31,30,31,30,31,31,30,31,30,31],j9=[31,29,31,30,31,30,31,31,30,31,30,31];class U9 extends ve{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"subPriority",1);Y(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Le(Ke.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return ze(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=FD(i),o=n.getMonth();return s?r>=1&&r<=j9[o]:r>=1&&r<=F9[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class B9 extends ve{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"subpriority",1);Y(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Le(Ke.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return ze(r.length,n)}}validate(n,r){const i=n.getFullYear();return FD(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Lv(t,e,n){var h,f,g,E;const r=Rs(),i=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((E=(g=r.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,s=K(t),o=s.getDay(),l=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return Oi(s,d)}class W9 extends ve{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Lv(n,i,s),n.setHours(0,0,0,0),n}}class z9 extends ve{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return qe(ze(r.length,n),o);case"eo":return qe(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Lv(n,i,s),n.setHours(0,0,0,0),n}}class H9 extends ve{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return qe(ze(r.length,n),o);case"co":return qe(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Lv(n,i,s),n.setHours(0,0,0,0),n}}function $9(t){let n=K(t).getDay();return n===0&&(n=7),n}function Y9(t,e){const n=K(t),r=$9(n),i=e-r;return Oi(n,i)}class K9 extends ve{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return ze(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return qe(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return qe(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return qe(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return qe(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Y9(n,i),n.setHours(0,0,0,0),n}}class q9 extends ve{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Ov(i),0,0,0),n}}class Q9 extends ve{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Ov(i),0,0,0),n}}class G9 extends ve{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Ov(i),0,0,0),n}}class X9 extends ve{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Le(Ke.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class J9 extends ve{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Le(Ke.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Z9 extends ve{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Le(Ke.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class e6 extends ve{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Le(Ke.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class t6 extends ve{constructor(){super(...arguments);Y(this,"priority",60);Y(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Le(Ke.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class n6 extends ve{constructor(){super(...arguments);Y(this,"priority",50);Y(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Le(Ke.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class r6 extends ve{constructor(){super(...arguments);Y(this,"priority",30);Y(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return qe(ze(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class i6 extends ve{constructor(){super(...arguments);Y(this,"priority",10);Y(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Mn(Nn.basicOptionalMinutes,n);case"XX":return Mn(Nn.basic,n);case"XXXX":return Mn(Nn.basicOptionalSeconds,n);case"XXXXX":return Mn(Nn.extendedOptionalSeconds,n);case"XXX":default:return Mn(Nn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:we(n,n.getTime()-jd(n)-i)}}class s6 extends ve{constructor(){super(...arguments);Y(this,"priority",10);Y(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Mn(Nn.basicOptionalMinutes,n);case"xx":return Mn(Nn.basic,n);case"xxxx":return Mn(Nn.basicOptionalSeconds,n);case"xxxxx":return Mn(Nn.extendedOptionalSeconds,n);case"xxx":default:return Mn(Nn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:we(n,n.getTime()-jd(n)-i)}}class o6 extends ve{constructor(){super(...arguments);Y(this,"priority",40);Y(this,"incompatibleTokens","*")}parse(n){return LD(n)}set(n,r,i){return[we(n,i*1e3),{timestampIsSet:!0}]}}class a6 extends ve{constructor(){super(...arguments);Y(this,"priority",20);Y(this,"incompatibleTokens","*")}parse(n){return LD(n)}set(n,r,i){return[we(n,i),{timestampIsSet:!0}]}}const l6={G:new P9,y:new k9,Y:new C9,R:new D9,u:new I9,Q:new b9,q:new R9,M:new A9,L:new N9,w:new O9,I:new V9,d:new U9,D:new B9,E:new W9,e:new z9,c:new H9,i:new K9,a:new q9,b:new Q9,B:new G9,h:new X9,H:new J9,K:new Z9,k:new e6,m:new t6,s:new n6,S:new r6,X:new i6,x:new s6,t:new o6,T:new a6},u6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d6=/^'([^]*?)'?$/,h6=/''/g,f6=/\S/,p6=/[a-zA-Z]/;function Tp(t,e,n,r){var _,S,y,v,T,A,M,V;const i=w9(),s=(r==null?void 0:r.locale)??i.locale??ID,o=(r==null?void 0:r.firstWeekContainsDate)??((S=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(y=i.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((A=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((V=(M=i.locale)==null?void 0:M.options)==null?void 0:V.weekStartsOn)??0;if(e==="")return t===""?K(n):we(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},c=[new x9],d=e.match(c6).map(P=>{const w=P[0];if(w in zd){const k=zd[w];return k(P,s.formatLong)}return P}).join("").match(u6),h=[];for(let P of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&MD(P)&&fg(P,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ND(P)&&fg(P,e,t);const w=P[0],k=l6[w];if(k){const{incompatibleTokens:D}=k;if(Array.isArray(D)){const N=h.find(I=>D.includes(I.token)||I.token===w);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${P}\` at the same time`)}else if(k.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);h.push({token:w,fullToken:P});const R=k.run(t,P,s.match,l);if(!R)return we(n,NaN);c.push(R.setter),t=R.rest}else{if(w.match(p6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(P==="''"?P="'":w==="'"&&(P=m6(P)),t.indexOf(P)===0)t=t.slice(P.length);else return we(n,NaN)}}if(t.length>0&&f6.test(t))return we(n,NaN);const f=c.map(P=>P.priority).sort((P,w)=>w-P).filter((P,w,k)=>k.indexOf(P)===w).map(P=>c.filter(w=>w.priority===P).sort((w,k)=>k.subPriority-w.subPriority)).map(P=>P[0]);let g=K(n);if(isNaN(g.getTime()))return we(n,NaN);const E={};for(const P of f){if(!P.validate(g,l))return we(n,NaN);const w=P.set(g,E,l);Array.isArray(w)?(g=w[0],Object.assign(E,w[1])):g=w}return we(n,g)}function m6(t){return t.match(d6)[1].replace(h6,"'")}function g6(t,e){const r=w6(t);let i;if(r.date){const l=E6(r.date,2);i=T6(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=S6(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=x6(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+a)}const sc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},y6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function w6(t){const e={},n=t.split(sc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],sc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(sc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=sc.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function E6(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function T6(t,e){if(e===null)return new Date(NaN);const n=t.match(y6);if(!n)return new Date(NaN);const r=!!n[4],i=Ca(n[1]),s=Ca(n[2])-1,o=Ca(n[3]),a=Ca(n[4]),l=Ca(n[5])-1;if(r)return I6(e,a,l)?P6(e,a,l):new Date(NaN);{const c=new Date(0);return!C6(e,s,o)||!D6(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function Ca(t){return t?parseInt(t):1}function S6(t){const e=t.match(v6);if(!e)return NaN;const n=Sp(e[1]),r=Sp(e[2]),i=Sp(e[3]);return b6(n,r,i)?n*Yh+r*$h+i*1e3:NaN}function Sp(t){return t&&parseFloat(t.replace(",","."))||0}function x6(t){if(t==="Z")return 0;const e=t.match(_6);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return R6(r,i)?n*(r*Yh+i*$h):NaN}function P6(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const k6=[31,null,31,30,31,30,31,31,30,31,30,31];function jD(t){return t%400===0||t%4===0&&t%100!==0}function C6(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(k6[e]||(jD(t)?29:28))}function D6(t,e){return e>=1&&e<=(jD(t)?366:365)}function I6(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function b6(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function R6(t,e){return e>=0&&e<=59}function A6(t){const e=K(t),n=e.getFullYear(),r=e.getMonth(),i=we(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Gt(t,e){const n=K(t),r=n.getFullYear(),i=n.getDate(),s=we(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=A6(s);return n.setMonth(e,Math.min(i,o)),n}function N6(t,e){let n=K(t);return isNaN(+n)?we(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Gt(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Oc(t,e){const n=K(t);return n.setHours(e),n}function Lc(t,e){const n=K(t);return n.setMinutes(e),n}function Bs(t,e){const n=K(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return Gt(n,n.getMonth()+i*3)}function Vc(t,e){const n=K(t);return n.setSeconds(e),n}function bn(t,e){const n=K(t);return isNaN(+n)?we(t,NaN):(n.setFullYear(e),n)}function UD(t){const e=K(t);return e.setDate(1),e.setHours(0,0,0,0),e}function M6(t,e){return Oi(t,-e)}function Vo(t,e){return Cn(t,-e)}function BD(t,e){return Av(t,-e)}function FT(t,e){return Fd(t,-e)}function Fo(t,e){return gr(t,-e)}function ea(t){return WD(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ar(t){var e;return(e=(WD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WD(t){return t instanceof Node||t instanceof tn(t).Node}function Ht(t){return t instanceof Element||t instanceof tn(t).Element}function Qn(t){return t instanceof HTMLElement||t instanceof tn(t).HTMLElement}function jT(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function du(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=yn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function O6(t){return["table","td","th"].includes(ea(t))}function qh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vv(t){const e=Fv(),n=yn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function L6(t){let e=ki(t);for(;Qn(e)&&!jo(e);){if(qh(e))return null;if(Vv(e))return e;e=ki(e)}return null}function Fv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jo(t){return["html","body","#document"].includes(ea(t))}function yn(t){return tn(t).getComputedStyle(t)}function Qh(t){return Ht(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ki(t){if(ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jT(t)&&t.host||Ar(t);return jT(e)?e.host:e}function zD(t){const e=ki(t);return jo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qn(e)&&du(e)?e:zD(e)}function Bl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=zD(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=tn(i);return s?e.concat(o,o.visualViewport||[],du(i)?i:[],o.frameElement&&n?Bl(o.frameElement):[]):e.concat(i,Bl(i,[],n))}const Uo=Math.min,ss=Math.max,Yd=Math.round,oc=Math.floor,Ci=t=>({x:t,y:t}),V6={left:"right",right:"left",bottom:"top",top:"bottom"},F6={start:"end",end:"start"};function j6(t,e,n){return ss(t,Uo(e,n))}function Gh(t,e){return typeof t=="function"?t(e):t}function Bo(t){return t.split("-")[0]}function hu(t){return t.split("-")[1]}function U6(t){return t==="x"?"y":"x"}function jv(t){return t==="y"?"height":"width"}function Wl(t){return["top","bottom"].includes(Bo(t))?"y":"x"}function Uv(t){return U6(Wl(t))}function B6(t,e,n){n===void 0&&(n=!1);const r=hu(t),i=Uv(t),s=jv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Kd(o)),[o,Kd(o)]}function W6(t){const e=Kd(t);return[gg(t),e,gg(e)]}function gg(t){return t.replace(/start|end/g,e=>F6[e])}function z6(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function H6(t,e,n,r){const i=hu(t);let s=z6(Bo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(gg)))),s}function Kd(t){return t.replace(/left|right|bottom|top/g,e=>V6[e])}function $6(t){return{top:0,right:0,bottom:0,left:0,...t}}function HD(t){return typeof t!="number"?$6(t):{top:t,right:t,bottom:t,left:t}}function qd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function UT(t,e,n){let{reference:r,floating:i}=t;const s=Wl(e),o=Uv(e),a=jv(o),l=Bo(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(hu(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const Y6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=UT(c,r,l),f=r,g={},E=0;for(let _=0;_<a.length;_++){const{name:S,fn:y}=a[_],{x:v,y:T,data:A,reset:M}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,h=T??h,g={...g,[S]:{...g[S],...A}},M&&E<=50&&(E++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:d,y:h}=UT(c,f,l)),_=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:g}};async function K6(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Gh(e,t),E=HD(g),S=a[f?h==="floating"?"reference":"floating":h],y=qd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},M=qd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(y.top-M.top+E.top)/A.y,bottom:(M.bottom-y.bottom+E.bottom)/A.y,left:(y.left-M.left+E.left)/A.x,right:(M.right-y.right+E.right)/A.x}}const q6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Gh(t,e)||{};if(c==null)return{};const h=HD(d),f={x:n,y:r},g=Uv(i),E=jv(g),_=await o.getDimensions(c),S=g==="y",y=S?"top":"left",v=S?"bottom":"right",T=S?"clientHeight":"clientWidth",A=s.reference[E]+s.reference[g]-f[g]-s.floating[E],M=f[g]-s.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let P=V?V[T]:0;(!P||!await(o.isElement==null?void 0:o.isElement(V)))&&(P=a.floating[T]||s.floating[E]);const w=A/2-M/2,k=P/2-_[E]/2-1,D=Uo(h[y],k),R=Uo(h[v],k),N=D,I=P-_[E]-R,X=P/2-_[E]/2+w,Q=j6(N,X,I),Z=!l.arrow&&hu(i)!=null&&X!==Q&&s.reference[E]/2-(X<N?D:R)-_[E]/2<0,J=Z?X<N?X-N:X-I:0;return{[g]:f[g]+J,data:{[g]:Q,centerOffset:X-Q-J,...Z&&{alignmentOffset:J}},reset:Z}}}),Q6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...S}=Gh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Bo(i),v=Wl(a),T=Bo(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=f||(T||!_?[Kd(a)]:W6(a)),V=E!=="none";!f&&V&&M.push(...H6(a,_,E,A));const P=[a,...M],w=await K6(e,S),k=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(w[y]),h){const X=B6(i,o,A);k.push(w[X[0]],w[X[1]])}if(D=[...D,{placement:i,overflows:k}],!k.every(X=>X<=0)){var R,N;const X=(((R=s.flip)==null?void 0:R.index)||0)+1,Q=P[X];if(Q)return{data:{index:X,overflows:D},reset:{placement:Q}};let Z=(N=D.filter(J=>J.overflows[0]<=0).sort((J,W)=>J.overflows[1]-W.overflows[1])[0])==null?void 0:N.placement;if(!Z)switch(g){case"bestFit":{var I;const J=(I=D.filter(W=>{if(V){const H=Wl(W.placement);return H===v||H==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(H=>H>0).reduce((H,oe)=>H+oe,0)]).sort((W,H)=>W[1]-H[1])[0])==null?void 0:I[0];J&&(Z=J);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};async function G6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Bo(n),a=hu(n),l=Wl(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Gh(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*d,y:f*c}:{x:f*c,y:g*d}}const X6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await G6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function $D(t){const e=yn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Yd(n)!==s||Yd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Bv(t){return Ht(t)?t:t.contextElement}function yo(t){const e=Bv(t);if(!Qn(e))return Ci(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=$D(e);let o=(s?Yd(n.width):n.width)/r,a=(s?Yd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const J6=Ci(0);function YD(t){const e=tn(t);return!Fv()||!e.visualViewport?J6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Z6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function Ts(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Bv(t);let o=Ci(1);e&&(r?Ht(r)&&(o=yo(r)):o=yo(t));const a=Z6(s,n,r)?YD(s):Ci(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=tn(s),g=r&&Ht(r)?tn(r):r;let E=f,_=E.frameElement;for(;_&&r&&g!==E;){const S=yo(_),y=_.getBoundingClientRect(),v=yn(_),T=y.left+(_.clientLeft+parseFloat(v.paddingLeft))*S.x,A=y.top+(_.clientTop+parseFloat(v.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=T,c+=A,E=tn(_),_=E.frameElement}}return qd({width:d,height:h,x:l,y:c})}function eW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ar(r),a=e?qh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ci(1);const d=Ci(0),h=Qn(r);if((h||!h&&!s)&&((ea(r)!=="body"||du(o))&&(l=Qh(r)),Qn(r))){const f=Ts(r);c=yo(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function tW(t){return Array.from(t.getClientRects())}function KD(t){return Ts(Ar(t)).left+Qh(t).scrollLeft}function nW(t){const e=Ar(t),n=Qh(t),r=t.ownerDocument.body,i=ss(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ss(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+KD(t);const a=-n.scrollTop;return yn(r).direction==="rtl"&&(o+=ss(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function rW(t,e){const n=tn(t),r=Ar(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Fv();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function iW(t,e){const n=Ts(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Qn(t)?yo(t):Ci(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function BT(t,e,n){let r;if(e==="viewport")r=rW(t,n);else if(e==="document")r=nW(Ar(t));else if(Ht(e))r=iW(e,n);else{const i=YD(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return qd(r)}function qD(t,e){const n=ki(t);return n===e||!Ht(n)||jo(n)?!1:yn(n).position==="fixed"||qD(n,e)}function sW(t,e){const n=e.get(t);if(n)return n;let r=Bl(t,[],!1).filter(a=>Ht(a)&&ea(a)!=="body"),i=null;const s=yn(t).position==="fixed";let o=s?ki(t):t;for(;Ht(o)&&!jo(o);){const a=yn(o),l=Vv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||du(o)&&!l&&qD(t,o))?r=r.filter(d=>d!==o):i=a,o=ki(o)}return e.set(t,r),r}function oW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?qh(e)?[]:sW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=BT(e,d,i);return c.top=ss(h.top,c.top),c.right=Uo(h.right,c.right),c.bottom=Uo(h.bottom,c.bottom),c.left=ss(h.left,c.left),c},BT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aW(t){const{width:e,height:n}=$D(t);return{width:e,height:n}}function lW(t,e,n){const r=Qn(e),i=Ar(e),s=n==="fixed",o=Ts(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ci(0);if(r||!r&&!s)if((ea(e)!=="body"||du(i))&&(a=Qh(e)),r){const h=Ts(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=KD(i));const c=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function xp(t){return yn(t).position==="static"}function WT(t,e){return!Qn(t)||yn(t).position==="fixed"?null:e?e(t):t.offsetParent}function QD(t,e){const n=tn(t);if(qh(t))return n;if(!Qn(t)){let i=ki(t);for(;i&&!jo(i);){if(Ht(i)&&!xp(i))return i;i=ki(i)}return n}let r=WT(t,e);for(;r&&O6(r)&&xp(r);)r=WT(r,e);return r&&jo(r)&&xp(r)&&!Vv(r)?n:r||L6(t)||n}const uW=async function(t){const e=this.getOffsetParent||QD,n=this.getDimensions,r=await n(t.floating);return{reference:lW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cW(t){return yn(t).direction==="rtl"}const dW={convertOffsetParentRelativeRectToViewportRelativeRect:eW,getDocumentElement:Ar,getClippingRect:oW,getOffsetParent:QD,getElementRects:uW,getClientRects:tW,getDimensions:aW,getScale:yo,isElement:Ht,isRTL:cW};function hW(t,e){let n=null,r;const i=Ar(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const g=oc(d),E=oc(i.clientWidth-(c+h)),_=oc(i.clientHeight-(d+f)),S=oc(c),v={rootMargin:-g+"px "+-E+"px "+-_+"px "+-S+"px",threshold:ss(0,Uo(1,l))||1};let T=!0;function A(M){const V=M[0].intersectionRatio;if(V!==l){if(!T)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(A,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,v)}n.observe(t)}return o(!0),s}function fW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Bv(t),d=i||s?[...c?Bl(c):[],...Bl(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=c&&a?hW(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let E,_=l?Ts(t):null;l&&S();function S(){const y=Ts(t);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,E=requestAnimationFrame(S)}return n(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const pW=X6,mW=Q6,zT=q6,gW=(t,e,n)=>{const r=new Map,i={platform:dW,...n},s={...i.platform,_c:r};return Y6(t,e,{...i,platform:s})};var Fc=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Qd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function GD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HT(t,e){const n=GD(t);return Math.round(e*n)/n}function $T(t){const e=b.useRef(t);return Fc(()=>{e.current=t}),e}function yW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=b.useState(r);Qd(f,r)||g(r);const[E,_]=b.useState(null),[S,y]=b.useState(null),v=b.useCallback(J=>{J!==V.current&&(V.current=J,_(J))},[]),T=b.useCallback(J=>{J!==P.current&&(P.current=J,y(J))},[]),A=s||E,M=o||S,V=b.useRef(null),P=b.useRef(null),w=b.useRef(d),k=l!=null,D=$T(l),R=$T(i),N=b.useCallback(()=>{if(!V.current||!P.current)return;const J={placement:e,strategy:n,middleware:f};R.current&&(J.platform=R.current),gW(V.current,P.current,J).then(W=>{const H={...W,isPositioned:!0};I.current&&!Qd(w.current,H)&&(w.current=H,ph.flushSync(()=>{h(H)}))})},[f,e,n,R]);Fc(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(J=>({...J,isPositioned:!1})))},[c]);const I=b.useRef(!1);Fc(()=>(I.current=!0,()=>{I.current=!1}),[]),Fc(()=>{if(A&&(V.current=A),M&&(P.current=M),A&&M){if(D.current)return D.current(A,M,N);N()}},[A,M,N,D,k]);const X=b.useMemo(()=>({reference:V,floating:P,setReference:v,setFloating:T}),[v,T]),Q=b.useMemo(()=>({reference:A,floating:M}),[A,M]),Z=b.useMemo(()=>{const J={position:n,left:0,top:0};if(!Q.floating)return J;const W=HT(Q.floating,d.x),H=HT(Q.floating,d.y);return a?{...J,transform:"translate("+W+"px, "+H+"px)",...GD(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:H}},[n,a,Q.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:N,refs:X,elements:Q,floatingStyles:Z}),[d,N,X,Q,Z])}const vW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zT({element:r.current,padding:i}).fn(n):{}:r?zT({element:r,padding:i}).fn(n):{}}}},_W=(t,e)=>({...pW(t),options:[t,e]}),wW=(t,e)=>({...mW(t),options:[t,e]}),EW=(t,e)=>({...vW(t),options:[t,e]}),XD={...TS},TW=XD.useInsertionEffect,SW=TW||(t=>t());function xW(t){const e=b.useRef(()=>{});return SW(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Gd=typeof document<"u"?b.useLayoutEffect:b.useEffect;function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}let YT=!1,PW=0;const KT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PW++;function kW(){const[t,e]=b.useState(()=>YT?KT():void 0);return Gd(()=>{t==null&&e(KT())},[]),b.useEffect(()=>{YT=!0},[]),t}const CW=XD.useId,JD=CW||kW,DW=b.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s}},width:o=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:d,stroke:h,d:f,style:{transform:g,...E}={},..._}=e,S=JD(),[y,v]=b.useState(!1);if(Gd(()=>{if(!i)return;yn(i).direction==="rtl"&&v(!0)},[i]),!i)return null;const T=c*2,A=T/2,M=o/2*(l/-8+1),V=a/2*l/4,[P,w]=r.split("-"),k=!!f,D=P==="top"||P==="bottom",R=d&&w==="end"?"bottom":"top";let N=d&&w==="end"?"right":"left";d&&y&&(N=w==="end"?"left":"right");const I=(s==null?void 0:s.x)!=null?d||s.x:"",X=(s==null?void 0:s.y)!=null?d||s.y:"",Q=f||"M0,0"+(" H"+o)+(" L"+(o-M)+","+(a-V))+(" Q"+o/2+","+a+" "+M+","+(a-V))+" Z",Z={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[P];return b.createElement("svg",yg({},_,{"aria-hidden":!0,ref:n,width:k?o:o+T,height:o,viewBox:"0 0 "+o+" "+(a>o?a:o),style:{position:"absolute",pointerEvents:"none",[N]:I,[R]:X,[P]:D||k?"100%":"calc(100% - "+T/2+"px)",transform:""+Z+(g??""),...E}}),T>0&&b.createElement("path",{clipPath:"url(#"+S+")",fill:"none",stroke:h,strokeWidth:T+(f?0:1),d:Q}),b.createElement("path",{stroke:T&&!f?_.fill:"none",d:Q}),b.createElement("clipPath",{id:S},b.createElement("rect",{x:-A,y:A*(k?-1:1),width:o+T,height:o})))});function IW(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const bW=b.createContext(null),RW=b.createContext(null),AW=()=>{var t;return((t=b.useContext(bW))==null?void 0:t.id)||null},NW=()=>b.useContext(RW);function MW(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=JD(),s=b.useRef({}),[o]=b.useState(()=>IW()),a=AW()!=null,[l,c]=b.useState(r.reference),d=xW((g,E,_)=>{s.current.openEvent=g?E:void 0,o.emit("openchange",{open:g,event:E,reason:_,nested:a}),n==null||n(g,E,_)}),h=b.useMemo(()=>({setPositionReference:c}),[]),f=b.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return b.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:f,events:o,floatingId:i,refs:h}),[e,d,f,o,i,h])}function OW(t){t===void 0&&(t={});const{nodeId:e}=t,n=MW({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=b.useState(null),[a,l]=b.useState(null),d=(i==null?void 0:i.reference)||s,h=b.useRef(null),f=NW();Gd(()=>{d&&(h.current=d)},[d]);const g=yW({...t,elements:{...i,...a&&{reference:a}}}),E=b.useCallback(T=>{const A=Ht(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(A),g.refs.setReference(A)},[g.refs]),_=b.useCallback(T=>{(Ht(T)||T===null)&&(h.current=T,o(T)),(Ht(g.refs.reference.current)||g.refs.reference.current===null||T!==null&&!Ht(T))&&g.refs.setReference(T)},[g.refs]),S=b.useMemo(()=>({...g.refs,setReference:_,setPositionReference:E,domReference:h}),[g.refs,_,E]),y=b.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),v=b.useMemo(()=>({...g,...r,refs:S,elements:y,nodeId:e}),[g,S,y,e,r]);return Gd(()=>{r.dataRef.current.floatingContext=v;const T=f==null?void 0:f.nodesRef.current.find(A=>A.id===e);T&&(T.context=v)}),b.useMemo(()=>({...g,context:v,refs:S,elements:y}),[g,S,y,v])}/*!
  react-datepicker v7.2.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var vg=function(e,n){return vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},vg(e,n)};function at(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pe=function(){return pe=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},pe.apply(this,arguments)};function Ln(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var LW=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return F.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},$;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})($||($={}));function ZD(){var t=typeof window<"u"?window:globalThis;return t}var fu=12,VW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ee(t){if(t==null)return new Date;var e=typeof t=="string"?g6(t):K(t);return ir(e)?e:new Date}function FW(t,e,n,r,i){var s,o=null,a=os(n)||os(sl()),l=!0;if(Array.isArray(e))return e.forEach(function(d){var h=Tp(t,d,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=ir(h,i)&&t===Re(h,d,n)),ir(h,i)&&l&&(o=h)}),o;if(o=Tp(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=ir(o)&&t===Re(o,e,n);else if(!ir(o)){var c=((s=e.match(VW))!==null&&s!==void 0?s:[]).map(function(d){var h=d[0];if(h==="p"||h==="P"){var f=zd[h];return a?f(d,a.formatLong):h}return d}).join("");t.length>0&&(o=Tp(t,c.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),ir(o)||(o=new Date(t))}return ir(o)&&l?o:null}function ir(t,e){return Hd(t)&&!Es(t,e??new Date("1/1/1800"))}function Re(t,e,n){if(n==="en")return MT(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?os(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&sl()&&os(sl())&&(r=os(sl())),MT(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function un(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Re(t,i,r)||""}function jW(t,e,n){if(!t)return"";var r=un(t,n),i=e?un(e,n):"";return"".concat(r," - ").concat(i)}function UW(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?un(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=un(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Pp(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return Oc(Lc(Vc(t,a),s),r)}function BW(t){return Nv(t)}function WW(t,e){return Re(t,"ddd",e)}function jc(t){return ws(t)}function gi(t,e,n){var r=os(e||sl());return Ir(t,{locale:r,weekStartsOn:n})}function yi(t){return UD(t)}function ja(t){return Kh(t)}function qT(t){return mg(t)}function QT(){return ws(Ee())}function GT(t){return CD(t)}function zW(t){return E5(t)}function Rn(t,e){return t&&e?_9(t,e):!t&&!e}function Ot(t,e){return t&&e?y9(t,e):!t&&!e}function Xd(t,e){return t&&e?v9(t,e):!t&&!e}function fe(t,e){return t&&e?g9(t,e):!t&&!e}function Ji(t,e){return t&&e?m9(t,e):!t&&!e}function Ua(t,e,n){var r,i=ws(e),s=CD(n);try{r=Ul(t,{start:i,end:s})}catch{r=!1}return r}function sl(){var t=ZD();return t.__localeId__}function os(t){if(typeof t=="string"){var e=ZD();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function HW(t,e,n){return e(Re(t,"EEEE",n))}function $W(t,e){return Re(t,"EEEEEE",e)}function YW(t,e){return Re(t,"EEE",e)}function Wv(t,e){return Re(Gt(Ee(),t),"LLLL",e)}function eI(t,e){return Re(Gt(Ee(),t),"LLL",e)}function KW(t,e){return Re(Bs(Ee(),t),"QQQ",e)}function ei(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return pu(t,{minDate:r,maxDate:i})||s&&s.some(function(d){var h;return d instanceof Date?fe(t,d):fe(t,(h=d.date)!==null&&h!==void 0?h:new Date)})||o&&o.some(function(d){var h=d.start,f=d.end;return Ul(t,{start:h,end:f})})||a&&!a.some(function(d){return fe(t,d)})||l&&!l.some(function(d){var h=d.start,f=d.end;return Ul(t,{start:h,end:f})})||c&&!c(Ee(t))||!1}function zv(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Ul(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?fe(t,s):fe(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function tI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return pu(t,{minDate:r?UD(r):void 0,maxDate:i?_5(i):void 0})||(s==null?void 0:s.some(function(l){return Ot(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Ot(t,l)})||a&&!a(Ee(t))||!1}function ac(t,e,n,r){var i=le(t),s=Lt(t),o=le(e),a=Lt(e),l=le(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function qW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return pu(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return Ot(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Ot(a,t)})||!1}function kp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return pu(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return Xd(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Xd(t,l)})||a&&!a(Ee(t))||!1}function lc(t,e,n){if(!e||!n||!Hd(e)||!Hd(n))return!1;var r=le(e),i=le(n);return r<=t&&i>=t}function nI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return pu(l,{minDate:r?Kh(r):void 0,maxDate:i?DD(i):void 0})||(s==null?void 0:s.some(function(c){return Rn(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Rn(l,c)})||a&&!a(Ee(l))||!1}function uc(t,e,n,r){var i=le(t),s=is(t),o=le(e),a=is(e),l=le(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function pu(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&jl(t,i)<0||s&&jl(t,s)>0)!==null&&n!==void 0?n:!1}function XT(t,e){return e.some(function(n){return $n(n)===$n(t)&&Yn(n)===Yn(t)&&vr(n)===vr(t)})}function JT(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&XT(t,r)||i&&!XT(t,i)||s&&!s(t)||!1}function ZT(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ee();i=Oc(i,$n(t)),i=Lc(i,Yn(t)),i=Vc(i,vr(t));var s=Ee();s=Oc(s,$n(n)),s=Lc(s,Yn(n)),s=Vc(s,vr(n));var o=Ee();o=Oc(o,$n(r)),o=Lc(o,Yn(r)),o=Vc(o,vr(r));var a;try{a=!Ul(i,{start:s,end:o})}catch{a=!1}return a}function eS(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Vo(t,1);return r&&Ud(r,s)>0||i&&i.every(function(o){return Ud(o,s)>0})||!1}function tS(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Cn(t,1);return r&&Ud(s,r)>0||i&&i.every(function(o){return Ud(s,o)>0})||!1}function QW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Kh(t),o=BD(s,1);return r&&Bd(r,o)>0||i&&i.every(function(a){return Bd(a,o)>0})||!1}function GW(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=DD(t),o=Av(s,1);return r&&Bd(o,r)>0||i&&i.every(function(a){return Bd(o,a)>0})||!1}function nS(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Fo(t,1);return r&&Wd(r,s)>0||i&&i.every(function(o){return Wd(o,s)>0})||!1}function XW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?fu:i,o=ja(Fo(t,s)),a=ti(o,s).endPeriod,l=r&&le(r);return l&&l>a||!1}function rS(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=gr(t,1);return r&&Wd(s,r)>0||i&&i.every(function(o){return Wd(s,o)>0})||!1}function JW(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?fu:i,o=gr(t,s),a=ti(o,s).startPeriod,l=r&&le(r);return l&&l<a||!1}function rI(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return jl(i,e)>=0});return VT(r)}else return n?VT(n):e}function iI(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return jl(i,e)<=0});return LT(r)}else return n?LT(n):e}function iS(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(yr(o)){var a=Re(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),d=(n=c[0])!==null&&n!==void 0?n:"",h=o[d];if(typeof d=="string"&&Array.isArray(h))for(var f=0,g=h.length;f<g;f++){var E=h[f];if(E){var a=Re(E,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function ZW(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function ez(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(yr(i)){var o=Re(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&ZW(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?Ln(Ln([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function tz(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,c=i[a];c&&(l=y5(l,$n(c)),l=hg(l,Yn(c)),l=v5(l,vr(c)));var d=hg(t,(n+1)*r);Pi(l,e)&&Es(l,d)&&c!=null&&o.push(c)}return o}function sS(t){return t<10?"0".concat(t):"".concat(t)}function ti(t,e){e===void 0&&(e=fu);var n=Math.ceil(le(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function nz(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function oS(t){var e=t.getSeconds(),n=t.getMilliseconds();return K(t.getTime()-e*1e3-n)}function rz(t,e){return oS(t).getTime()===oS(e).getTime()}function aS(t){if(!yr(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function lS(t,e){if(!yr(t)||!yr(e))throw new Error("Invalid date received");var n=aS(t),r=aS(e);return Es(n,r)}function sI(t){return t.key===$.Space}var iz=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),h=d[0],f=d[1];c.setHours(Number(h)),c.setMinutes(Number(f))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?b.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):F.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return F.createElement("div",{className:"react-datepicker__input-time-container"},F.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),F.createElement("div",{className:"react-datepicker-time__input-container"},F.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(b.Component),sz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=b.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===$.Space&&(r.preventDefault(),r.key=$.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return fe(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected);return!i&&n.isSameDayOrWeek(n.props.preSelection)},n.isDisabled=function(){return ei(n.props.day,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return zv(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return fe(n.props.day,gi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&fe(r,gi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Re(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Re(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Ua(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,h=i.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!f||!c&&n.isDisabled()?!1:o&&h&&(Es(f,h)||Ji(f,h))?Ua(s,f,h):a&&d&&(Pi(f,d)||Ji(f,d))||l&&d&&!h&&(Pi(f,d)||Ji(f,d))?Ua(s,d,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?fe(s,l):fe(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?fe(s,c):fe(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:fe(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:fe(o,i)},n.isWeekend=function(){var r=p9(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Lt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Lt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ee())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return st("react-datepicker__day",i,"react-datepicker__day--"+WW(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:o;return"".concat(c," ").concat(Re(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=Re(i,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?fe(d,i):fe(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&fe(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(OT(n.props.day),n.props.day):OT(n.props.day)},n.render=function(){return F.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&F.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(b.Component),oz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=b.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===$.Space&&(r.preventDefault(),r.key=$.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!fe(n.props.date,n.props.selected)&&fe(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||fe(n.props.date,n.props.selected)&&fe(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&fe(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,s=i===void 0?e.defaultProps.ariaLabelPrefix:i,o=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&fe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{ref:this.weekNumberEl,className:st(a),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(b.Component),az=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,c=new Date(r),d=0;d<7;d++){var h=new Date(r);h.setDate(h.getDate()+d);var f=!n.isDisabled(h);if(f){c=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,s),n.props.showWeekPicker&&n.handleDayClick(c,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):BW(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(F.createElement(oz,pe({key:"W"},e.defaultProps,n.props,{weekNumber:s,date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=Oi(r,a);return F.createElement(sz,pe({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return gi(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!fe(n.startOfWeek(),n.props.selected)&&fe(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{className:st(n)},this.renderDays())},e}(b.Component),Da,lz=6,vo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Cp=(Da={},Da[vo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Da[vo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Da[vo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Da),cc=1;function uS(t,e){return t?vo.FOUR_COLUMNS:e?vo.TWO_COLUMNS:vo.THREE_COLUMNS}var uz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Ln([],Array(12),!0).map(function(){return b.createRef()}),n.QUARTER_REFS=Ln([],Array(4),!0).map(function(){return b.createRef()}),n.isDisabled=function(r){return ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return zv(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Ot(Gt(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Xd(Bs(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Ot(Gt(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Xd(Bs(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&h?ac(f,h,r,o):l&&d||c&&d&&!h?ac(d,f,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,c=Gt(o,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Ot(c,d):Ot(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=Gt(o,r),h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||c?Ot(d,h):Ot(d,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&h?uc(f,h,r,o):l&&d||c&&d&&!h?uc(d,f,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=Oi(r,6);return Ot(r,i)||Ot(s,i)},n.isCurrentMonth=function(r,i){return le(r)===le(Ee())&&i===Lt(Ee())},n.isCurrentQuarter=function(r,i){return le(r)===le(Ee())&&i===is(Ee())},n.isSelectedMonth=function(r,i,s){return Lt(s)===i&&le(r)===le(s)},n.isSelectedQuarter=function(r,i,s){return is(r)===i&&le(r)===le(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=gi(yi(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(E){return n.props.showWeekPicker?gi(E,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(E){return n.props.showWeekPicker?gi(E,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?c(n.props.selected):void 0,h=n.props.preSelection?l(n.props.preSelection):void 0;r.push(F.createElement(az,pe({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:Lt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=Fd(a,1);var f=i&&s>=lz,g=!i&&!n.isWeekInMonth(a);if(f||g)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(yi(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(yi(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,c=a.preSelection,d=a.setPreSelection,h=a.minDate,f=a.maxDate,g=a.showFourColumnMonthYearPicker,E=a.showTwoColumnMonthYearPicker;if(c){var _=uS(g,E),S=n.getVerticalOffset(_),y=(o=Cp[_])===null||o===void 0?void 0:o.grid,v=function(P,w,k){var D,R,N=w,I=k;switch(P){case $.ArrowRight:N=Cn(w,cc),I=k===11?0:k+cc;break;case $.ArrowLeft:N=Vo(w,cc),I=k===0?11:k-cc;break;case $.ArrowUp:N=Vo(w,S),I=!((D=y==null?void 0:y[0])===null||D===void 0)&&D.includes(k)?k+12-S:k-S;break;case $.ArrowDown:N=Cn(w,S),I=!((R=y==null?void 0:y[y.length-1])===null||R===void 0)&&R.includes(k)?k-12+S:k+S;break}return{newCalculatedDate:N,newCalculatedMonth:I}},T=function(P,w,k){for(var D=40,R=P,N=!1,I=0,X=v(R,w,k),Q=X.newCalculatedDate,Z=X.newCalculatedMonth;!N;){if(I>=D){Q=w,Z=k;break}if(h&&Q<h){R=$.ArrowRight;var J=v(R,Q,Z);Q=J.newCalculatedDate,Z=J.newCalculatedMonth}if(f&&Q>f){R=$.ArrowLeft;var J=v(R,Q,Z);Q=J.newCalculatedDate,Z=J.newCalculatedMonth}if(qW(Q,n.props)){var J=v(R,Q,Z);Q=J.newCalculatedDate,Z=J.newCalculatedMonth}else N=!0;I++}return{newCalculatedDate:Q,newCalculatedMonth:Z}};if(i===$.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d==null||d(l));return}var A=T(i,c,s),M=A.newCalculatedDate,V=A.newCalculatedMonth;switch(i){case $.ArrowRight:case $.ArrowLeft:case $.ArrowUp:case $.ArrowDown:n.handleMonthNavigation(V,M);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=Cp[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==$.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=Bs(n.props.day,i);kp(s,n.props)||n.handleDayClick(qT(s),r)},n.onQuarterMouseEnter=function(r){var i=Bs(n.props.day,r);kp(i,n.props)||n.handleDayMouseEnter(qT(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case $.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case $.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,Av(n.props.preSelection,1));break;case $.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,BD(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,h=Gt(o,r);return{isDisabled:(i=(a||l||c||d)&&tI(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,c=i.preSelection,d=i.monthClassName,h=d?d(Gt(s,r)):void 0;return st("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":l?n.isSelectedMonth(s,r,l):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(s,r,c),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?ac(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Lt(n.props.preSelection),s=!n.props.disabledKeyboardNavigation&&r===i?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=is(n.props.preSelection),s=!n.props.disabledKeyboardNavigation&&r===i?"0":"-1";return s},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,d=i.locale,h=Gt(c,r),f=n.isDisabled(h)||n.isExcluded(h)?l:o;return"".concat(f," ").concat(Re(h,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,d=i.maxDate,h=i.preSelection,f=i.disabledKeyboardNavigation;return st("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":(c||d)&&kp(Bs(s,r),n.props),"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&h&&n.isSelectedQuarter(s,r,h),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?uc(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,c=eI(r,a),d=Wv(r,a);return o?o(r,c,d,l):s?d:c},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=KW(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=Cp[uS(o,s)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,h){return F.createElement("div",{className:"react-datepicker__month-wrapper",key:h},d.map(function(f,g){return F.createElement("div",{ref:n.MONTH_REFS[f],key:g,onClick:function(E){n.onMonthClick(E,f)},onKeyDown:function(E){sI(E)&&(E.preventDefault(),E.key=$.Enter),n.onMonthKeyDown(E,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return F.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return F.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return st("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return F.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Re(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(b.Component),cz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return F.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?F.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return F.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},e}(b.Component),dz=Hh(cz),hz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return F.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return F.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return F.createElement(dz,pe({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return eI(s,n.props.locale)}:function(s){return Wv(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return F.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(b.Component);function fz(t,e){for(var n=[],r=yi(t),i=yi(e);!Pi(r,i);)n.push(Ee(r)),r=Cn(r,1);return n}var pz=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=pg(i),o=Rn(r.props.date,i)&&Ot(r.props.date,i);return F.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?F.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Re(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:fz(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=st({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return F.createElement("div",{className:n},this.renderOptions())},e}(b.Component),mz=Hh(pz),gz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=yi(n.props.minDate),i=yi(n.props.maxDate),s=[];!Pi(r,i);){var o=pg(r);s.push(F.createElement("option",{key:o,value:o},Re(r,n.props.dateFormat,n.props.locale))),r=Cn(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return F.createElement("select",{value:pg(yi(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Re(n.props.date,n.props.dateFormat,n.props.locale);return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return F.createElement(mz,pe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Ee(r);Rn(n.props.date,i)&&Ot(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(b.Component),yz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&ZT(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&JT(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&rz(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&ZT(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&JT(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&($n(r)*3600+Yn(r)*60+vr(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===$.Space&&(r.preventDefault(),r.key=$.Enter),(r.key===$.ArrowUp||r.key===$.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===$.ArrowDown||r.key===$.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===$.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=n.props.format?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Ee(),l=jc(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(S,y){return S.getTime()-y.getTime()}),d=60*nz(a),h=d/o,f=0;f<h;f++){var g=hg(l,f*o);if(i.push(g),c){var E=tz(l,g,f,o,c);i=i.concat(E)}}var _=i.reduce(function(S,y){return y.getTime()<=a.getTime()?y:S},i[0]);return i.map(function(S){return F.createElement("li",{key:S.valueOf(),onClick:n.handleClick.bind(n,S),className:n.liClasses(S),ref:function(y){S===_&&(n.centerLi=y)},onKeyDown:function(y){n.handleOnKeyDown(y,S)},tabIndex:S===_?0:-1,role:"option","aria-selected":n.isSelectedTime(S)?"true":void 0,"aria-disabled":n.isDisabledTime(S)?"true":void 0},Re(S,s,n.props.locale))})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return F.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},F.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(s){n.header=s}},F.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),F.createElement("div",{className:"react-datepicker__time"},F.createElement("div",{className:"react-datepicker__time-box"},F.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(b.Component),cS=3,vz=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=Ln([],Array(r.props.yearItemNumber),!0).map(function(){return b.createRef()}),r.isDisabled=function(i){return ei(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return zv(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,c,d=r.props,h=d.date,f=d.yearItemNumber;if(!(h===void 0||f===void 0)){var g=ti(h,f).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-g<0?r.updateFocusOnPaginate(f-(g-i)):i-g>=f?r.updateFocusOnPaginate(Math.abs(f-(i-g))):(c=(l=r.YEAR_REFS[i-g])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return fe(i,s)},r.isCurrentYear=function(i){return i===le(Ee())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Rn(bn(Ee(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Rn(bn(Ee(),i),r.props.endDate)},r.isInRange=function(i){return lc(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?lc(i,r.selectingDate(),d):a&&c||l&&c&&!d?lc(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=bn(Ee(),i);return l?Rn(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):Rn(c,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,d=bn(Ee(),i);return l||c?Rn(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Rn(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=ja(bn(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!fe(s,ja(r.props.selected))&&fe(s,ja(r.props.preSelection))}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(ja(bn(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,c=r.props,d=c.date,h=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==$.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case $.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case $.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,gr(r.props.preSelection,1));break;case $.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Fo(r.props.preSelection,1));break;case $.ArrowUp:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var g=ti(d,h).startPeriod,E=cS,_=s-E;if(_<g){var S=h%E;s>=g&&s<g+S?E=S:E+=S,_=s-E}r.handleYearNavigation(_,Fo(r.props.preSelection,E));break}case $.ArrowDown:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var y=ti(d,h).endPeriod,E=cS,_=s+E;if(_>y){var S=h%E;s<=y&&s>y-S?E=S:E+=S,_=s+E}r.handleYearNavigation(_,gr(r.props.preSelection,E));break}}f&&f(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.selected,d=s.excludeDates,h=s.includeDates,f=s.filterDate,g=s.yearClassName;return st("react-datepicker__year-text","react-datepicker__year-".concat(i),o?g==null?void 0:g(bn(o,i)):void 0,{"react-datepicker__year-text--selected":c?i===le(c):void 0,"react-datepicker__year-text--disabled":(a||l||d||h||f)&&nI(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=le(r.props.preSelection);return i===s?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return st("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=ti(s,o),d=c.startPeriod,h=c.endPeriod,f=function(_){r.push(F.createElement("div",{ref:g.YEAR_REFS[_-d],onClick:function(S){n.onYearClick(S,_)},onKeyDown:function(S){sI(S)&&(S.preventDefault(),S.key=$.Enter),n.onYearKeyDown(S,_)},tabIndex:Number(g.getYearTabIndex(_)),className:g.getYearClassNames(_),onMouseEnter:g.props.usePointerEvent?void 0:function(S){return a(S,_)},onPointerEnter:g.props.usePointerEvent?function(S){return a(S,_)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(S){return l(S,_)},onPointerLeave:g.props.usePointerEvent?function(S){return l(S,_)}:void 0,key:_,"aria-current":g.isCurrentYear(_)?"date":void 0},g.getYearContent(_)))},g=this,E=d;E<=h;E++)f(E);return F.createElement("div",{className:this.getYearContainerClassNames()},F.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(b.Component);function _z(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=le(n)<=o),r&&a&&(a=le(r)>=o),a&&i.push(o)}return i}var wz=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return F.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?F.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),c=r.props.minDate?le(r.props.minDate):null,d=r.props.maxDate?le(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(F.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(F.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:_z(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=b.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=st({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return F.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())},e}(b.Component),Ez=Hh(wz),Tz=function(t){at(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?le(n.props.minDate):1900,i=n.props.maxDate?le(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(F.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return F.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},F.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return F.createElement(Ez,pe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){n.onSelect(r,i),n.setOpen()},n.onSelect=function(r,i){n.props.onSelect&&n.props.onSelect(r,i)},n.setOpen=function(){n.props.setOpen&&n.props.setOpen(!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(b.Component),Sz=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],xz=function(t){var e=(t.className||"").split(/\s+/);return Sz.some(function(n){return e.indexOf(n)>=0})},Pz=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;xz(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=rI(r.props),c=iI(r.props),d=Ee(),h=a||o||s;return h||(l&&Es(d,l)?l:c&&Pi(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Cn(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Vo(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:bn(Ee(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleMonthChange=function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:bn(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:Gt(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:bn(Gt(o,Lt(i)),le(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=gi(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(F.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Oi(s,a),c=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return F.createElement("div",{key:a,"aria-label":Re(l,"EEEE",r.props.locale),className:st("react-datepicker__day-name",d)},c)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?HW(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?YW(i,s):$W(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Fo(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=nS(r.state.date,r.props);break;case r.props.showYearPicker:s=XW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=QW(r.state.date,r.props);break;default:s=eS(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,h=d.previousMonthButtonLabel,f=h===void 0?e.defaultProps.previousMonthButtonLabel:h,g=d.previousYearButtonLabel,E=g===void 0?e.defaultProps.previousYearButtonLabel:g,_=r.props,S=_.previousMonthAriaLabel,y=S===void 0?typeof f=="string"?f:"Previous Month":S,v=_.previousYearAriaLabel,T=v===void 0?typeof E=="string"?E:"Previous Year":v;return F.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?T:y},F.createElement("span",{className:o.join(" ")},c?E:f))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:gr(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=rS(r.state.date,r.props);break;case r.props.showYearPicker:s=JW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=GW(r.state.date,r.props);break;default:s=tS(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,h=d.nextMonthButtonLabel,f=h===void 0?e.defaultProps.nextMonthButtonLabel:h,g=d.nextYearButtonLabel,E=g===void 0?e.defaultProps.nextYearButtonLabel:g,_=r.props,S=_.nextMonthAriaLabel,y=S===void 0?typeof f=="string"?f:"Next Month":S,v=_.nextYearAriaLabel,T=v===void 0?typeof E=="string"?E:"Next Year":v;return F.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?T:y},F.createElement("span",{className:a.join(" ")},c?E:f))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),F.createElement("h2",{className:s.join(" ")},Re(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return F.createElement(Tz,pe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:le(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return F.createElement(hz,pe({},e.defaultProps,r.props,{month:Lt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return F.createElement(gz,pe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(QT(),i),r.props.setPreSelection&&r.props.setPreSelection(QT())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return F.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return F.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),F.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),F.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=eS(r.state.date,r.props),d=tS(r.state.date,r.props),h=nS(r.state.date,r.props),f=rS(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return F.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,pe(pe({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:h,nextYearButtonDisabled:f})),g&&F.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,d=ti(s,c),h=d.startPeriod,f=d.endPeriod;return F.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(f):le(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?gr(r.state.date,l):Vo(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=0;h<a;++h){var f=h-d+l,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?gr(c,f):Cn(c,f),E="month-".concat(h),_=h<a-1,S=h>0;o.push(F.createElement("div",{key:E,ref:function(y){r.monthContainer=y??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:h}),F.createElement(uz,pe({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:S}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return F.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),F.createElement(vz,pe({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return F.createElement(yz,pe({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&ir(i)&&!!r.props.selected,o=s?"".concat(sS(i.getHours()),":").concat(sS(i.getMinutes())):"";if(r.props.showTimeInput)return F.createElement(iz,pe({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=ti(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=le(r.state.date):l="".concat(Wv(Lt(r.state.date),r.props.locale)," ").concat(le(r.state.date)),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return F.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=b.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:fu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!fe(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Ot(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!fe(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||LW;return F.createElement("div",{style:{display:"contents"},ref:this.containerRef},F.createElement(n,{className:st("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(b.Component),kz=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?F.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):F.isValidElement(e)?F.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):F.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},F.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},oI=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return pA.createPortal(this.props.children,this.el)},e}(b.Component),Cz="[tabindex], a, button, input, select, textarea",Dz=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},aI=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Cz),1,-1).filter(Dz)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=b.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?F.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},F.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,F.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(b.Component);function Iz(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=b.useRef(null),o=OW(pe({open:!i,whileElementsMounted:fW,placement:n.popperPlacement,middleware:Ln([wW({padding:15}),_W(10),EW({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=pe(pe({},n),{hidePopper:i,popperProps:pe(pe({},o),{arrowRef:s})});return F.createElement(t,pe({},a))};return e}var bz=function(t){at(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,d=n.popperOnKeyDown,h=n.portalId,f=n.portalHost,g=n.popperProps,E=n.showArrow,_=void 0;if(!o){var S=st("react-datepicker-popper",r);_=F.createElement(aI,{enableTabLoop:c},F.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:S,"data-placement":g.placement,onKeyDown:d},a,E&&F.createElement(DW,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=b.createElement(this.props.popperContainer,{},_)),h&&!o&&(_=F.createElement(oI,{portalId:h,portalHost:f},_));var y=st("react-datepicker-wrapper",i);return F.createElement(F.Fragment,null,F.createElement("div",{ref:g.refs.setReference,className:y},l),_)},e}(b.Component),Rz=Iz(bz),dS="react-datepicker-ignore-onclickoutside",Az=Hh(Pz);function Nz(t,e){return t&&e?Lt(t)!==Lt(e)||le(t)!==le(e):t!==e}var Dp="Date input not valid.",lI=function(t){at(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ee()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return ir(a)?Ln(Ln([],s,!0),[pe(pe({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=rI(r.props),a=iI(r.props),l=o&&Es(s,jc(o))?o:a&&Pi(s,GT(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:iS(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(pe(pe({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pe(pe({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Ip},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return yr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!o||typeof o.isDefaultPrevented!="function"||o.isDefaultPrevented()))){r.setState({inputValue:(o==null?void 0:o.target)instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:Mz});var a=r.props,l=a.dateFormat,c=l===void 0?e.defaultProps.dateFormat:l,d=a.strictParsing,h=d===void 0?e.defaultProps.strictParsing:d,f=FW((o==null?void 0:o.target)instanceof HTMLInputElement?o.target.value:"",c,r.props.locale,h,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&f&&!fe(f,r.props.selected)&&(f=N6(r.props.selected,{hours:$n(f),minutes:Yn(f),seconds:vr(f)})),(f||!((o==null?void 0:o.target)instanceof HTMLInputElement)||!(o!=null&&o.target.value))&&r.setSelected(f,o,!0)}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!lS(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l=i;if(r.props.showYearPicker){if(l!==null&&nI(le(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&tI(l,r.props))return}else if(l!==null&&ei(l,r.props))return;var c=r.props,d=c.onChange,h=c.selectsRange,f=c.startDate,g=c.endDate,E=c.selectsMultiple,_=c.selectedDates,S=c.minTime,y=c.swapRange;if(!Ji(r.props.selected,l)||r.props.allowSameDay||h||E)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=Pp(l,{hour:$n(r.props.selected),minute:Yn(r.props.selected),second:vr(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&S&&(l=Pp(l,{hour:S.getHours(),minute:S.getMinutes(),second:S.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var v=!f&&!g,T=f&&!g,A=f&&g;v?d([l,null],s):T&&(l===null?d([null,null],s):lS(l,f)?d(y?[l,f]:[l,null],s):d([f,l],s)),A&&d([l,null],s)}else if(E){if(l!==null)if(!(_!=null&&_.length))d([l],s);else{var M=_.some(function(P){return fe(P,l)});if(M){var V=_.filter(function(P){return!fe(P,l)});d(V,s)}else d(Ln(Ln([],_,!0),[l],!1),s)}}else d(l,s);o||(r.props.onSelect(l,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=yr(r.props.minDate),o=yr(r.props.maxDate),a=!0;if(i){var l=jc(i);if(s&&o)a=Ua(i,r.props.minDate,r.props.maxDate);else if(s){var c=jc(r.props.minDate);a=Pi(i,c)||Ji(l,c)}else if(o){var d=GT(r.props.maxDate);a=Es(i,d)||Ji(l,d)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){if(!(r.props.selectsRange||r.props.selectsMultiple)){var s=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?i:Pp(s,{hour:$n(i),minute:Yn(i)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var d=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===$.ArrowDown||d===$.ArrowUp||d===$.Enter)&&r.onInputClick();return}if(r.state.open){if(d===$.ArrowDown||d===$.ArrowUp){i.preventDefault();var h=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((a=r.calendar)===null||a===void 0?void 0:a.componentNode)instanceof Element&&r.calendar.componentNode.querySelector(h);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var g=Ee(r.state.preSelection);d===$.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Ip?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):d===$.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):d===$.Tab&&r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Dp})}},r.onPortalKeyDown=function(i){var s=i.key;s===$.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,c=r.props,d=c.minDate,h=c.maxDate,f=c.disabledKeyboardNavigation,g=c.showWeekPicker,E=c.shouldCloseOnSelect,_=c.locale,S=c.calendarStartDay,y=c.adjustDateOnChange,v=c.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!f){var T=i.key,A=i.shiftKey,M=Ee(r.state.preSelection),V=function(I,X){var Q=X;switch(I){case $.ArrowRight:Q=g?Fd(X,1):Oi(X,1);break;case $.ArrowLeft:Q=g?FT(X,1):M6(X,1);break;case $.ArrowUp:Q=FT(X,1);break;case $.ArrowDown:Q=Fd(X,1);break;case $.PageUp:Q=A?Fo(X,1):Vo(X,1);break;case $.PageDown:Q=A?gr(X,1):Cn(X,1);break;case $.Home:Q=gi(X,_,S);break;case $.End:Q=zW(X);break}return Q},P=function(I,X){for(var Q=40,Z=I,J=!1,W=0,H=V(I,X);!J;){if(W>=Q){H=X;break}d&&H<d&&(Z=$.ArrowRight,H=ei(d,r.props)?V(Z,H):d),h&&H>h&&(Z=$.ArrowLeft,H=ei(h,r.props)?V(Z,H):h),ei(H,r.props)?((Z===$.PageUp||Z===$.Home)&&(Z=$.ArrowRight),(Z===$.PageDown||Z===$.End)&&(Z=$.ArrowLeft),H=V(Z,H)):J=!0,W++}return H};if(T===$.Enter){i.preventDefault(),r.handleSelect(M,i),!E&&r.setPreSelection(M);return}else if(T===$.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Dp});return}var w=null;switch(T){case $.ArrowLeft:case $.ArrowRight:case $.ArrowUp:case $.ArrowDown:case $.PageUp:case $.PageDown:case $.Home:case $.End:w=P(T,M);break}if(!w){r.props.onInputError&&r.props.onInputError({code:1,msg:Dp});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Ip}),y&&r.setSelected(w),r.setPreSelection(w),v){var k=Lt(M),D=Lt(w),R=le(M),N=le(w);k!==D||R!==N?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===$.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;a(o?[null,null]:null,i),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:F.createElement(Az,pe({ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:ez(r.modifyHolidays()),outsideClickIgnoreClass:dS,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(un(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+un(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(un(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?d="Selected year: ".concat(un(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?d="Selected month: ".concat(un(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(un(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(un(r.props.selected,{dateFormat:c,locale:a})),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var i,s,o,a=st(r.props.className,(i={},i[dS]=r.state.open,i)),l=r.props.customInput||F.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",d=r.props,h=d.dateFormat,f=h===void 0?e.defaultProps.dateFormat:h,g=d.locale,E=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?jW(r.props.startDate,r.props.endDate,{dateFormat:f,locale:g}):r.props.selectsMultiple?UW((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:f,locale:g}):un(r.props.selected,{dateFormat:f,locale:g});return b.cloneElement(l,(s={},s[c]=function(_){r.input=_},s.value=E,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=st(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,d=i.clearButtonTitle,h=i.clearButtonClassName,f=h===void 0?"":h,g=i.ariaLabelClose,E=g===void 0?"Close":g,_=i.selectedDates;return s&&(a!=null||l!=null||c!=null||_!=null&&_.length)?F.createElement("button",{type:"button",className:st("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":E,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:fu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&Nz(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:iS(this.props.highlightDates)}),!r.focused&&!Ji(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),F.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&F.createElement(kz,pe({icon:i,className:st(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?F.createElement(aI,{enableTabLoop:this.props.enableTabLoop},F.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=F.createElement(oI,pe({portalId:this.props.portalId},this.props),r)),F.createElement("div",null,this.renderInputContainer(),r)}return F.createElement(Rz,pe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(b.Component),Mz="input",Ip="navigate";const Oz=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState(!0),[o,a]=b.useState(null),[l,c]=b.useState(0),{admin:d}=b.useContext(Cs),h=Ps();b.useEffect(()=>{d?f():h("/login")},[]);const f=async()=>{try{s(!0);const _=kr(Cr,"datas","review"),S=await Jo(_);S.exists()?(e(S.data().review),r(S.data().review)):console.log("Data does not exist in database!")}catch(_){console.error("Error getting document:",_)}finally{s(!1)}},g=()=>{let _=t;o&&(_=_.filter(S=>{const y=new Date(S.time);return y.getFullYear()===o.getFullYear()&&y.getMonth()===o.getMonth()&&y.getDate()===o.getDate()})),l>0&&(_=_.filter(S=>S.rating===l)),r(_)};b.useEffect(()=>{g()},[o,l]);const E=()=>{a(null)};return C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(ou,{active:"adminReview"}),C.jsxs("div",{className:"flex flex-row flex-grow bg-gray-300 p-5",children:[C.jsxs("div",{className:"flex-grow",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-left mb-8",children:"View Reviews"}),i?C.jsx("div",{className:"flex justify-center items-center flex-grow",children:C.jsx("div",{children:"Loading..."})}):C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.length===0?C.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No reviews available"}):n.map((_,S)=>C.jsxs(hn.div,{whileHover:{scale:1.1},className:"bg-white p-6 rounded-lg shadow-lg",children:[C.jsx("h2",{className:"text-xl font-semibold mb-2",children:_.name}),C.jsxs("div",{className:"flex items-center mb-4",children:[Array(_.rating).fill().map((y,v)=>C.jsx(ug,{color:"#FFD700"},v)),Array(5-_.rating).fill().map((y,v)=>C.jsx(ug,{color:"#e4e5e9"},v))]}),C.jsx("p",{className:"text-gray-700 mb-4",children:_.comment}),C.jsxs("p",{className:"text-gray-500 text-sm",children:["Time: ",_.time]})]},S))})]}),C.jsx("div",{className:"w-[65vh] p-4",children:C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg mb-6",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Filter Reviews"}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block text-gray-700 mb-2",children:"Date"}),C.jsx(lI,{selected:o,onChange:_=>a(_),className:"w-full px-4 py-2 border rounded-lg ",dateFormat:"yyyy-MM-dd",placeholderText:"Select date"}),C.jsx("button",{onClick:E,className:"mt-2 w-[10vh] px-4 py-2 mx-[2vh] bg-gray-500 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 rounded-lg",children:"Clear"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-700 mb-2",children:"Rating"}),C.jsxs("select",{value:l,onChange:_=>c(parseInt(_.target.value)),className:"w-[46vh] px-4 py-2 border rounded-lg",children:[C.jsx("option",{value:0,children:"All Ratings"}),[1,2,3,4,5].map(_=>C.jsxs("option",{value:_,children:[_," Stars"]},_))]})]})]})})]})]})},Lz=()=>{const{admin:t}=b.useContext(Cs),[e,n]=b.useState([]),[r,i]=b.useState([]),[s,o]=b.useState(!0),[a,l]=b.useState(""),[c,d]=b.useState(""),[h,f]=b.useState(null),g=Ps();b.useEffect(()=>{t?E():g("/login")},[]);const E=async()=>{try{o(!0);const y=kr(Cr,"datas","reservation"),v=await Jo(y);if(v.exists()){const T=v.data().reservation;n(T),i(T)}else console.log("Data does not exist in database!")}catch(y){console.error("Error getting document:",y)}finally{o(!1)}},_=()=>{let y=e;a&&(y=y.filter(v=>v.branch===a)),c&&(y=y.filter(v=>v.serviceType===c)),h&&(y=y.filter(v=>new Date(v.reservationDate).toDateString()===h.toDateString())),i(y)};b.useEffect(()=>{_()},[a,c,h]);const S=()=>{l(""),d(""),f(null),i(e)};return C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(ou,{active:"adminReservation"}),C.jsxs("div",{className:"flex-grow bg-gray-300 p-5",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-left mb-8",children:"View Reservations"}),C.jsx("div",{className:"mb-8",children:C.jsxs("div",{className:"flex space-x-4",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("label",{className:"block text-gray-700 mb-2",children:"Branch"}),C.jsxs("select",{value:a,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border rounded-lg",children:[C.jsx("option",{value:"",children:"All Branches"}),C.jsx("option",{value:"Deket rumah fred",children:"Deket rumah fred"}),C.jsx("option",{value:"Disitu",children:"Disitu"}),C.jsx("option",{value:"Disana",children:"Disana"})]})]}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("label",{className:"block text-gray-700 mb-2",children:"Service Type"}),C.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"w-full px-4 py-2 border rounded-lg",children:[C.jsx("option",{value:"",children:"All Service Types"}),C.jsx("option",{value:"Haircuts and styling",children:"Haircuts and styling"}),C.jsx("option",{value:"Manicure and pedicure",children:"Manicure and pedicure"}),C.jsx("option",{value:"Facial treatment",children:"Facial treatment"})]})]}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("label",{className:"block text-gray-700 mb-2",children:"Date"}),C.jsx(lI,{selected:h,onChange:y=>f(y),className:"w-full px-4 py-2 border rounded-lg",dateFormat:"yyyy-MM-dd",placeholderText:"Select date"})]}),C.jsx("div",{className:"flex items-end",children:C.jsx("button",{onClick:S,className:"px-4 py-2 bg-gray-500 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-50 rounded-lg",children:"Clear Filters"})})]})}),s?C.jsx("div",{className:"flex justify-center items-center flex-grow",children:C.jsx("div",{children:"Loading..."})}):C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-2 border",children:"Name"}),C.jsx("th",{className:"px-4 py-2 border",children:"Phone"}),C.jsx("th",{className:"px-4 py-2 border",children:"Branch"}),C.jsx("th",{className:"px-4 py-2 border",children:"Service Type"}),C.jsx("th",{className:"px-4 py-2 border",children:"Date"}),C.jsx("th",{className:"px-4 py-2 border",children:"Time"})]})}),C.jsx("tbody",{children:r.length===0?C.jsx("tr",{children:C.jsx("td",{colSpan:"6",className:"text-center p-4 text-gray-500",children:"No reservations available"})}):r.map((y,v)=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-4 py-2 border",children:y.name}),C.jsx("td",{className:"px-4 py-2 border",children:y.phoneNumber}),C.jsx("td",{className:"px-4 py-2 border",children:y.branch}),C.jsx("td",{className:"px-4 py-2 border",children:y.serviceType}),C.jsx("td",{className:"px-4 py-2 border",children:y.reservationDate}),C.jsx("td",{className:"px-4 py-2 border",children:y.reservationTime})]},v))})]})})]})]})};function Vz(){return b.useEffect(()=>{window.history.scrollRestoration="manual"},[]),C.jsx(C.Fragment,{children:C.jsx(oN,{basename:"/sea-salon",children:C.jsxs(rN,{children:[C.jsx(jr,{path:"/",element:C.jsx(OB,{})}),C.jsx(jr,{path:"/register",element:C.jsx(r5,{})}),C.jsx(jr,{path:"/review",element:C.jsx(GB,{})}),C.jsx(jr,{path:"/reservation",element:C.jsx(XB,{})}),C.jsx(jr,{path:"/login",element:C.jsx(i5,{})}),C.jsx(jr,{path:"/adminReview",element:C.jsx(Oz,{})}),C.jsx(jr,{path:"/adminReservation",element:C.jsx(Lz,{})})]})})})}const Fz=({children:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(!1),[s,o]=b.useState({name:"Not Logged In",email:"null@mail.com",phone:"000000000",role:"Customer",uid:"000000000000000000000000"}),[a,l]=b.useState(!1),c=async d=>{try{i(!0);const h=kr(Cr,"users",d),f=await Jo(h);if(f.exists())o(f.data()),f.data().role==="Admin"&&l(!0);else return console.log("Data does not exist in database!"),null}catch(h){return console.error("Error getting document:",h),null}finally{i(!1)}};return b.useEffect(()=>FO(Vh,h=>{n(h),h?c(h.email):(o({name:"Not Signed In",email:"null@mail.com",phone:"000000000",role:"Customer",uid:"000000000000000000000000"}),l(!1)),console.log(h)}),[]),C.jsx(Cs.Provider,{value:{userData:s,user:e,setUserData:o,setAdmin:l,admin:a},children:t})};bp.createRoot(document.getElementById("root")).render(C.jsx(F.StrictMode,{children:C.jsx(Fz,{children:C.jsx(Vz,{})})}));
